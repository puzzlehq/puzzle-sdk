(function(Me,me){typeof exports=="object"&&typeof module<"u"?me(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],me):(Me=typeof globalThis<"u"?globalThis:Me||self,me(Me["@puzzlehq/sdk"]={},Me.React))})(this,function(Me,me){"use strict";var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function en(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var vo={exports:{}},ai={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl;function O0(){if(yl)return ai;yl=1;var e=me,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var f,g={},d=null,w=null;u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),c.ref!==void 0&&(w=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(g[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)g[f]===void 0&&(g[f]=c[f]);return{$$typeof:t,type:a,key:d,ref:w,props:g,_owner:i.current}}return ai.Fragment=r,ai.jsx=o,ai.jsxs=o,ai}var ci={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl;function D0(){return wl||(wl=1,process.env.NODE_ENV!=="production"&&function(){var e=me,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function C(O){if(O===null||typeof O!="object")return null;var B=v&&O[v]||O[E];return typeof B=="function"?B:null}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(O){{for(var B=arguments.length,Z=new Array(B>1?B-1:0),ae=1;ae<B;ae++)Z[ae-1]=arguments[ae];S("error",O,Z)}}function S(O,B,Z){{var ae=A.ReactDebugCurrentFrame,Fe=ae.getStackAddendum();Fe!==""&&(B+="%s",Z=Z.concat([Fe]));var Ae=Z.map(function(Te){return String(Te)});Ae.unshift("Warning: "+B),Function.prototype.apply.call(console[O],console,Ae)}}var y=!1,x=!1,p=!1,l=!1,m=!1,M;M=Symbol.for("react.module.reference");function L(O){return!!(typeof O=="string"||typeof O=="function"||O===n||O===s||m||O===i||O===u||O===f||l||O===w||y||x||p||typeof O=="object"&&O!==null&&(O.$$typeof===d||O.$$typeof===g||O.$$typeof===o||O.$$typeof===a||O.$$typeof===c||O.$$typeof===M||O.getModuleId!==void 0))}function U(O,B,Z){var ae=O.displayName;if(ae)return ae;var Fe=B.displayName||B.name||"";return Fe!==""?Z+"("+Fe+")":Z}function j(O){return O.displayName||"Context"}function F(O){if(O==null)return null;if(typeof O.tag=="number"&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;switch(O){case n:return"Fragment";case r:return"Portal";case s:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case f:return"SuspenseList"}if(typeof O=="object")switch(O.$$typeof){case a:var B=O;return j(B)+".Consumer";case o:var Z=O;return j(Z._context)+".Provider";case c:return U(O,O.render,"ForwardRef");case g:var ae=O.displayName||null;return ae!==null?ae:F(O.type)||"Memo";case d:{var Fe=O,Ae=Fe._payload,Te=Fe._init;try{return F(Te(Ae))}catch{return null}}}return null}var D=Object.assign,P=0,G,W,z,H,k,q,ce;function K(){}K.__reactDisabledLog=!0;function se(){{if(P===0){G=console.log,W=console.info,z=console.warn,H=console.error,k=console.group,q=console.groupCollapsed,ce=console.groupEnd;var O={configurable:!0,enumerable:!0,value:K,writable:!0};Object.defineProperties(console,{info:O,log:O,warn:O,error:O,group:O,groupCollapsed:O,groupEnd:O})}P++}}function ee(){{if(P--,P===0){var O={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:D({},O,{value:G}),info:D({},O,{value:W}),warn:D({},O,{value:z}),error:D({},O,{value:H}),group:D({},O,{value:k}),groupCollapsed:D({},O,{value:q}),groupEnd:D({},O,{value:ce})})}P<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ie=A.ReactCurrentDispatcher,N;function R(O,B,Z){{if(N===void 0)try{throw Error()}catch(Fe){var ae=Fe.stack.trim().match(/\n( *(at )?)/);N=ae&&ae[1]||""}return`
`+N+O}}var $=!1,h;{var I=typeof WeakMap=="function"?WeakMap:Map;h=new I}function Y(O,B){if(!O||$)return"";{var Z=h.get(O);if(Z!==void 0)return Z}var ae;$=!0;var Fe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ae;Ae=ie.current,ie.current=null,se();try{if(B){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(fr){ae=fr}Reflect.construct(O,[],Te)}else{try{Te.call()}catch(fr){ae=fr}O.call(Te.prototype)}}else{try{throw Error()}catch(fr){ae=fr}O()}}catch(fr){if(fr&&ae&&typeof fr.stack=="string"){for(var De=fr.stack.split(`
`),$t=ae.stack.split(`
`),rt=De.length-1,lt=$t.length-1;rt>=1&&lt>=0&&De[rt]!==$t[lt];)lt--;for(;rt>=1&&lt>=0;rt--,lt--)if(De[rt]!==$t[lt]){if(rt!==1||lt!==1)do if(rt--,lt--,lt<0||De[rt]!==$t[lt]){var vt=`
`+De[rt].replace(" at new "," at ");return O.displayName&&vt.includes("<anonymous>")&&(vt=vt.replace("<anonymous>",O.displayName)),typeof O=="function"&&h.set(O,vt),vt}while(rt>=1&&lt>=0);break}}}finally{$=!1,ie.current=Ae,ee(),Error.prepareStackTrace=Fe}var Jr=O?O.displayName||O.name:"",uo=Jr?R(Jr):"";return typeof O=="function"&&h.set(O,uo),uo}function Q(O,B,Z){return Y(O,!1)}function Se(O){var B=O.prototype;return!!(B&&B.isReactComponent)}function xe(O,B,Z){if(O==null)return"";if(typeof O=="function")return Y(O,Se(O));if(typeof O=="string")return R(O);switch(O){case u:return R("Suspense");case f:return R("SuspenseList")}if(typeof O=="object")switch(O.$$typeof){case c:return Q(O.render);case g:return xe(O.type,B,Z);case d:{var ae=O,Fe=ae._payload,Ae=ae._init;try{return xe(Ae(Fe),B,Z)}catch{}}}return""}var ye=Object.prototype.hasOwnProperty,Ne={},Xe=A.ReactDebugCurrentFrame;function He(O){if(O){var B=O._owner,Z=xe(O.type,O._source,B?B.type:null);Xe.setExtraStackFrame(Z)}else Xe.setExtraStackFrame(null)}function $e(O,B,Z,ae,Fe){{var Ae=Function.call.bind(ye);for(var Te in O)if(Ae(O,Te)){var De=void 0;try{if(typeof O[Te]!="function"){var $t=Error((ae||"React class")+": "+Z+" type `"+Te+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof O[Te]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw $t.name="Invariant Violation",$t}De=O[Te](B,Te,ae,Z,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(rt){De=rt}De&&!(De instanceof Error)&&(He(Fe),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ae||"React class",Z,Te,typeof De),He(null)),De instanceof Error&&!(De.message in Ne)&&(Ne[De.message]=!0,He(Fe),b("Failed %s type: %s",Z,De.message),He(null))}}}var Ie=Array.isArray;function we(O){return Ie(O)}function be(O){{var B=typeof Symbol=="function"&&Symbol.toStringTag,Z=B&&O[Symbol.toStringTag]||O.constructor.name||"Object";return Z}}function ve(O){try{return de(O),!1}catch{return!0}}function de(O){return""+O}function he(O){if(ve(O))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",be(O)),de(O)}var oe=A.ReactCurrentOwner,_e={key:!0,ref:!0,__self:!0,__source:!0},Oe,le,Ce;Ce={};function Le(O){if(ye.call(O,"ref")){var B=Object.getOwnPropertyDescriptor(O,"ref").get;if(B&&B.isReactWarning)return!1}return O.ref!==void 0}function Be(O){if(ye.call(O,"key")){var B=Object.getOwnPropertyDescriptor(O,"key").get;if(B&&B.isReactWarning)return!1}return O.key!==void 0}function ke(O,B){if(typeof O.ref=="string"&&oe.current&&B&&oe.current.stateNode!==B){var Z=F(oe.current.type);Ce[Z]||(b('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',F(oe.current.type),O.ref),Ce[Z]=!0)}}function je(O,B){{var Z=function(){Oe||(Oe=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",B))};Z.isReactWarning=!0,Object.defineProperty(O,"key",{get:Z,configurable:!0})}}function Qt(O,B){{var Z=function(){le||(le=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",B))};Z.isReactWarning=!0,Object.defineProperty(O,"ref",{get:Z,configurable:!0})}}var ir=function(O,B,Z,ae,Fe,Ae,Te){var De={$$typeof:t,type:O,key:B,ref:Z,props:Te,_owner:Ae};return De._store={},Object.defineProperty(De._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(De,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ae}),Object.defineProperty(De,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Fe}),Object.freeze&&(Object.freeze(De.props),Object.freeze(De)),De};function Er(O,B,Z,ae,Fe){{var Ae,Te={},De=null,$t=null;Z!==void 0&&(he(Z),De=""+Z),Be(B)&&(he(B.key),De=""+B.key),Le(B)&&($t=B.ref,ke(B,Fe));for(Ae in B)ye.call(B,Ae)&&!_e.hasOwnProperty(Ae)&&(Te[Ae]=B[Ae]);if(O&&O.defaultProps){var rt=O.defaultProps;for(Ae in rt)Te[Ae]===void 0&&(Te[Ae]=rt[Ae])}if(De||$t){var lt=typeof O=="function"?O.displayName||O.name||"Unknown":O;De&&je(Te,lt),$t&&Qt(Te,lt)}return ir(O,De,$t,Fe,ae,oe.current,Te)}}var At=A.ReactCurrentOwner,Sr=A.ReactDebugCurrentFrame;function sr(O){if(O){var B=O._owner,Z=xe(O.type,O._source,B?B.type:null);Sr.setExtraStackFrame(Z)}else Sr.setExtraStackFrame(null)}var Yr;Yr=!1;function Qe(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function Ge(){{if(At.current){var O=F(At.current.type);if(O)return`

Check the render method of \``+O+"`."}return""}}function ot(O){{if(O!==void 0){var B=O.fileName.replace(/^.*[\\\/]/,""),Z=O.lineNumber;return`

Check your code at `+B+":"+Z+"."}return""}}var tt={};function at(O){{var B=Ge();if(!B){var Z=typeof O=="string"?O:O.displayName||O.name;Z&&(B=`

Check the top-level render call using <`+Z+">.")}return B}}function Ye(O,B){{if(!O._store||O._store.validated||O.key!=null)return;O._store.validated=!0;var Z=at(B);if(tt[Z])return;tt[Z]=!0;var ae="";O&&O._owner&&O._owner!==At.current&&(ae=" It was passed a child from "+F(O._owner.type)+"."),sr(O),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Z,ae),sr(null)}}function ft(O,B){{if(typeof O!="object")return;if(we(O))for(var Z=0;Z<O.length;Z++){var ae=O[Z];Qe(ae)&&Ye(ae,B)}else if(Qe(O))O._store&&(O._store.validated=!0);else if(O){var Fe=C(O);if(typeof Fe=="function"&&Fe!==O.entries)for(var Ae=Fe.call(O),Te;!(Te=Ae.next()).done;)Qe(Te.value)&&Ye(Te.value,B)}}}function mt(O){{var B=O.type;if(B==null||typeof B=="string")return;var Z;if(typeof B=="function")Z=B.propTypes;else if(typeof B=="object"&&(B.$$typeof===c||B.$$typeof===g))Z=B.propTypes;else return;if(Z){var ae=F(B);$e(Z,O.props,"prop",ae,O)}else if(B.PropTypes!==void 0&&!Yr){Yr=!0;var Fe=F(B);b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Fe||"Unknown")}typeof B.getDefaultProps=="function"&&!B.getDefaultProps.isReactClassApproved&&b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function yt(O){{for(var B=Object.keys(O.props),Z=0;Z<B.length;Z++){var ae=B[Z];if(ae!=="children"&&ae!=="key"){sr(O),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ae),sr(null);break}}O.ref!==null&&(sr(O),b("Invalid attribute `ref` supplied to `React.Fragment`."),sr(null))}}function dt(O,B,Z,ae,Fe,Ae){{var Te=L(O);if(!Te){var De="";(O===void 0||typeof O=="object"&&O!==null&&Object.keys(O).length===0)&&(De+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var $t=ot(Fe);$t?De+=$t:De+=Ge();var rt;O===null?rt="null":we(O)?rt="array":O!==void 0&&O.$$typeof===t?(rt="<"+(F(O.type)||"Unknown")+" />",De=" Did you accidentally export a JSX literal instead of a component?"):rt=typeof O,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",rt,De)}var lt=Er(O,B,Z,Fe,Ae);if(lt==null)return lt;if(Te){var vt=B.children;if(vt!==void 0)if(ae)if(we(vt)){for(var Jr=0;Jr<vt.length;Jr++)ft(vt[Jr],O);Object.freeze&&Object.freeze(vt)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ft(vt,O)}return O===n?yt(lt):mt(lt),lt}}function wt(O,B,Z){return dt(O,B,Z,!0)}function pt(O,B,Z){return dt(O,B,Z,!1)}var ct=pt,Ke=wt;ci.Fragment=n,ci.jsx=ct,ci.jsxs=Ke}()),ci}process.env.NODE_ENV==="production"?vo.exports=O0():vo.exports=D0();var bo=vo.exports;const I0=Symbol(),vl=Object.getPrototypeOf,_o=new WeakMap,C0=e=>e&&(_o.has(e)?_o.get(e):vl(e)===Object.prototype||vl(e)===Array.prototype),A0=e=>C0(e)&&e[I0]||null,bl=(e,t=!0)=>{_o.set(e,t)},Eo=e=>typeof e=="object"&&e!==null,Tr=new WeakMap,os=new WeakSet,$0=(e=Object.is,t=(f,g)=>new Proxy(f,g),r=f=>Eo(f)&&!os.has(f)&&(Array.isArray(f)||!(Symbol.iterator in f))&&!(f instanceof WeakMap)&&!(f instanceof WeakSet)&&!(f instanceof Error)&&!(f instanceof Number)&&!(f instanceof Date)&&!(f instanceof String)&&!(f instanceof RegExp)&&!(f instanceof ArrayBuffer),n=f=>f.configurable&&f.enumerable&&f.writable,i=f=>{switch(f.status){case"fulfilled":return f.value;case"rejected":throw f.reason;default:throw f}},s=new WeakMap,o=(f,g,d=i)=>{const w=s.get(f);if((w==null?void 0:w[0])===g)return w[1];const v=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f));return bl(v,!0),s.set(f,[g,v]),Reflect.ownKeys(f).forEach(E=>{if(Object.getOwnPropertyDescriptor(v,E))return;const C=Reflect.get(f,E),A={value:C,enumerable:!0,configurable:!0};if(os.has(C))bl(C,!1);else if(C instanceof Promise)delete A.value,A.get=()=>d(C);else if(Tr.has(C)){const[b,S]=Tr.get(C);A.value=o(b,S(),d)}Object.defineProperty(v,E,A)}),Object.preventExtensions(v)},a=new WeakMap,c=[1,1],u=f=>{if(!Eo(f))throw new Error("object required");const g=a.get(f);if(g)return g;let d=c[0];const w=new Set,v=(U,j=++c[0])=>{d!==j&&(d=j,w.forEach(F=>F(U,j)))};let E=c[1];const C=(U=++c[1])=>(E!==U&&!w.size&&(E=U,b.forEach(([j])=>{const F=j[1](U);F>d&&(d=F)})),d),A=U=>(j,F)=>{const D=[...j];D[1]=[U,...D[1]],v(D,F)},b=new Map,S=(U,j)=>{if(w.size){const F=j[3](A(U));b.set(U,[j,F])}else b.set(U,[j])},y=U=>{var j;const F=b.get(U);F&&(b.delete(U),(j=F[1])==null||j.call(F))},x=U=>(w.add(U),w.size===1&&b.forEach(([F,D],P)=>{const G=F[3](A(P));b.set(P,[F,G])}),()=>{w.delete(U),w.size===0&&b.forEach(([F,D],P)=>{D&&(D(),b.set(P,[F]))})}),p=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f)),l=(U,j,F,D,P)=>{if(U&&(e(j,D)||a.has(D)&&e(j,a.get(D))))return;y(F),Eo(D)&&(D=A0(D)||D);let G=D;if(D instanceof Promise)D.then(W=>{D.status="fulfilled",D.value=W,v(["resolve",[F],W])}).catch(W=>{D.status="rejected",D.reason=W,v(["reject",[F],W])});else{!Tr.has(D)&&r(D)&&(G=u(D));const W=!os.has(G)&&Tr.get(G);W&&S(F,W)}P(G),v(["set",[F],D,j])},M=t(p,{deleteProperty(U,j){const F=Reflect.get(U,j);y(j);const D=Reflect.deleteProperty(U,j);return D&&v(["delete",[j],F]),D},set(U,j,F,D){const P=Reflect.has(U,j),G=Reflect.get(U,j,D);return l(P,G,j,F,W=>{Reflect.set(U,j,W,D)}),!0},defineProperty(U,j,F){if(n(F)){const D=Reflect.getOwnPropertyDescriptor(U,j);if(!D||n(D))return l(!!D&&"value"in D,D==null?void 0:D.value,j,F.value,P=>{Reflect.defineProperty(U,j,{...F,value:P})}),!0}return Reflect.defineProperty(U,j,F)}});a.set(f,M);const L=[p,C,o,x];return Tr.set(M,L),Reflect.ownKeys(f).forEach(U=>{const j=Object.getOwnPropertyDescriptor(f,U);"value"in j&&(M[U]=f[U],delete j.value,delete j.writable),Object.defineProperty(p,U,j)}),M})=>[u,Tr,os,e,t,r,n,i,s,o,a,c],[T0]=$0();function Pr(e={}){return T0(e)}function tn(e,t,r){const n=Tr.get(e);let i;const s=[],o=n[3];let a=!1;const u=o(f=>{if(s.push(f),r){t(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function P0(e,t){const r=Tr.get(e),[n,i,s]=r;return s(n,i(),t)}const _t=Pr({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),et={state:_t,subscribe(e){return tn(_t,()=>e(_t))},push(e,t){e!==_t.view&&(_t.view=e,t&&(_t.data=t),_t.history.push(e))},reset(e){_t.view=e,_t.history=[e]},replace(e){_t.history.length>1&&(_t.history[_t.history.length-1]=e,_t.view=e)},goBack(){if(_t.history.length>1){_t.history.pop();const[e]=_t.history.slice(-1);_t.view=e}},setData(e){_t.data=e}},ne={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return ne.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const e=navigator.userAgent.toLowerCase();return ne.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},isArray(e){return Array.isArray(e)&&e.length>0},formatNativeUrl(e,t,r){if(ne.isHttpUrl(e))return this.formatUniversalUrl(e,t,r);let n=e;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(t);return`${n}wc?uri=${i}`},formatUniversalUrl(e,t,r){if(!ne.isHttpUrl(e))return this.formatNativeUrl(e,t,r);let n=e;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(t);return`${n}wc?uri=${i}`},async wait(e){return new Promise(t=>{setTimeout(t,e)})},openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(ne.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(ne.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(ne.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(ne.WCM_VERSION,"2.6.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=(e=et.state.data)==null?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},R0=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),Pt=Pr({enabled:R0,userSessionId:"",events:[],connectedWalletId:void 0}),_l={state:Pt,subscribe(e){return tn(Pt.events,()=>e(P0(Pt.events[Pt.events.length-1])))},initialize(){Pt.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(Pt.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){Pt.connectedWalletId=e},click(e){if(Pt.enabled){const t={type:"CLICK",name:e.name,userSessionId:Pt.userSessionId,timestamp:Date.now(),data:e};Pt.events.push(t)}},track(e){if(Pt.enabled){const t={type:"TRACK",name:e.name,userSessionId:Pt.userSessionId,timestamp:Date.now(),data:e};Pt.events.push(t)}},view(e){if(Pt.enabled){const t={type:"VIEW",name:e.name,userSessionId:Pt.userSessionId,timestamp:Date.now(),data:e};Pt.events.push(t)}}},pr=Pr({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),ht={state:pr,subscribe(e){return tn(pr,()=>e(pr))},setChains(e){pr.chains=e},setWalletConnectUri(e){pr.walletConnectUri=e},setIsCustomDesktop(e){pr.isCustomDesktop=e},setIsCustomMobile(e){pr.isCustomMobile=e},setIsDataLoaded(e){pr.isDataLoaded=e},setIsUiLoaded(e){pr.isUiLoaded=e},setIsAuth(e){pr.isAuth=e}},as=Pr({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Gt={state:as,subscribe(e){return tn(as,()=>e(as))},setConfig(e){var t,r;_l.initialize(),ht.setChains(e.chains),ht.setIsAuth(!!e.enableAuthMode),ht.setIsCustomMobile(!!((t=e.mobileWallets)!=null&&t.length)),ht.setIsCustomDesktop(!!((r=e.desktopWallets)!=null&&r.length)),ne.setModalVersionInStorage(),Object.assign(as,e)}};var N0=Object.defineProperty,El=Object.getOwnPropertySymbols,L0=Object.prototype.hasOwnProperty,M0=Object.prototype.propertyIsEnumerable,Sl=(e,t,r)=>t in e?N0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U0=(e,t)=>{for(var r in t||(t={}))L0.call(t,r)&&Sl(e,r,t[r]);if(El)for(var r of El(t))M0.call(t,r)&&Sl(e,r,t[r]);return e};const So="https://explorer-api.walletconnect.com",xo="wcm",Oo="js-2.6.1";async function cs(e,t){const r=U0({sdkType:xo,sdkVersion:Oo},t),n=new URL(e,So);return n.searchParams.append("projectId",Gt.state.projectId),Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,String(s))}),(await fetch(n)).json()}const rn={async getDesktopListings(e){return cs("/w3m/v1/getDesktopListings",e)},async getMobileListings(e){return cs("/w3m/v1/getMobileListings",e)},async getInjectedListings(e){return cs("/w3m/v1/getInjectedListings",e)},async getAllListings(e){return cs("/w3m/v1/getAllListings",e)},getWalletImageUrl(e){return`${So}/w3m/v1/getWalletImage/${e}?projectId=${Gt.state.projectId}&sdkType=${xo}&sdkVersion=${Oo}`},getAssetImageUrl(e){return`${So}/w3m/v1/getAssetImage/${e}?projectId=${Gt.state.projectId}&sdkType=${xo}&sdkVersion=${Oo}`}};var j0=Object.defineProperty,xl=Object.getOwnPropertySymbols,F0=Object.prototype.hasOwnProperty,B0=Object.prototype.propertyIsEnumerable,Ol=(e,t,r)=>t in e?j0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k0=(e,t)=>{for(var r in t||(t={}))F0.call(t,r)&&Ol(e,r,t[r]);if(xl)for(var r of xl(t))B0.call(t,r)&&Ol(e,r,t[r]);return e};const Dl=ne.isMobile(),gr=Pr({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),Wt={state:gr,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=Gt.state;if(e==="NONE"||t==="ALL"&&!e)return gr.recomendedWallets;if(ne.isArray(e)){const r={recommendedIds:e.join(",")},{listings:n}=await rn.getAllListings(r),i=Object.values(n);i.sort((s,o)=>{const a=e.indexOf(s.id),c=e.indexOf(o.id);return a-c}),gr.recomendedWallets=i}else{const{chains:r,isAuth:n}=ht.state,i=r==null?void 0:r.join(","),s=ne.isArray(t),o={page:1,sdks:n?"auth_v1":void 0,entries:ne.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:s?t.join(","):void 0},{listings:a}=Dl?await rn.getMobileListings(o):await rn.getDesktopListings(o);gr.recomendedWallets=Object.values(a)}return gr.recomendedWallets},async getWallets(e){const t=k0({},e),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=Gt.state,{recomendedWallets:i}=gr;if(n==="ALL")return gr.wallets;i.length?t.excludedIds=i.map(g=>g.id).join(","):ne.isArray(r)&&(t.excludedIds=r.join(",")),ne.isArray(n)&&(t.excludedIds=[t.excludedIds,n].filter(Boolean).join(",")),ht.state.isAuth&&(t.sdks="auth_v1");const{page:s,search:o}=e,{listings:a,total:c}=Dl?await rn.getMobileListings(t):await rn.getDesktopListings(t),u=Object.values(a),f=o?"search":"wallets";return gr[f]={listings:[...gr[f].listings,...u],total:c,page:s??1},{listings:u,total:c}},getWalletImageUrl(e){return rn.getWalletImageUrl(e)},getAssetImageUrl(e){return rn.getAssetImageUrl(e)},resetSearch(){gr.search={listings:[],total:0,page:1}}},An=Pr({open:!1}),nn={state:An,subscribe(e){return tn(An,()=>e(An))},async open(e){return new Promise(t=>{const{isUiLoaded:r,isDataLoaded:n}=ht.state;if(ne.removeWalletConnectDeepLink(),ht.setWalletConnectUri(e==null?void 0:e.uri),ht.setChains(e==null?void 0:e.chains),et.reset("ConnectWallet"),r&&n)An.open=!0,t();else{const i=setInterval(()=>{const s=ht.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(i),An.open=!0,t())},200)}})},close(){An.open=!1}};var z0=Object.defineProperty,Il=Object.getOwnPropertySymbols,W0=Object.prototype.hasOwnProperty,V0=Object.prototype.propertyIsEnumerable,Cl=(e,t,r)=>t in e?z0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H0=(e,t)=>{for(var r in t||(t={}))W0.call(t,r)&&Cl(e,r,t[r]);if(Il)for(var r of Il(t))V0.call(t,r)&&Cl(e,r,t[r]);return e};function q0(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const li=Pr({themeMode:q0()?"dark":"light"}),Rr={state:li,subscribe(e){return tn(li,()=>e(li))},setThemeConfig(e){const{themeMode:t,themeVariables:r}=e;t&&(li.themeMode=t),r&&(li.themeVariables=H0({},r))}},sn=Pr({open:!1,message:"",variant:"success"}),Nr={state:sn,subscribe(e){return tn(sn,()=>e(sn))},openToast(e,t){sn.open=!0,sn.message=e,sn.variant=t},closeToast(){sn.open=!1}};let K0=class{constructor(t){this.openModal=nn.open,this.closeModal=nn.close,this.subscribeModal=nn.subscribe,this.setTheme=Rr.setThemeConfig,Rr.setThemeConfig(t),Gt.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(()=>N4);const t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),ht.setIsUiLoaded(!0)}}};var Do={exports:{}},$n=typeof Reflect=="object"?Reflect:null,Al=$n&&typeof $n.apply=="function"?$n.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},ls;$n&&typeof $n.ownKeys=="function"?ls=$n.ownKeys:Object.getOwnPropertySymbols?ls=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ls=function(t){return Object.getOwnPropertyNames(t)};function G0(e){console&&console.warn&&console.warn(e)}var $l=Number.isNaN||function(t){return t!==t};function Ve(){Ve.init.call(this)}Do.exports=Ve,Do.exports.once=X0,Ve.EventEmitter=Ve,Ve.prototype._events=void 0,Ve.prototype._eventsCount=0,Ve.prototype._maxListeners=void 0;var Tl=10;function us(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ve,"defaultMaxListeners",{enumerable:!0,get:function(){return Tl},set:function(e){if(typeof e!="number"||e<0||$l(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Tl=e}}),Ve.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ve.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||$l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Pl(e){return e._maxListeners===void 0?Ve.defaultMaxListeners:e._maxListeners}Ve.prototype.getMaxListeners=function(){return Pl(this)},Ve.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")Al(c,this,r);else for(var u=c.length,f=Ul(c,u),n=0;n<u;++n)Al(f[n],this,r);return!0};function Rl(e,t,r,n){var i,s,o;if(us(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Pl(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,G0(a)}return e}Ve.prototype.addListener=function(t,r){return Rl(this,t,r,!1)},Ve.prototype.on=Ve.prototype.addListener,Ve.prototype.prependListener=function(t,r){return Rl(this,t,r,!0)};function Y0(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nl(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Y0.bind(n);return i.listener=r,n.wrapFn=i,i}Ve.prototype.once=function(t,r){return us(r),this.on(t,Nl(this,t,r)),this},Ve.prototype.prependOnceListener=function(t,r){return us(r),this.prependListener(t,Nl(this,t,r)),this},Ve.prototype.removeListener=function(t,r){var n,i,s,o,a;if(us(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():J0(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this},Ve.prototype.off=Ve.prototype.removeListener,Ve.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function Ll(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Z0(i):Ul(i,i.length)}Ve.prototype.listeners=function(t){return Ll(this,t,!0)},Ve.prototype.rawListeners=function(t){return Ll(this,t,!1)},Ve.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Ml.call(e,t)},Ve.prototype.listenerCount=Ml;function Ml(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ve.prototype.eventNames=function(){return this._eventsCount>0?ls(this._events):[]};function Ul(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function J0(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Z0(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function X0(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}jl(e,t,s,{once:!0}),t!=="error"&&Q0(e,i,{once:!0})})}function Q0(e,t,r){typeof e.on=="function"&&jl(e,"error",t,r)}function jl(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var cr=Do.exports;const Fl=wo(cr);var hs={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Io=function(e,t){return Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Io(e,t)};function e1(e,t){Io(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Co=function(){return Co=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Co.apply(this,arguments)};function t1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function r1(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function n1(e,t){return function(r,n){t(r,n,e)}}function i1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function s1(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{u(n.next(f))}catch(g){o(g)}}function c(f){try{u(n.throw(f))}catch(g){o(g)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function o1(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function a1(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function c1(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ao(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function l1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bl(arguments[t]));return e}function u1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function ui(e){return this instanceof ui?(this.v=e,this):new ui(e)}function h1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(w){return new Promise(function(v,E){s.push([d,w,v,E])>1||a(d,w)})})}function a(d,w){try{c(n[d](w))}catch(v){g(s[0][3],v)}}function c(d){d.value instanceof ui?Promise.resolve(d.value.v).then(u,f):g(s[0][2],d)}function u(d){a("next",d)}function f(d){a("throw",d)}function g(d,w){d(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function f1(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:ui(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function d1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ao=="function"?Ao(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function p1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function g1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function m1(e){return e&&e.__esModule?e:{default:e}}function y1(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function w1(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const kl=en(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Co},__asyncDelegator:f1,__asyncGenerator:h1,__asyncValues:d1,__await:ui,__awaiter:s1,__classPrivateFieldGet:y1,__classPrivateFieldSet:w1,__createBinding:a1,__decorate:r1,__exportStar:c1,__extends:e1,__generator:o1,__importDefault:m1,__importStar:g1,__makeTemplateObject:p1,__metadata:i1,__param:n1,__read:Bl,__rest:t1,__spread:l1,__spreadArrays:u1,__values:Ao},Symbol.toStringTag,{value:"Module"})));var hi={};Object.defineProperty(hi,"__esModule",{value:!0});function v1(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch{return e}}hi.safeJsonParse=v1;function b1(e){return typeof e=="string"?e:JSON.stringify(e,(t,r)=>typeof r>"u"?null:r)}hi.safeJsonStringify=b1;var fi={exports:{}},zl;function _1(){return zl||(zl=1,function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Kt<"u"&&Kt.localStorage?fi.exports=Kt.localStorage:typeof window<"u"&&window.localStorage?fi.exports=window.localStorage:fi.exports=new t}()),fi.exports}var $o={},di={},Wl;function E1(){if(Wl)return di;Wl=1,Object.defineProperty(di,"__esModule",{value:!0}),di.IKeyValueStorage=void 0;class e{}return di.IKeyValueStorage=e,di}var pi={},Vl;function S1(){if(Vl)return pi;Vl=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.parseEntry=void 0;const e=hi;function t(r){var n;return[r[0],e.safeJsonParse((n=r[1])!==null&&n!==void 0?n:"")]}return pi.parseEntry=t,pi}var Hl;function x1(){return Hl||(Hl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=kl;t.__exportStar(E1(),e),t.__exportStar(S1(),e)}($o)),$o}Object.defineProperty(hs,"__esModule",{value:!0}),hs.KeyValueStorage=void 0;const Tn=kl,ql=hi,O1=Tn.__importDefault(_1()),D1=x1();class Kl{constructor(){this.localStorage=O1.default}getKeys(){return Tn.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return Tn.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(D1.parseEntry)})}getItem(t){return Tn.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(t);if(r!==null)return ql.safeJsonParse(r)})}setItem(t,r){return Tn.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(t,ql.safeJsonStringify(r))})}removeItem(t){return Tn.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(t)})}}hs.KeyValueStorage=Kl;var I1=hs.default=Kl,Pn={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var To=function(e,t){return To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},To(e,t)};function C1(e,t){To(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Po=function(){return Po=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Po.apply(this,arguments)};function A1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function $1(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function T1(e,t){return function(r,n){t(r,n,e)}}function P1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function R1(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{u(n.next(f))}catch(g){o(g)}}function c(f){try{u(n.throw(f))}catch(g){o(g)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function N1(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function L1(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function M1(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ro(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function U1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gl(arguments[t]));return e}function j1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function gi(e){return this instanceof gi?(this.v=e,this):new gi(e)}function F1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(w){return new Promise(function(v,E){s.push([d,w,v,E])>1||a(d,w)})})}function a(d,w){try{c(n[d](w))}catch(v){g(s[0][3],v)}}function c(d){d.value instanceof gi?Promise.resolve(d.value.v).then(u,f):g(s[0][2],d)}function u(d){a("next",d)}function f(d){a("throw",d)}function g(d,w){d(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function B1(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:gi(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function k1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ro=="function"?Ro(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function z1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function W1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function V1(e){return e&&e.__esModule?e:{default:e}}function H1(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function q1(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const fs=en(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Po},__asyncDelegator:B1,__asyncGenerator:F1,__asyncValues:k1,__await:gi,__awaiter:R1,__classPrivateFieldGet:H1,__classPrivateFieldSet:q1,__createBinding:L1,__decorate:$1,__exportStar:M1,__extends:C1,__generator:N1,__importDefault:V1,__importStar:W1,__makeTemplateObject:z1,__metadata:P1,__param:T1,__read:Gl,__rest:A1,__spread:U1,__spreadArrays:j1,__values:Ro},Symbol.toStringTag,{value:"Module"})));var mi={},re={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var No=function(e,t){return No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},No(e,t)};function K1(e,t){No(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Lo=function(){return Lo=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Lo.apply(this,arguments)};function G1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Y1(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function J1(e,t){return function(r,n){t(r,n,e)}}function Z1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function X1(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{u(n.next(f))}catch(g){o(g)}}function c(f){try{u(n.throw(f))}catch(g){o(g)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function Q1(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ep(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function tp(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Mo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function rp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yl(arguments[t]));return e}function np(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function yi(e){return this instanceof yi?(this.v=e,this):new yi(e)}function ip(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(w){return new Promise(function(v,E){s.push([d,w,v,E])>1||a(d,w)})})}function a(d,w){try{c(n[d](w))}catch(v){g(s[0][3],v)}}function c(d){d.value instanceof yi?Promise.resolve(d.value.v).then(u,f):g(s[0][2],d)}function u(d){a("next",d)}function f(d){a("throw",d)}function g(d,w){d(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function sp(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:yi(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function op(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Mo=="function"?Mo(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function ap(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cp(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function lp(e){return e&&e.__esModule?e:{default:e}}function up(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function hp(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const ds=en(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Lo},__asyncDelegator:sp,__asyncGenerator:ip,__asyncValues:op,__await:yi,__awaiter:X1,__classPrivateFieldGet:up,__classPrivateFieldSet:hp,__createBinding:ep,__decorate:Y1,__exportStar:tp,__extends:K1,__generator:Q1,__importDefault:lp,__importStar:cp,__makeTemplateObject:ap,__metadata:Z1,__param:J1,__read:Yl,__rest:G1,__spread:rp,__spreadArrays:np,__values:Mo},Symbol.toStringTag,{value:"Module"})));var Uo={},wi={},Jl;function fp(){if(Jl)return wi;Jl=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return wi.delay=e,wi}var on={},jo={},an={},Zl;function dp(){return Zl||(Zl=1,Object.defineProperty(an,"__esModule",{value:!0}),an.ONE_THOUSAND=an.ONE_HUNDRED=void 0,an.ONE_HUNDRED=100,an.ONE_THOUSAND=1e3),an}var Fo={},Xl;function pp(){return Xl||(Xl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Fo)),Fo}var Ql;function eu(){return Ql||(Ql=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ds;t.__exportStar(dp(),e),t.__exportStar(pp(),e)}(jo)),jo}var tu;function gp(){if(tu)return on;tu=1,Object.defineProperty(on,"__esModule",{value:!0}),on.fromMiliseconds=on.toMiliseconds=void 0;const e=eu();function t(n){return n*e.ONE_THOUSAND}on.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return on.fromMiliseconds=r,on}var ru;function mp(){return ru||(ru=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ds;t.__exportStar(fp(),e),t.__exportStar(gp(),e)}(Uo)),Uo}var Rn={},nu;function yp(){if(nu)return Rn;nu=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Rn.Watch=e,Rn.default=e,Rn}var Bo={},vi={},iu;function wp(){if(iu)return vi;iu=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.IWatch=void 0;class e{}return vi.IWatch=e,vi}var su;function vp(){return su||(su=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),ds.__exportStar(wp(),e)}(Bo)),Bo}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ds;t.__exportStar(mp(),e),t.__exportStar(yp(),e),t.__exportStar(vp(),e),t.__exportStar(eu(),e)})(re);var ko={},bi={};let cn=class{};const bp=en(Object.freeze(Object.defineProperty({__proto__:null,IEvents:cn},Symbol.toStringTag,{value:"Module"})));var ou;function _p(){if(ou)return bi;ou=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.IHeartBeat=void 0;const e=bp;class t extends e.IEvents{constructor(n){super()}}return bi.IHeartBeat=t,bi}var au;function cu(){return au||(au=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),fs.__exportStar(_p(),e)}(ko)),ko}var zo={},ln={},lu;function Ep(){if(lu)return ln;lu=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.HEARTBEAT_EVENTS=ln.HEARTBEAT_INTERVAL=void 0;const e=re;return ln.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,ln.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},ln}var uu;function hu(){return uu||(uu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),fs.__exportStar(Ep(),e)}(zo)),zo}var fu;function Sp(){if(fu)return mi;fu=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.HeartBeat=void 0;const e=fs,t=cr,r=re,n=cu(),i=hu();class s extends n.IHeartBeat{constructor(a){super(a),this.events=new t.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(a==null?void 0:a.interval)||i.HEARTBEAT_INTERVAL}static init(a){return e.__awaiter(this,void 0,void 0,function*(){const c=new s(a);return yield c.init(),c})}init(){return e.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}initialize(){return e.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return mi.HeartBeat=s,mi}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=fs;t.__exportStar(Sp(),e),t.__exportStar(cu(),e),t.__exportStar(hu(),e)})(Pn);var Ue={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Wo=function(e,t){return Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Wo(e,t)};function xp(e,t){Wo(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Vo=function(){return Vo=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Vo.apply(this,arguments)};function Op(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Dp(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Ip(e,t){return function(r,n){t(r,n,e)}}function Cp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ap(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{u(n.next(f))}catch(g){o(g)}}function c(f){try{u(n.throw(f))}catch(g){o(g)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function $p(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Tp(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Pp(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ho(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function du(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Rp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(du(arguments[t]));return e}function Np(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function _i(e){return this instanceof _i?(this.v=e,this):new _i(e)}function Lp(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(w){return new Promise(function(v,E){s.push([d,w,v,E])>1||a(d,w)})})}function a(d,w){try{c(n[d](w))}catch(v){g(s[0][3],v)}}function c(d){d.value instanceof _i?Promise.resolve(d.value.v).then(u,f):g(s[0][2],d)}function u(d){a("next",d)}function f(d){a("throw",d)}function g(d,w){d(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Mp(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:_i(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Up(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ho=="function"?Ho(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function jp(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Fp(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Bp(e){return e&&e.__esModule?e:{default:e}}function kp(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function zp(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Wp=en(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Vo},__asyncDelegator:Mp,__asyncGenerator:Lp,__asyncValues:Up,__await:_i,__awaiter:Ap,__classPrivateFieldGet:kp,__classPrivateFieldSet:zp,__createBinding:Tp,__decorate:Dp,__exportStar:Pp,__extends:xp,__generator:$p,__importDefault:Bp,__importStar:Fp,__makeTemplateObject:jp,__metadata:Cp,__param:Ip,__read:du,__rest:Op,__spread:Rp,__spreadArrays:Np,__values:Ho},Symbol.toStringTag,{value:"Module"})));var qo,pu;function Vp(){if(pu)return qo;pu=1;function e(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}qo=t;function t(r,n,i){var s=i&&i.stringify||e,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var u=1;u<a;u++)c[u]=s(n[u]);return c.join(" ")}if(typeof r!="string")return r;var f=n.length;if(f===0)return r;for(var g="",d=1-o,w=-1,v=r&&r.length||0,E=0;E<v;){if(r.charCodeAt(E)===37&&E+1<v){switch(w=w>-1?w:0,r.charCodeAt(E+1)){case 100:case 102:if(d>=f||n[d]==null)break;w<E&&(g+=r.slice(w,E)),g+=Number(n[d]),w=E+2,E++;break;case 105:if(d>=f||n[d]==null)break;w<E&&(g+=r.slice(w,E)),g+=Math.floor(Number(n[d])),w=E+2,E++;break;case 79:case 111:case 106:if(d>=f||n[d]===void 0)break;w<E&&(g+=r.slice(w,E));var C=typeof n[d];if(C==="string"){g+="'"+n[d]+"'",w=E+2,E++;break}if(C==="function"){g+=n[d].name||"<anonymous>",w=E+2,E++;break}g+=s(n[d]),w=E+2,E++;break;case 115:if(d>=f)break;w<E&&(g+=r.slice(w,E)),g+=String(n[d]),w=E+2,E++;break;case 37:w<E&&(g+=r.slice(w,E)),g+="%",w=E+2,E++,d--;break}++d}++E}return w===-1?r:(w<v&&(g+=r.slice(w)),g)}return qo}var Ko,gu;function Hp(){if(gu)return Ko;gu=1;const e=Vp();Ko=i;const t=x().console||{},r={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:v,res:v,err:d};function n(p,l){return Array.isArray(p)?p.filter(function(M){return M!=="!stdSerializers.err"}):p===!0?Object.keys(l):!1}function i(p){p=p||{},p.browser=p.browser||{};const l=p.browser.transmit;if(l&&typeof l.send!="function")throw Error("pino: transmit option must have a send function");const m=p.browser.write||t;p.browser.write&&(p.browser.asObject=!0);const M=p.serializers||{},L=n(p.browser.serialize,M);let U=p.browser.serialize;Array.isArray(p.browser.serialize)&&p.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1);const j=["error","fatal","warn","info","debug","trace"];typeof m=="function"&&(m.error=m.fatal=m.warn=m.info=m.debug=m.trace=m),p.enabled===!1&&(p.level="silent");const F=p.level||"info",D=Object.create(m);D.log||(D.log=C),Object.defineProperty(D,"levelVal",{get:G}),Object.defineProperty(D,"level",{get:W,set:z});const P={transmit:l,serialize:L,asObject:p.browser.asObject,levels:j,timestamp:w(p)};D.levels=i.levels,D.level=F,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=C,D.serializers=M,D._serialize=L,D._stdErrSerialize=U,D.child=H,l&&(D._logEvent=g());function G(){return this.level==="silent"?1/0:this.levels.values[this.level]}function W(){return this._level}function z(k){if(k!=="silent"&&!this.levels.values[k])throw Error("unknown level "+k);this._level=k,s(P,D,"error","log"),s(P,D,"fatal","error"),s(P,D,"warn","error"),s(P,D,"info","log"),s(P,D,"debug","log"),s(P,D,"trace","log")}function H(k,q){if(!k)throw new Error("missing bindings for child Pino");q=q||{},L&&k.serializers&&(q.serializers=k.serializers);const ce=q.serializers;if(L&&ce){var K=Object.assign({},M,ce),se=p.browser.serialize===!0?Object.keys(K):L;delete k.serializers,c([k],se,K,this._stdErrSerialize)}function ee(ie){this._childLevel=(ie._childLevel|0)+1,this.error=u(ie,k,"error"),this.fatal=u(ie,k,"fatal"),this.warn=u(ie,k,"warn"),this.info=u(ie,k,"info"),this.debug=u(ie,k,"debug"),this.trace=u(ie,k,"trace"),K&&(this.serializers=K,this._serialize=se),l&&(this._logEvent=g([].concat(ie._logEvent.bindings,k)))}return ee.prototype=this,new ee(this)}return D}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:A,epochTime:b,unixTime:S,isoTime:y});function s(p,l,m,M){const L=Object.getPrototypeOf(l);l[m]=l.levelVal>l.levels.values[m]?C:L[m]?L[m]:t[m]||t[M]||C,o(p,l,m)}function o(p,l,m){!p.transmit&&l[m]===C||(l[m]=function(M){return function(){const U=p.timestamp(),j=new Array(arguments.length),F=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var D=0;D<j.length;D++)j[D]=arguments[D];if(p.serialize&&!p.asObject&&c(j,this._serialize,this.serializers,this._stdErrSerialize),p.asObject?M.call(F,a(this,m,j,U)):M.apply(F,j),p.transmit){const P=p.transmit.level||l.level,G=i.levels.values[P],W=i.levels.values[m];if(W<G)return;f(this,{ts:U,methodLevel:m,methodValue:W,transmitLevel:P,transmitValue:i.levels.values[p.transmit.level||l.level],send:p.transmit.send,val:l.levelVal},j)}}}(l[m]))}function a(p,l,m,M){p._serialize&&c(m,p._serialize,p.serializers,p._stdErrSerialize);const L=m.slice();let U=L[0];const j={};M&&(j.time=M),j.level=i.levels.values[l];let F=(p._childLevel|0)+1;if(F<1&&(F=1),U!==null&&typeof U=="object"){for(;F--&&typeof L[0]=="object";)Object.assign(j,L.shift());U=L.length?e(L.shift(),L):void 0}else typeof U=="string"&&(U=e(L.shift(),L));return U!==void 0&&(j.msg=U),j}function c(p,l,m,M){for(const L in p)if(M&&p[L]instanceof Error)p[L]=i.stdSerializers.err(p[L]);else if(typeof p[L]=="object"&&!Array.isArray(p[L]))for(const U in p[L])l&&l.indexOf(U)>-1&&U in m&&(p[L][U]=m[U](p[L][U]))}function u(p,l,m){return function(){const M=new Array(1+arguments.length);M[0]=l;for(var L=1;L<M.length;L++)M[L]=arguments[L-1];return p[m].apply(this,M)}}function f(p,l,m){const M=l.send,L=l.ts,U=l.methodLevel,j=l.methodValue,F=l.val,D=p._logEvent.bindings;c(m,p._serialize||Object.keys(p.serializers),p.serializers,p._stdErrSerialize===void 0?!0:p._stdErrSerialize),p._logEvent.ts=L,p._logEvent.messages=m.filter(function(P){return D.indexOf(P)===-1}),p._logEvent.level.label=U,p._logEvent.level.value=j,M(U,p._logEvent,F),p._logEvent=g(D)}function g(p){return{ts:0,messages:[],bindings:p||[],level:{label:"",value:0}}}function d(p){const l={type:p.constructor.name,msg:p.message,stack:p.stack};for(const m in p)l[m]===void 0&&(l[m]=p[m]);return l}function w(p){return typeof p.timestamp=="function"?p.timestamp:p.timestamp===!1?A:b}function v(){return{}}function E(p){return p}function C(){}function A(){return!1}function b(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function y(){return new Date(Date.now()).toISOString()}function x(){function p(l){return typeof l<"u"&&l}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return p(self)||p(window)||p(this)||{}}}return Ko}var un={},mu;function yu(){return mu||(mu=1,Object.defineProperty(un,"__esModule",{value:!0}),un.PINO_CUSTOM_CONTEXT_KEY=un.PINO_LOGGER_DEFAULTS=void 0,un.PINO_LOGGER_DEFAULTS={level:"info"},un.PINO_CUSTOM_CONTEXT_KEY="custom_context"),un}var Ut={},wu;function qp(){if(wu)return Ut;wu=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.generateChildLogger=Ut.formatChildLoggerContext=Ut.getLoggerContext=Ut.setBrowserLoggerContext=Ut.getBrowserLoggerContext=Ut.getDefaultLoggerOptions=void 0;const e=yu();function t(a){return Object.assign(Object.assign({},a),{level:(a==null?void 0:a.level)||e.PINO_LOGGER_DEFAULTS.level})}Ut.getDefaultLoggerOptions=t;function r(a,c=e.PINO_CUSTOM_CONTEXT_KEY){return a[c]||""}Ut.getBrowserLoggerContext=r;function n(a,c,u=e.PINO_CUSTOM_CONTEXT_KEY){return a[u]=c,a}Ut.setBrowserLoggerContext=n;function i(a,c=e.PINO_CUSTOM_CONTEXT_KEY){let u="";return typeof a.bindings>"u"?u=r(a,c):u=a.bindings().context||"",u}Ut.getLoggerContext=i;function s(a,c,u=e.PINO_CUSTOM_CONTEXT_KEY){const f=i(a,u);return f.trim()?`${f}/${c}`:c}Ut.formatChildLoggerContext=s;function o(a,c,u=e.PINO_CUSTOM_CONTEXT_KEY){const f=s(a,c,u),g=a.child({context:f});return n(g,f,u)}return Ut.generateChildLogger=o,Ut}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;const t=Wp,r=t.__importDefault(Hp());Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return r.default}}),t.__exportStar(yu(),e),t.__exportStar(qp(),e)})(Ue);let Kp=class extends cn{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},Gp=class extends cn{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}},Yp=class{constructor(t,r){this.logger=t,this.core=r}},Jp=class extends cn{constructor(t,r){super(),this.relayer=t,this.logger=r}},Zp=class extends cn{constructor(t){super()}},Xp=class{constructor(t,r,n,i){this.core=t,this.logger=r,this.name=n}},Qp=class extends cn{constructor(t,r){super(),this.relayer=t,this.logger=r}},eg=class extends cn{constructor(t,r){super(),this.core=t,this.logger=r}},tg=class{constructor(t,r){this.projectId=t,this.logger=r}};const rg=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),ng=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function vu(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return ng(e)}catch{return e}}function Go(e){return typeof e=="string"?e:rg(e)||""}var Yo={},Nn={},ps={},gs={};Object.defineProperty(gs,"__esModule",{value:!0}),gs.BrowserRandomSource=void 0;const bu=65536;class ig{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=bu)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,bu)));return r}}gs.BrowserRandomSource=ig;function sg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ms={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});function og(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Yt.wipe=og;const ag=en(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(ms,"__esModule",{value:!0}),ms.NodeRandomSource=void 0;const cg=Yt;class lg{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof sg<"u"){const t=ag;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,cg.wipe)(r),n}}ms.NodeRandomSource=lg,Object.defineProperty(ps,"__esModule",{value:!0}),ps.SystemRandomSource=void 0;const ug=gs,hg=ms;class fg{constructor(){if(this.isAvailable=!1,this.name="",this._source=new ug.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new hg.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}ps.SystemRandomSource=fg;var fe={},_u={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,c){var u=a>>>16&65535,f=a&65535,g=c>>>16&65535,d=c&65535;return f*d+(u*d+f*g<<16>>>0)|0}e.mul=Math.imul||t;function r(a,c){return a+c|0}e.add=r;function n(a,c){return a-c|0}e.sub=n;function i(a,c){return a<<c|a>>>32-c}e.rotl=i;function s(a,c){return a<<32-c|a>>>c}e.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}e.isInteger=Number.isInteger||o,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(a){return e.isInteger(a)&&a>=-e.MAX_SAFE_INTEGER&&a<=e.MAX_SAFE_INTEGER}})(_u),Object.defineProperty(fe,"__esModule",{value:!0});var Eu=_u;function dg(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}fe.readInt16BE=dg;function pg(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}fe.readUint16BE=pg;function gg(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}fe.readInt16LE=gg;function mg(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}fe.readUint16LE=mg;function Su(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}fe.writeUint16BE=Su,fe.writeInt16BE=Su;function xu(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}fe.writeUint16LE=xu,fe.writeInt16LE=xu;function Jo(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}fe.readInt32BE=Jo;function Zo(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}fe.readUint32BE=Zo;function Xo(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}fe.readInt32LE=Xo;function Qo(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}fe.readUint32LE=Qo;function ys(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}fe.writeUint32BE=ys,fe.writeInt32BE=ys;function ws(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}fe.writeUint32LE=ws,fe.writeInt32LE=ws;function yg(e,t){t===void 0&&(t=0);var r=Jo(e,t),n=Jo(e,t+4);return r*4294967296+n-(n>>31)*4294967296}fe.readInt64BE=yg;function wg(e,t){t===void 0&&(t=0);var r=Zo(e,t),n=Zo(e,t+4);return r*4294967296+n}fe.readUint64BE=wg;function vg(e,t){t===void 0&&(t=0);var r=Xo(e,t),n=Xo(e,t+4);return n*4294967296+r-(r>>31)*4294967296}fe.readInt64LE=vg;function bg(e,t){t===void 0&&(t=0);var r=Qo(e,t),n=Qo(e,t+4);return n*4294967296+r}fe.readUint64LE=bg;function Ou(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),ys(e/4294967296>>>0,t,r),ys(e>>>0,t,r+4),t}fe.writeUint64BE=Ou,fe.writeInt64BE=Ou;function Du(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),ws(e>>>0,t,r),ws(e/4294967296>>>0,t,r+4),t}fe.writeUint64LE=Du,fe.writeInt64LE=Du;function _g(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n}fe.readUintBE=_g;function Eg(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n}fe.readUintLE=Eg;function Sg(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Eu.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+n-1;s>=n;s--)r[s]=t/i&255,i*=256;return r}fe.writeUintBE=Sg;function xg(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Eu.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+e/8;s++)r[s]=t/i&255,i*=256;return r}fe.writeUintLE=xg;function Og(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}fe.readFloat32BE=Og;function Dg(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}fe.readFloat32LE=Dg;function Ig(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}fe.readFloat64BE=Ig;function Cg(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}fe.readFloat64LE=Cg;function Ag(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}fe.writeFloat32BE=Ag;function $g(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}fe.writeFloat32LE=$g;function Tg(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}fe.writeFloat64BE=Tg;function Pg(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}fe.writeFloat64LE=Pg,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=ps,r=fe,n=Yt;e.defaultRandomSource=new t.SystemRandomSource;function i(u,f=e.defaultRandomSource){return f.randomBytes(u)}e.randomBytes=i;function s(u=e.defaultRandomSource){const f=i(4,u),g=(0,r.readUint32LE)(f);return(0,n.wipe)(f),g}e.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(u,f=o,g=e.defaultRandomSource){if(f.length<2)throw new Error("randomString charset is too short");if(f.length>256)throw new Error("randomString charset is too long");let d="";const w=f.length,v=256-256%w;for(;u>0;){const E=i(Math.ceil(u*256/v),g);for(let C=0;C<E.length&&u>0;C++){const A=E[C];A<v&&(d+=f.charAt(A%w),u--)}(0,n.wipe)(E)}return d}e.randomString=a;function c(u,f=o,g=e.defaultRandomSource){const d=Math.ceil(u/(Math.log(f.length)/Math.LN2));return a(d,f,g)}e.randomStringForEntropy=c}(Nn);var Iu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=fe,r=Yt;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,u){if(u===void 0&&(u=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var f=0;if(this._bytesHashed+=u,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&u>0;)this._buffer[this._bufferLength++]=c[f++],u--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(u>=this.blockSize&&(f=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,f,u),u%=this.blockSize);u>0;)this._buffer[this._bufferLength++]=c[f++],u--;return this},a.prototype.finish=function(c){if(!this._finished){var u=this._bytesHashed,f=this._bufferLength,g=u/536870912|0,d=u<<3,w=u%128<112?128:256;this._buffer[f]=128;for(var v=f+1;v<w-8;v++)this._buffer[v]=0;t.writeUint32BE(g,this._buffer,w-8),t.writeUint32BE(d,this._buffer,w-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,w),this._finished=!0}for(var v=0;v<this.digestLength/8;v++)t.writeUint32BE(this._stateHi[v],c,v*8),t.writeUint32BE(this._stateLo[v],c,v*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();e.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,u,f,g,d,w){for(var v=u[0],E=u[1],C=u[2],A=u[3],b=u[4],S=u[5],y=u[6],x=u[7],p=f[0],l=f[1],m=f[2],M=f[3],L=f[4],U=f[5],j=f[6],F=f[7],D,P,G,W,z,H,k,q;w>=128;){for(var ce=0;ce<16;ce++){var K=8*ce+d;a[ce]=t.readUint32BE(g,K),c[ce]=t.readUint32BE(g,K+4)}for(var ce=0;ce<80;ce++){var se=v,ee=E,ie=C,N=A,R=b,$=S,h=y,I=x,Y=p,Q=l,Se=m,xe=M,ye=L,Ne=U,Xe=j,He=F;if(D=x,P=F,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=(b>>>14|L<<32-14)^(b>>>18|L<<32-18)^(L>>>41-32|b<<32-(41-32)),P=(L>>>14|b<<32-14)^(L>>>18|b<<32-18)^(b>>>41-32|L<<32-(41-32)),z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,D=b&S^~b&y,P=L&U^~L&j,z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,D=i[ce*2],P=i[ce*2+1],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,D=a[ce%16],P=c[ce%16],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,G=k&65535|q<<16,W=z&65535|H<<16,D=G,P=W,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=(v>>>28|p<<32-28)^(p>>>34-32|v<<32-(34-32))^(p>>>39-32|v<<32-(39-32)),P=(p>>>28|v<<32-28)^(v>>>34-32|p<<32-(34-32))^(v>>>39-32|p<<32-(39-32)),z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,D=v&E^v&C^E&C,P=p&l^p&m^l&m,z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,I=k&65535|q<<16,He=z&65535|H<<16,D=N,P=xe,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=G,P=W,z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,N=k&65535|q<<16,xe=z&65535|H<<16,E=se,C=ee,A=ie,b=N,S=R,y=$,x=h,v=I,l=Y,m=Q,M=Se,L=xe,U=ye,j=Ne,F=Xe,p=He,ce%16===15)for(var K=0;K<16;K++)D=a[K],P=c[K],z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=a[(K+9)%16],P=c[(K+9)%16],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,G=a[(K+1)%16],W=c[(K+1)%16],D=(G>>>1|W<<32-1)^(G>>>8|W<<32-8)^G>>>7,P=(W>>>1|G<<32-1)^(W>>>8|G<<32-8)^(W>>>7|G<<32-7),z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,G=a[(K+14)%16],W=c[(K+14)%16],D=(G>>>19|W<<32-19)^(W>>>61-32|G<<32-(61-32))^G>>>6,P=(W>>>19|G<<32-19)^(G>>>61-32|W<<32-(61-32))^(W>>>6|G<<32-6),z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,a[K]=k&65535|q<<16,c[K]=z&65535|H<<16}D=v,P=p,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[0],P=f[0],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[0]=v=k&65535|q<<16,f[0]=p=z&65535|H<<16,D=E,P=l,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[1],P=f[1],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[1]=E=k&65535|q<<16,f[1]=l=z&65535|H<<16,D=C,P=m,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[2],P=f[2],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[2]=C=k&65535|q<<16,f[2]=m=z&65535|H<<16,D=A,P=M,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[3],P=f[3],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[3]=A=k&65535|q<<16,f[3]=M=z&65535|H<<16,D=b,P=L,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[4],P=f[4],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[4]=b=k&65535|q<<16,f[4]=L=z&65535|H<<16,D=S,P=U,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[5],P=f[5],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[5]=S=k&65535|q<<16,f[5]=U=z&65535|H<<16,D=y,P=j,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[6],P=f[6],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[6]=y=k&65535|q<<16,f[6]=j=z&65535|H<<16,D=x,P=F,z=P&65535,H=P>>>16,k=D&65535,q=D>>>16,D=u[7],P=f[7],z+=P&65535,H+=P>>>16,k+=D&65535,q+=D>>>16,H+=z>>>16,k+=H>>>16,q+=k>>>16,u[7]=x=k&65535|q<<16,f[7]=F=z&65535|H<<16,d+=128,w-=128}return d}function o(a){var c=new n;c.update(a);var u=c.digest();return c.clean(),u}e.hash=o})(Iu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=Nn,r=Iu,n=Yt;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function i(N){const R=new Float64Array(16);if(N)for(let $=0;$<N.length;$++)R[$]=N[$];return R}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(N,R){for(let $=0;$<16;$++)N[$]=R[$]|0}function v(N){let R=1;for(let $=0;$<16;$++){let h=N[$]+R+65535;R=Math.floor(h/65536),N[$]=h-R*65536}N[0]+=R-1+37*(R-1)}function E(N,R,$){const h=~($-1);for(let I=0;I<16;I++){const Y=h&(N[I]^R[I]);N[I]^=Y,R[I]^=Y}}function C(N,R){const $=i(),h=i();for(let I=0;I<16;I++)h[I]=R[I];v(h),v(h),v(h);for(let I=0;I<2;I++){$[0]=h[0]-65517;for(let Q=1;Q<15;Q++)$[Q]=h[Q]-65535-($[Q-1]>>16&1),$[Q-1]&=65535;$[15]=h[15]-32767-($[14]>>16&1);const Y=$[15]>>16&1;$[14]&=65535,E(h,$,1-Y)}for(let I=0;I<16;I++)N[2*I]=h[I]&255,N[2*I+1]=h[I]>>8}function A(N,R){let $=0;for(let h=0;h<32;h++)$|=N[h]^R[h];return(1&$-1>>>8)-1}function b(N,R){const $=new Uint8Array(32),h=new Uint8Array(32);return C($,N),C(h,R),A($,h)}function S(N){const R=new Uint8Array(32);return C(R,N),R[0]&1}function y(N,R){for(let $=0;$<16;$++)N[$]=R[2*$]+(R[2*$+1]<<8);N[15]&=32767}function x(N,R,$){for(let h=0;h<16;h++)N[h]=R[h]+$[h]}function p(N,R,$){for(let h=0;h<16;h++)N[h]=R[h]-$[h]}function l(N,R,$){let h,I,Y=0,Q=0,Se=0,xe=0,ye=0,Ne=0,Xe=0,He=0,$e=0,Ie=0,we=0,be=0,ve=0,de=0,he=0,oe=0,_e=0,Oe=0,le=0,Ce=0,Le=0,Be=0,ke=0,je=0,Qt=0,ir=0,Er=0,At=0,Sr=0,sr=0,Yr=0,Qe=$[0],Ge=$[1],ot=$[2],tt=$[3],at=$[4],Ye=$[5],ft=$[6],mt=$[7],yt=$[8],dt=$[9],wt=$[10],pt=$[11],ct=$[12],Ke=$[13],O=$[14],B=$[15];h=R[0],Y+=h*Qe,Q+=h*Ge,Se+=h*ot,xe+=h*tt,ye+=h*at,Ne+=h*Ye,Xe+=h*ft,He+=h*mt,$e+=h*yt,Ie+=h*dt,we+=h*wt,be+=h*pt,ve+=h*ct,de+=h*Ke,he+=h*O,oe+=h*B,h=R[1],Q+=h*Qe,Se+=h*Ge,xe+=h*ot,ye+=h*tt,Ne+=h*at,Xe+=h*Ye,He+=h*ft,$e+=h*mt,Ie+=h*yt,we+=h*dt,be+=h*wt,ve+=h*pt,de+=h*ct,he+=h*Ke,oe+=h*O,_e+=h*B,h=R[2],Se+=h*Qe,xe+=h*Ge,ye+=h*ot,Ne+=h*tt,Xe+=h*at,He+=h*Ye,$e+=h*ft,Ie+=h*mt,we+=h*yt,be+=h*dt,ve+=h*wt,de+=h*pt,he+=h*ct,oe+=h*Ke,_e+=h*O,Oe+=h*B,h=R[3],xe+=h*Qe,ye+=h*Ge,Ne+=h*ot,Xe+=h*tt,He+=h*at,$e+=h*Ye,Ie+=h*ft,we+=h*mt,be+=h*yt,ve+=h*dt,de+=h*wt,he+=h*pt,oe+=h*ct,_e+=h*Ke,Oe+=h*O,le+=h*B,h=R[4],ye+=h*Qe,Ne+=h*Ge,Xe+=h*ot,He+=h*tt,$e+=h*at,Ie+=h*Ye,we+=h*ft,be+=h*mt,ve+=h*yt,de+=h*dt,he+=h*wt,oe+=h*pt,_e+=h*ct,Oe+=h*Ke,le+=h*O,Ce+=h*B,h=R[5],Ne+=h*Qe,Xe+=h*Ge,He+=h*ot,$e+=h*tt,Ie+=h*at,we+=h*Ye,be+=h*ft,ve+=h*mt,de+=h*yt,he+=h*dt,oe+=h*wt,_e+=h*pt,Oe+=h*ct,le+=h*Ke,Ce+=h*O,Le+=h*B,h=R[6],Xe+=h*Qe,He+=h*Ge,$e+=h*ot,Ie+=h*tt,we+=h*at,be+=h*Ye,ve+=h*ft,de+=h*mt,he+=h*yt,oe+=h*dt,_e+=h*wt,Oe+=h*pt,le+=h*ct,Ce+=h*Ke,Le+=h*O,Be+=h*B,h=R[7],He+=h*Qe,$e+=h*Ge,Ie+=h*ot,we+=h*tt,be+=h*at,ve+=h*Ye,de+=h*ft,he+=h*mt,oe+=h*yt,_e+=h*dt,Oe+=h*wt,le+=h*pt,Ce+=h*ct,Le+=h*Ke,Be+=h*O,ke+=h*B,h=R[8],$e+=h*Qe,Ie+=h*Ge,we+=h*ot,be+=h*tt,ve+=h*at,de+=h*Ye,he+=h*ft,oe+=h*mt,_e+=h*yt,Oe+=h*dt,le+=h*wt,Ce+=h*pt,Le+=h*ct,Be+=h*Ke,ke+=h*O,je+=h*B,h=R[9],Ie+=h*Qe,we+=h*Ge,be+=h*ot,ve+=h*tt,de+=h*at,he+=h*Ye,oe+=h*ft,_e+=h*mt,Oe+=h*yt,le+=h*dt,Ce+=h*wt,Le+=h*pt,Be+=h*ct,ke+=h*Ke,je+=h*O,Qt+=h*B,h=R[10],we+=h*Qe,be+=h*Ge,ve+=h*ot,de+=h*tt,he+=h*at,oe+=h*Ye,_e+=h*ft,Oe+=h*mt,le+=h*yt,Ce+=h*dt,Le+=h*wt,Be+=h*pt,ke+=h*ct,je+=h*Ke,Qt+=h*O,ir+=h*B,h=R[11],be+=h*Qe,ve+=h*Ge,de+=h*ot,he+=h*tt,oe+=h*at,_e+=h*Ye,Oe+=h*ft,le+=h*mt,Ce+=h*yt,Le+=h*dt,Be+=h*wt,ke+=h*pt,je+=h*ct,Qt+=h*Ke,ir+=h*O,Er+=h*B,h=R[12],ve+=h*Qe,de+=h*Ge,he+=h*ot,oe+=h*tt,_e+=h*at,Oe+=h*Ye,le+=h*ft,Ce+=h*mt,Le+=h*yt,Be+=h*dt,ke+=h*wt,je+=h*pt,Qt+=h*ct,ir+=h*Ke,Er+=h*O,At+=h*B,h=R[13],de+=h*Qe,he+=h*Ge,oe+=h*ot,_e+=h*tt,Oe+=h*at,le+=h*Ye,Ce+=h*ft,Le+=h*mt,Be+=h*yt,ke+=h*dt,je+=h*wt,Qt+=h*pt,ir+=h*ct,Er+=h*Ke,At+=h*O,Sr+=h*B,h=R[14],he+=h*Qe,oe+=h*Ge,_e+=h*ot,Oe+=h*tt,le+=h*at,Ce+=h*Ye,Le+=h*ft,Be+=h*mt,ke+=h*yt,je+=h*dt,Qt+=h*wt,ir+=h*pt,Er+=h*ct,At+=h*Ke,Sr+=h*O,sr+=h*B,h=R[15],oe+=h*Qe,_e+=h*Ge,Oe+=h*ot,le+=h*tt,Ce+=h*at,Le+=h*Ye,Be+=h*ft,ke+=h*mt,je+=h*yt,Qt+=h*dt,ir+=h*wt,Er+=h*pt,At+=h*ct,Sr+=h*Ke,sr+=h*O,Yr+=h*B,Y+=38*_e,Q+=38*Oe,Se+=38*le,xe+=38*Ce,ye+=38*Le,Ne+=38*Be,Xe+=38*ke,He+=38*je,$e+=38*Qt,Ie+=38*ir,we+=38*Er,be+=38*At,ve+=38*Sr,de+=38*sr,he+=38*Yr,I=1,h=Y+I+65535,I=Math.floor(h/65536),Y=h-I*65536,h=Q+I+65535,I=Math.floor(h/65536),Q=h-I*65536,h=Se+I+65535,I=Math.floor(h/65536),Se=h-I*65536,h=xe+I+65535,I=Math.floor(h/65536),xe=h-I*65536,h=ye+I+65535,I=Math.floor(h/65536),ye=h-I*65536,h=Ne+I+65535,I=Math.floor(h/65536),Ne=h-I*65536,h=Xe+I+65535,I=Math.floor(h/65536),Xe=h-I*65536,h=He+I+65535,I=Math.floor(h/65536),He=h-I*65536,h=$e+I+65535,I=Math.floor(h/65536),$e=h-I*65536,h=Ie+I+65535,I=Math.floor(h/65536),Ie=h-I*65536,h=we+I+65535,I=Math.floor(h/65536),we=h-I*65536,h=be+I+65535,I=Math.floor(h/65536),be=h-I*65536,h=ve+I+65535,I=Math.floor(h/65536),ve=h-I*65536,h=de+I+65535,I=Math.floor(h/65536),de=h-I*65536,h=he+I+65535,I=Math.floor(h/65536),he=h-I*65536,h=oe+I+65535,I=Math.floor(h/65536),oe=h-I*65536,Y+=I-1+37*(I-1),I=1,h=Y+I+65535,I=Math.floor(h/65536),Y=h-I*65536,h=Q+I+65535,I=Math.floor(h/65536),Q=h-I*65536,h=Se+I+65535,I=Math.floor(h/65536),Se=h-I*65536,h=xe+I+65535,I=Math.floor(h/65536),xe=h-I*65536,h=ye+I+65535,I=Math.floor(h/65536),ye=h-I*65536,h=Ne+I+65535,I=Math.floor(h/65536),Ne=h-I*65536,h=Xe+I+65535,I=Math.floor(h/65536),Xe=h-I*65536,h=He+I+65535,I=Math.floor(h/65536),He=h-I*65536,h=$e+I+65535,I=Math.floor(h/65536),$e=h-I*65536,h=Ie+I+65535,I=Math.floor(h/65536),Ie=h-I*65536,h=we+I+65535,I=Math.floor(h/65536),we=h-I*65536,h=be+I+65535,I=Math.floor(h/65536),be=h-I*65536,h=ve+I+65535,I=Math.floor(h/65536),ve=h-I*65536,h=de+I+65535,I=Math.floor(h/65536),de=h-I*65536,h=he+I+65535,I=Math.floor(h/65536),he=h-I*65536,h=oe+I+65535,I=Math.floor(h/65536),oe=h-I*65536,Y+=I-1+37*(I-1),N[0]=Y,N[1]=Q,N[2]=Se,N[3]=xe,N[4]=ye,N[5]=Ne,N[6]=Xe,N[7]=He,N[8]=$e,N[9]=Ie,N[10]=we,N[11]=be,N[12]=ve,N[13]=de,N[14]=he,N[15]=oe}function m(N,R){l(N,R,R)}function M(N,R){const $=i();let h;for(h=0;h<16;h++)$[h]=R[h];for(h=253;h>=0;h--)m($,$),h!==2&&h!==4&&l($,$,R);for(h=0;h<16;h++)N[h]=$[h]}function L(N,R){const $=i();let h;for(h=0;h<16;h++)$[h]=R[h];for(h=250;h>=0;h--)m($,$),h!==1&&l($,$,R);for(h=0;h<16;h++)N[h]=$[h]}function U(N,R){const $=i(),h=i(),I=i(),Y=i(),Q=i(),Se=i(),xe=i(),ye=i(),Ne=i();p($,N[1],N[0]),p(Ne,R[1],R[0]),l($,$,Ne),x(h,N[0],N[1]),x(Ne,R[0],R[1]),l(h,h,Ne),l(I,N[3],R[3]),l(I,I,u),l(Y,N[2],R[2]),x(Y,Y,Y),p(Q,h,$),p(Se,Y,I),x(xe,Y,I),x(ye,h,$),l(N[0],Q,Se),l(N[1],ye,xe),l(N[2],xe,Se),l(N[3],Q,ye)}function j(N,R,$){for(let h=0;h<4;h++)E(N[h],R[h],$)}function F(N,R){const $=i(),h=i(),I=i();M(I,R[2]),l($,R[0],I),l(h,R[1],I),C(N,h),N[31]^=S($)<<7}function D(N,R,$){w(N[0],o),w(N[1],a),w(N[2],a),w(N[3],o);for(let h=255;h>=0;--h){const I=$[h/8|0]>>(h&7)&1;j(N,R,I),U(R,N),U(N,N),j(N,R,I)}}function P(N,R){const $=[i(),i(),i(),i()];w($[0],f),w($[1],g),w($[2],a),l($[3],f,g),D(N,$,R)}function G(N){if(N.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const R=(0,r.hash)(N);R[0]&=248,R[31]&=127,R[31]|=64;const $=new Uint8Array(32),h=[i(),i(),i(),i()];P(h,R),F($,h);const I=new Uint8Array(64);return I.set(N),I.set($,32),{publicKey:$,secretKey:I}}e.generateKeyPairFromSeed=G;function W(N){const R=(0,t.randomBytes)(32,N),$=G(R);return(0,n.wipe)(R),$}e.generateKeyPair=W;function z(N){if(N.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(N.subarray(32))}e.extractPublicKeyFromSecretKey=z;const H=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k(N,R){let $,h,I,Y;for(h=63;h>=32;--h){for($=0,I=h-32,Y=h-12;I<Y;++I)R[I]+=$-16*R[h]*H[I-(h-32)],$=Math.floor((R[I]+128)/256),R[I]-=$*256;R[I]+=$,R[h]=0}for($=0,I=0;I<32;I++)R[I]+=$-(R[31]>>4)*H[I],$=R[I]>>8,R[I]&=255;for(I=0;I<32;I++)R[I]-=$*H[I];for(h=0;h<32;h++)R[h+1]+=R[h]>>8,N[h]=R[h]&255}function q(N){const R=new Float64Array(64);for(let $=0;$<64;$++)R[$]=N[$];for(let $=0;$<64;$++)N[$]=0;k(N,R)}function ce(N,R){const $=new Float64Array(64),h=[i(),i(),i(),i()],I=(0,r.hash)(N.subarray(0,32));I[0]&=248,I[31]&=127,I[31]|=64;const Y=new Uint8Array(64);Y.set(I.subarray(32),32);const Q=new r.SHA512;Q.update(Y.subarray(32)),Q.update(R);const Se=Q.digest();Q.clean(),q(Se),P(h,Se),F(Y,h),Q.reset(),Q.update(Y.subarray(0,32)),Q.update(N.subarray(32)),Q.update(R);const xe=Q.digest();q(xe);for(let ye=0;ye<32;ye++)$[ye]=Se[ye];for(let ye=0;ye<32;ye++)for(let Ne=0;Ne<32;Ne++)$[ye+Ne]+=xe[ye]*I[Ne];return k(Y.subarray(32),$),Y}e.sign=ce;function K(N,R){const $=i(),h=i(),I=i(),Y=i(),Q=i(),Se=i(),xe=i();return w(N[2],a),y(N[1],R),m(I,N[1]),l(Y,I,c),p(I,I,N[2]),x(Y,N[2],Y),m(Q,Y),m(Se,Q),l(xe,Se,Q),l($,xe,I),l($,$,Y),L($,$),l($,$,I),l($,$,Y),l($,$,Y),l(N[0],$,Y),m(h,N[0]),l(h,h,Y),b(h,I)&&l(N[0],N[0],d),m(h,N[0]),l(h,h,Y),b(h,I)?-1:(S(N[0])===R[31]>>7&&p(N[0],o,N[0]),l(N[3],N[0],N[1]),0)}function se(N,R,$){const h=new Uint8Array(32),I=[i(),i(),i(),i()],Y=[i(),i(),i(),i()];if($.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(K(Y,N))return!1;const Q=new r.SHA512;Q.update($.subarray(0,32)),Q.update(N),Q.update(R);const Se=Q.digest();return q(Se),D(I,Y,Se),P(Y,$.subarray(32)),U(I,Y),F(h,I),!A($,h)}e.verify=se;function ee(N){let R=[i(),i(),i(),i()];if(K(R,N))throw new Error("Ed25519: invalid public key");let $=i(),h=i(),I=R[1];x($,a,I),p(h,a,I),M(h,h),l($,$,h);let Y=new Uint8Array(32);return C(Y,$),Y}e.convertPublicKeyToX25519=ee;function ie(N){const R=(0,r.hash)(N.subarray(0,32));R[0]&=248,R[31]&=127,R[31]|=64;const $=new Uint8Array(R.subarray(0,32));return(0,n.wipe)(R),$}e.convertSecretKeyToX25519=ie}(Yo);const Rg="EdDSA",Ng="JWT",Cu=".",Au="base64url",Lg="utf8",Mg="utf8",Ug=":",jg="did",Fg="key",$u="base58btc",Bg="z",kg="K36",zg=32;function ea(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Tu(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ea(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function ta(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const r=Tu(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return ea(r)}function Wg(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,C=0,A=0,b=v.length;A!==b&&v[A]===0;)A++,E++;for(var S=(b-A)*f+1>>>0,y=new Uint8Array(S);A!==b;){for(var x=v[A],p=0,l=S-1;(x!==0||p<C)&&l!==-1;l--,p++)x+=256*y[l]>>>0,y[l]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");C=p,A++}for(var m=S-C;m!==S&&y[m]===0;)m++;for(var M=c.repeat(E);m<S;++m)M+=e.charAt(y[m]);return M}function d(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var C=0,A=0;v[E]===c;)C++,E++;for(var b=(v.length-E)*u+1>>>0,S=new Uint8Array(b);v[E];){var y=r[v.charCodeAt(E)];if(y===255)return;for(var x=0,p=b-1;(y!==0||x<A)&&p!==-1;p--,x++)y+=a*S[p]>>>0,S[p]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");A=x,E++}if(v[E]!==" "){for(var l=b-A;l!==b&&S[l]===0;)l++;for(var m=new Uint8Array(C+(b-l)),M=C;l!==b;)m[M++]=S[l++];return m}}}function w(v){var E=d(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:d,decode:w}}var Vg=Wg,Hg=Vg;const qg=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Kg=e=>new TextEncoder().encode(e),Gg=e=>new TextDecoder().decode(e);class Yg{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Jg{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Pu(this,t)}}class Zg{constructor(t){this.decoders=t}or(t){return Pu(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Pu=(e,t)=>new Zg({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Xg{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Yg(t,r,n),this.decoder=new Jg(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const vs=({name:e,prefix:t,encode:r,decode:n})=>new Xg(e,t,r,n),Ei=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Hg(r,t);return vs({prefix:e,name:t,encode:n,decode:s=>qg(i(s))})},Qg=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let f=0;f<s;++f){const g=i[e[f]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|g,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},em=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Dt=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>vs({prefix:t,name:e,encode(i){return em(i,n,r)},decode(i){return Qg(i,n,r,e)}}),tm=vs({prefix:"\0",name:"identity",encode:e=>Gg(e),decode:e=>Kg(e)}),rm=Object.freeze(Object.defineProperty({__proto__:null,identity:tm},Symbol.toStringTag,{value:"Module"})),nm=Dt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),im=Object.freeze(Object.defineProperty({__proto__:null,base2:nm},Symbol.toStringTag,{value:"Module"})),sm=Dt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),om=Object.freeze(Object.defineProperty({__proto__:null,base8:sm},Symbol.toStringTag,{value:"Module"})),am=Ei({prefix:"9",name:"base10",alphabet:"0123456789"}),cm=Object.freeze(Object.defineProperty({__proto__:null,base10:am},Symbol.toStringTag,{value:"Module"})),lm=Dt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),um=Dt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),hm=Object.freeze(Object.defineProperty({__proto__:null,base16:lm,base16upper:um},Symbol.toStringTag,{value:"Module"})),fm=Dt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dm=Dt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pm=Dt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gm=Dt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mm=Dt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ym=Dt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wm=Dt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vm=Dt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bm=Dt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_m=Object.freeze(Object.defineProperty({__proto__:null,base32:fm,base32hex:mm,base32hexpad:wm,base32hexpadupper:vm,base32hexupper:ym,base32pad:pm,base32padupper:gm,base32upper:dm,base32z:bm},Symbol.toStringTag,{value:"Module"})),Em=Ei({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sm=Ei({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),xm=Object.freeze(Object.defineProperty({__proto__:null,base36:Em,base36upper:Sm},Symbol.toStringTag,{value:"Module"})),Om=Ei({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Dm=Ei({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Im=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Om,base58flickr:Dm},Symbol.toStringTag,{value:"Module"})),Cm=Dt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Am=Dt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$m=Dt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Tm=Dt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Pm=Object.freeze(Object.defineProperty({__proto__:null,base64:Cm,base64pad:Am,base64url:$m,base64urlpad:Tm},Symbol.toStringTag,{value:"Module"})),Ru=Array.from(""),Rm=Ru.reduce((e,t,r)=>(e[r]=t,e),[]),Nm=Ru.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Lm(e){return e.reduce((t,r)=>(t+=Rm[r],t),"")}function Mm(e){const t=[];for(const r of e){const n=Nm[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const Um=vs({prefix:"",name:"base256emoji",encode:Lm,decode:Mm}),jm=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Um},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const Nu={...rm,...im,...om,...cm,...hm,..._m,...xm,...Im,...Pm,...jm};function Lu(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Mu=Lu("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ra=Lu("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Tu(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Uu={utf8:Mu,"utf-8":Mu,hex:Nu.base16,latin1:ra,ascii:ra,binary:ra,...Nu};function jt(e,t="utf8"){const r=Uu[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function Vt(e,t="utf8"){const r=Uu[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ea(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function bs(e){return jt(Vt(Go(e),Lg),Au)}function ju(e){const t=Vt(kg,$u),r=Bg+jt(ta([t,e]),$u);return[jg,Fg,r].join(Ug)}function Fm(e){return jt(e,Au)}function Bm(e){return Vt([bs(e.header),bs(e.payload)].join(Cu),Mg)}function km(e){return[bs(e.header),bs(e.payload),Fm(e.signature)].join(Cu)}function Fu(e=Nn.randomBytes(zg)){return Yo.generateKeyPairFromSeed(e)}async function zm(e,t,r,n,i=re.fromMiliseconds(Date.now())){const s={alg:Rg,typ:Ng},o=ju(n.publicKey),a=i+r,c={iss:o,sub:e,aud:t,iat:i,exp:a},u=Bm({header:s,payload:c}),f=Yo.sign(n.secretKey,u);return km({header:s,payload:c,signature:f})}var na={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});var Rt=fe,ia=Yt,Wm=20;function Vm(e,t,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],g=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],w=r[27]<<24|r[26]<<16|r[25]<<8|r[24],v=r[31]<<24|r[30]<<16|r[29]<<8|r[28],E=t[3]<<24|t[2]<<16|t[1]<<8|t[0],C=t[7]<<24|t[6]<<16|t[5]<<8|t[4],A=t[11]<<24|t[10]<<16|t[9]<<8|t[8],b=t[15]<<24|t[14]<<16|t[13]<<8|t[12],S=n,y=i,x=s,p=o,l=a,m=c,M=u,L=f,U=g,j=d,F=w,D=v,P=E,G=C,W=A,z=b,H=0;H<Wm;H+=2)S=S+l|0,P^=S,P=P>>>32-16|P<<16,U=U+P|0,l^=U,l=l>>>32-12|l<<12,y=y+m|0,G^=y,G=G>>>32-16|G<<16,j=j+G|0,m^=j,m=m>>>32-12|m<<12,x=x+M|0,W^=x,W=W>>>32-16|W<<16,F=F+W|0,M^=F,M=M>>>32-12|M<<12,p=p+L|0,z^=p,z=z>>>32-16|z<<16,D=D+z|0,L^=D,L=L>>>32-12|L<<12,x=x+M|0,W^=x,W=W>>>32-8|W<<8,F=F+W|0,M^=F,M=M>>>32-7|M<<7,p=p+L|0,z^=p,z=z>>>32-8|z<<8,D=D+z|0,L^=D,L=L>>>32-7|L<<7,y=y+m|0,G^=y,G=G>>>32-8|G<<8,j=j+G|0,m^=j,m=m>>>32-7|m<<7,S=S+l|0,P^=S,P=P>>>32-8|P<<8,U=U+P|0,l^=U,l=l>>>32-7|l<<7,S=S+m|0,z^=S,z=z>>>32-16|z<<16,F=F+z|0,m^=F,m=m>>>32-12|m<<12,y=y+M|0,P^=y,P=P>>>32-16|P<<16,D=D+P|0,M^=D,M=M>>>32-12|M<<12,x=x+L|0,G^=x,G=G>>>32-16|G<<16,U=U+G|0,L^=U,L=L>>>32-12|L<<12,p=p+l|0,W^=p,W=W>>>32-16|W<<16,j=j+W|0,l^=j,l=l>>>32-12|l<<12,x=x+L|0,G^=x,G=G>>>32-8|G<<8,U=U+G|0,L^=U,L=L>>>32-7|L<<7,p=p+l|0,W^=p,W=W>>>32-8|W<<8,j=j+W|0,l^=j,l=l>>>32-7|l<<7,y=y+M|0,P^=y,P=P>>>32-8|P<<8,D=D+P|0,M^=D,M=M>>>32-7|M<<7,S=S+m|0,z^=S,z=z>>>32-8|z<<8,F=F+z|0,m^=F,m=m>>>32-7|m<<7;Rt.writeUint32LE(S+n|0,e,0),Rt.writeUint32LE(y+i|0,e,4),Rt.writeUint32LE(x+s|0,e,8),Rt.writeUint32LE(p+o|0,e,12),Rt.writeUint32LE(l+a|0,e,16),Rt.writeUint32LE(m+c|0,e,20),Rt.writeUint32LE(M+u|0,e,24),Rt.writeUint32LE(L+f|0,e,28),Rt.writeUint32LE(U+g|0,e,32),Rt.writeUint32LE(j+d|0,e,36),Rt.writeUint32LE(F+w|0,e,40),Rt.writeUint32LE(D+v|0,e,44),Rt.writeUint32LE(P+E|0,e,48),Rt.writeUint32LE(G+C|0,e,52),Rt.writeUint32LE(W+A|0,e,56),Rt.writeUint32LE(z+b|0,e,60)}function Bu(e,t,r,n,i){if(i===void 0&&(i=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-t.length,s.set(t,o)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){Vm(a,s,e);for(var u=c;u<c+64&&u<r.length;u++)n[u]=r[u]^a[u-c];qm(s,0,o)}return ia.wipe(a),i===0&&ia.wipe(s),n}_s.streamXOR=Bu;function Hm(e,t,r,n){return n===void 0&&(n=0),ia.wipe(r),Bu(e,t,r,r,n)}_s.stream=Hm;function qm(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}var ku={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});function Km(e,t,r){return~(e-1)&t|e-1&r}Lr.select=Km;function Gm(e,t){return(e|0)-(t|0)-1>>>31&1}Lr.lessOrEqual=Gm;function zu(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Lr.compare=zu;function Ym(e,t){return e.length===0||t.length===0?!1:zu(e,t)!==0}Lr.equal=Ym,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Lr,r=Yt;e.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var u=a[2]|a[3]<<8;this._r[1]=(c>>>13|u<<3)&8191;var f=a[4]|a[5]<<8;this._r[2]=(u>>>10|f<<6)&7939;var g=a[6]|a[7]<<8;this._r[3]=(f>>>7|g<<9)&8191;var d=a[8]|a[9]<<8;this._r[4]=(g>>>4|d<<12)&255,this._r[5]=d>>>1&8190;var w=a[10]|a[11]<<8;this._r[6]=(d>>>14|w<<2)&8191;var v=a[12]|a[13]<<8;this._r[7]=(w>>>11|v<<5)&8065;var E=a[14]|a[15]<<8;this._r[8]=(v>>>8|E<<8)&8191,this._r[9]=E>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,u){for(var f=this._fin?0:2048,g=this._h[0],d=this._h[1],w=this._h[2],v=this._h[3],E=this._h[4],C=this._h[5],A=this._h[6],b=this._h[7],S=this._h[8],y=this._h[9],x=this._r[0],p=this._r[1],l=this._r[2],m=this._r[3],M=this._r[4],L=this._r[5],U=this._r[6],j=this._r[7],F=this._r[8],D=this._r[9];u>=16;){var P=a[c+0]|a[c+1]<<8;g+=P&8191;var G=a[c+2]|a[c+3]<<8;d+=(P>>>13|G<<3)&8191;var W=a[c+4]|a[c+5]<<8;w+=(G>>>10|W<<6)&8191;var z=a[c+6]|a[c+7]<<8;v+=(W>>>7|z<<9)&8191;var H=a[c+8]|a[c+9]<<8;E+=(z>>>4|H<<12)&8191,C+=H>>>1&8191;var k=a[c+10]|a[c+11]<<8;A+=(H>>>14|k<<2)&8191;var q=a[c+12]|a[c+13]<<8;b+=(k>>>11|q<<5)&8191;var ce=a[c+14]|a[c+15]<<8;S+=(q>>>8|ce<<8)&8191,y+=ce>>>5|f;var K=0,se=K;se+=g*x,se+=d*(5*D),se+=w*(5*F),se+=v*(5*j),se+=E*(5*U),K=se>>>13,se&=8191,se+=C*(5*L),se+=A*(5*M),se+=b*(5*m),se+=S*(5*l),se+=y*(5*p),K+=se>>>13,se&=8191;var ee=K;ee+=g*p,ee+=d*x,ee+=w*(5*D),ee+=v*(5*F),ee+=E*(5*j),K=ee>>>13,ee&=8191,ee+=C*(5*U),ee+=A*(5*L),ee+=b*(5*M),ee+=S*(5*m),ee+=y*(5*l),K+=ee>>>13,ee&=8191;var ie=K;ie+=g*l,ie+=d*p,ie+=w*x,ie+=v*(5*D),ie+=E*(5*F),K=ie>>>13,ie&=8191,ie+=C*(5*j),ie+=A*(5*U),ie+=b*(5*L),ie+=S*(5*M),ie+=y*(5*m),K+=ie>>>13,ie&=8191;var N=K;N+=g*m,N+=d*l,N+=w*p,N+=v*x,N+=E*(5*D),K=N>>>13,N&=8191,N+=C*(5*F),N+=A*(5*j),N+=b*(5*U),N+=S*(5*L),N+=y*(5*M),K+=N>>>13,N&=8191;var R=K;R+=g*M,R+=d*m,R+=w*l,R+=v*p,R+=E*x,K=R>>>13,R&=8191,R+=C*(5*D),R+=A*(5*F),R+=b*(5*j),R+=S*(5*U),R+=y*(5*L),K+=R>>>13,R&=8191;var $=K;$+=g*L,$+=d*M,$+=w*m,$+=v*l,$+=E*p,K=$>>>13,$&=8191,$+=C*x,$+=A*(5*D),$+=b*(5*F),$+=S*(5*j),$+=y*(5*U),K+=$>>>13,$&=8191;var h=K;h+=g*U,h+=d*L,h+=w*M,h+=v*m,h+=E*l,K=h>>>13,h&=8191,h+=C*p,h+=A*x,h+=b*(5*D),h+=S*(5*F),h+=y*(5*j),K+=h>>>13,h&=8191;var I=K;I+=g*j,I+=d*U,I+=w*L,I+=v*M,I+=E*m,K=I>>>13,I&=8191,I+=C*l,I+=A*p,I+=b*x,I+=S*(5*D),I+=y*(5*F),K+=I>>>13,I&=8191;var Y=K;Y+=g*F,Y+=d*j,Y+=w*U,Y+=v*L,Y+=E*M,K=Y>>>13,Y&=8191,Y+=C*m,Y+=A*l,Y+=b*p,Y+=S*x,Y+=y*(5*D),K+=Y>>>13,Y&=8191;var Q=K;Q+=g*D,Q+=d*F,Q+=w*j,Q+=v*U,Q+=E*L,K=Q>>>13,Q&=8191,Q+=C*M,Q+=A*m,Q+=b*l,Q+=S*p,Q+=y*x,K+=Q>>>13,Q&=8191,K=(K<<2)+K|0,K=K+se|0,se=K&8191,K=K>>>13,ee+=K,g=se,d=ee,w=ie,v=N,E=R,C=$,A=h,b=I,S=Y,y=Q,c+=16,u-=16}this._h[0]=g,this._h[1]=d,this._h[2]=w,this._h[3]=v,this._h[4]=E,this._h[5]=C,this._h[6]=A,this._h[7]=b,this._h[8]=S,this._h[9]=y},o.prototype.finish=function(a,c){c===void 0&&(c=0);var u=new Uint16Array(10),f,g,d,w;if(this._leftover){for(w=this._leftover,this._buffer[w++]=1;w<16;w++)this._buffer[w]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(f=this._h[1]>>>13,this._h[1]&=8191,w=2;w<10;w++)this._h[w]+=f,f=this._h[w]>>>13,this._h[w]&=8191;for(this._h[0]+=f*5,f=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=f,f=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=f,u[0]=this._h[0]+5,f=u[0]>>>13,u[0]&=8191,w=1;w<10;w++)u[w]=this._h[w]+f,f=u[w]>>>13,u[w]&=8191;for(u[9]-=8192,g=(f^1)-1,w=0;w<10;w++)u[w]&=g;for(g=~g,w=0;w<10;w++)this._h[w]=this._h[w]&g|u[w];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,d=this._h[0]+this._pad[0],this._h[0]=d&65535,w=1;w<8;w++)d=(this._h[w]+this._pad[w]|0)+(d>>>16)|0,this._h[w]=d&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,u=a.length,f;if(this._leftover){f=16-this._leftover,f>u&&(f=u);for(var g=0;g<f;g++)this._buffer[this._leftover+g]=a[c+g];if(u-=f,c+=f,this._leftover+=f,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(u>=16&&(f=u-u%16,this._blocks(a,c,f),c+=f,u-=f),u){for(var g=0;g<u;g++)this._buffer[this._leftover+g]=a[c+g];this._leftover+=u}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();e.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var u=c.digest();return c.clean(),u}e.oneTimeAuth=i;function s(o,a){return o.length!==e.DIGEST_LENGTH||a.length!==e.DIGEST_LENGTH?!1:t.equal(o,a)}e.equal=s}(ku),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=_s,r=ku,n=Yt,i=fe,s=Lr;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(u){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,u.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(u)}return c.prototype.seal=function(u,f,g,d){if(u.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var w=new Uint8Array(16);w.set(u,w.length-u.length);var v=new Uint8Array(32);t.stream(this._key,w,v,4);var E=f.length+this.tagLength,C;if(d){if(d.length!==E)throw new Error("ChaCha20Poly1305: incorrect destination length");C=d}else C=new Uint8Array(E);return t.streamXOR(this._key,w,f,C,4),this._authenticate(C.subarray(C.length-this.tagLength,C.length),v,C.subarray(0,C.length-this.tagLength),g),n.wipe(w),C},c.prototype.open=function(u,f,g,d){if(u.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(f.length<this.tagLength)return null;var w=new Uint8Array(16);w.set(u,w.length-u.length);var v=new Uint8Array(32);t.stream(this._key,w,v,4);var E=new Uint8Array(this.tagLength);if(this._authenticate(E,v,f.subarray(0,f.length-this.tagLength),g),!s.equal(E,f.subarray(f.length-this.tagLength,f.length)))return null;var C=f.length-this.tagLength,A;if(d){if(d.length!==C)throw new Error("ChaCha20Poly1305: incorrect destination length");A=d}else A=new Uint8Array(C);return t.streamXOR(this._key,w,f.subarray(0,f.length-this.tagLength),A,4),n.wipe(w),A},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(u,f,g,d){var w=new r.Poly1305(f);d&&(w.update(d),d.length%16>0&&w.update(o.subarray(d.length%16))),w.update(g),g.length%16>0&&w.update(o.subarray(g.length%16));var v=new Uint8Array(8);d&&i.writeUint64LE(d.length,v),w.update(v),i.writeUint64LE(g.length,v),w.update(v);for(var E=w.digest(),C=0;C<E.length;C++)u[C]=E[C];w.clean(),n.wipe(E),n.wipe(v)},c}();e.ChaCha20Poly1305=a}(na);var Wu={},Si={},sa={};Object.defineProperty(sa,"__esModule",{value:!0});function Jm(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}sa.isSerializableHash=Jm,Object.defineProperty(Si,"__esModule",{value:!0});var mr=sa,Zm=Lr,Xm=Yt,Vu=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),mr.isSerializableHash(this._inner)&&mr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Xm.wipe(n)}return e.prototype.reset=function(){if(!mr.isSerializableHash(this._inner)||!mr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){mr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),mr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!mr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!mr.isSerializableHash(this._inner)||!mr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!mr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();Si.HMAC=Vu;function Qm(e,t,r){var n=new Vu(e,t);n.update(r);var i=n.digest();return n.clean(),i}Si.hmac=Qm,Si.equal=Zm.equal,Object.defineProperty(Wu,"__esModule",{value:!0});var Hu=Si,qu=Yt,ey=function(){function e(t,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var s=Hu.hmac(this._hash,n,r);this._hmac=new Hu.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),qu.wipe(this._buffer),qu.wipe(this._counter),this._bufpos=0},e}(),ty=Wu.HKDF=ey,Es={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=fe,r=Yt;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,u){if(u===void 0&&(u=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var f=0;if(this._bytesHashed+=u,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&u>0;)this._buffer[this._bufferLength++]=c[f++],u--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(u>=this.blockSize&&(f=s(this._temp,this._state,c,f,u),u%=this.blockSize);u>0;)this._buffer[this._bufferLength++]=c[f++],u--;return this},a.prototype.finish=function(c){if(!this._finished){var u=this._bytesHashed,f=this._bufferLength,g=u/536870912|0,d=u<<3,w=u%64<56?64:128;this._buffer[f]=128;for(var v=f+1;v<w-8;v++)this._buffer[v]=0;t.writeUint32BE(g,this._buffer,w-8),t.writeUint32BE(d,this._buffer,w-4),s(this._temp,this._state,this._buffer,0,w),this._finished=!0}for(var v=0;v<this.digestLength/4;v++)t.writeUint32BE(this._state[v],c,v*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();e.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,u,f,g){for(;g>=64;){for(var d=c[0],w=c[1],v=c[2],E=c[3],C=c[4],A=c[5],b=c[6],S=c[7],y=0;y<16;y++){var x=f+y*4;a[y]=t.readUint32BE(u,x)}for(var y=16;y<64;y++){var p=a[y-2],l=(p>>>17|p<<32-17)^(p>>>19|p<<32-19)^p>>>10;p=a[y-15];var m=(p>>>7|p<<32-7)^(p>>>18|p<<32-18)^p>>>3;a[y]=(l+a[y-7]|0)+(m+a[y-16]|0)}for(var y=0;y<64;y++){var l=(((C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&A^~C&b)|0)+(S+(i[y]+a[y]|0)|0)|0,m=((d>>>2|d<<32-2)^(d>>>13|d<<32-13)^(d>>>22|d<<32-22))+(d&w^d&v^w&v)|0;S=b,b=A,A=C,C=E+l|0,E=v,v=w,w=d,d=l+m|0}c[0]+=d,c[1]+=w,c[2]+=v,c[3]+=E,c[4]+=C,c[5]+=A,c[6]+=b,c[7]+=S,f+=64,g-=64}return f}function o(a){var c=new n;c.update(a);var u=c.digest();return c.clean(),u}e.hash=o})(Es);var oa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=Nn,r=Yt;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function n(y){const x=new Float64Array(16);if(y)for(let p=0;p<y.length;p++)x[p]=y[p];return x}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(y){let x=1;for(let p=0;p<16;p++){let l=y[p]+x+65535;x=Math.floor(l/65536),y[p]=l-x*65536}y[0]+=x-1+37*(x-1)}function a(y,x,p){const l=~(p-1);for(let m=0;m<16;m++){const M=l&(y[m]^x[m]);y[m]^=M,x[m]^=M}}function c(y,x){const p=n(),l=n();for(let m=0;m<16;m++)l[m]=x[m];o(l),o(l),o(l);for(let m=0;m<2;m++){p[0]=l[0]-65517;for(let L=1;L<15;L++)p[L]=l[L]-65535-(p[L-1]>>16&1),p[L-1]&=65535;p[15]=l[15]-32767-(p[14]>>16&1);const M=p[15]>>16&1;p[14]&=65535,a(l,p,1-M)}for(let m=0;m<16;m++)y[2*m]=l[m]&255,y[2*m+1]=l[m]>>8}function u(y,x){for(let p=0;p<16;p++)y[p]=x[2*p]+(x[2*p+1]<<8);y[15]&=32767}function f(y,x,p){for(let l=0;l<16;l++)y[l]=x[l]+p[l]}function g(y,x,p){for(let l=0;l<16;l++)y[l]=x[l]-p[l]}function d(y,x,p){let l,m,M=0,L=0,U=0,j=0,F=0,D=0,P=0,G=0,W=0,z=0,H=0,k=0,q=0,ce=0,K=0,se=0,ee=0,ie=0,N=0,R=0,$=0,h=0,I=0,Y=0,Q=0,Se=0,xe=0,ye=0,Ne=0,Xe=0,He=0,$e=p[0],Ie=p[1],we=p[2],be=p[3],ve=p[4],de=p[5],he=p[6],oe=p[7],_e=p[8],Oe=p[9],le=p[10],Ce=p[11],Le=p[12],Be=p[13],ke=p[14],je=p[15];l=x[0],M+=l*$e,L+=l*Ie,U+=l*we,j+=l*be,F+=l*ve,D+=l*de,P+=l*he,G+=l*oe,W+=l*_e,z+=l*Oe,H+=l*le,k+=l*Ce,q+=l*Le,ce+=l*Be,K+=l*ke,se+=l*je,l=x[1],L+=l*$e,U+=l*Ie,j+=l*we,F+=l*be,D+=l*ve,P+=l*de,G+=l*he,W+=l*oe,z+=l*_e,H+=l*Oe,k+=l*le,q+=l*Ce,ce+=l*Le,K+=l*Be,se+=l*ke,ee+=l*je,l=x[2],U+=l*$e,j+=l*Ie,F+=l*we,D+=l*be,P+=l*ve,G+=l*de,W+=l*he,z+=l*oe,H+=l*_e,k+=l*Oe,q+=l*le,ce+=l*Ce,K+=l*Le,se+=l*Be,ee+=l*ke,ie+=l*je,l=x[3],j+=l*$e,F+=l*Ie,D+=l*we,P+=l*be,G+=l*ve,W+=l*de,z+=l*he,H+=l*oe,k+=l*_e,q+=l*Oe,ce+=l*le,K+=l*Ce,se+=l*Le,ee+=l*Be,ie+=l*ke,N+=l*je,l=x[4],F+=l*$e,D+=l*Ie,P+=l*we,G+=l*be,W+=l*ve,z+=l*de,H+=l*he,k+=l*oe,q+=l*_e,ce+=l*Oe,K+=l*le,se+=l*Ce,ee+=l*Le,ie+=l*Be,N+=l*ke,R+=l*je,l=x[5],D+=l*$e,P+=l*Ie,G+=l*we,W+=l*be,z+=l*ve,H+=l*de,k+=l*he,q+=l*oe,ce+=l*_e,K+=l*Oe,se+=l*le,ee+=l*Ce,ie+=l*Le,N+=l*Be,R+=l*ke,$+=l*je,l=x[6],P+=l*$e,G+=l*Ie,W+=l*we,z+=l*be,H+=l*ve,k+=l*de,q+=l*he,ce+=l*oe,K+=l*_e,se+=l*Oe,ee+=l*le,ie+=l*Ce,N+=l*Le,R+=l*Be,$+=l*ke,h+=l*je,l=x[7],G+=l*$e,W+=l*Ie,z+=l*we,H+=l*be,k+=l*ve,q+=l*de,ce+=l*he,K+=l*oe,se+=l*_e,ee+=l*Oe,ie+=l*le,N+=l*Ce,R+=l*Le,$+=l*Be,h+=l*ke,I+=l*je,l=x[8],W+=l*$e,z+=l*Ie,H+=l*we,k+=l*be,q+=l*ve,ce+=l*de,K+=l*he,se+=l*oe,ee+=l*_e,ie+=l*Oe,N+=l*le,R+=l*Ce,$+=l*Le,h+=l*Be,I+=l*ke,Y+=l*je,l=x[9],z+=l*$e,H+=l*Ie,k+=l*we,q+=l*be,ce+=l*ve,K+=l*de,se+=l*he,ee+=l*oe,ie+=l*_e,N+=l*Oe,R+=l*le,$+=l*Ce,h+=l*Le,I+=l*Be,Y+=l*ke,Q+=l*je,l=x[10],H+=l*$e,k+=l*Ie,q+=l*we,ce+=l*be,K+=l*ve,se+=l*de,ee+=l*he,ie+=l*oe,N+=l*_e,R+=l*Oe,$+=l*le,h+=l*Ce,I+=l*Le,Y+=l*Be,Q+=l*ke,Se+=l*je,l=x[11],k+=l*$e,q+=l*Ie,ce+=l*we,K+=l*be,se+=l*ve,ee+=l*de,ie+=l*he,N+=l*oe,R+=l*_e,$+=l*Oe,h+=l*le,I+=l*Ce,Y+=l*Le,Q+=l*Be,Se+=l*ke,xe+=l*je,l=x[12],q+=l*$e,ce+=l*Ie,K+=l*we,se+=l*be,ee+=l*ve,ie+=l*de,N+=l*he,R+=l*oe,$+=l*_e,h+=l*Oe,I+=l*le,Y+=l*Ce,Q+=l*Le,Se+=l*Be,xe+=l*ke,ye+=l*je,l=x[13],ce+=l*$e,K+=l*Ie,se+=l*we,ee+=l*be,ie+=l*ve,N+=l*de,R+=l*he,$+=l*oe,h+=l*_e,I+=l*Oe,Y+=l*le,Q+=l*Ce,Se+=l*Le,xe+=l*Be,ye+=l*ke,Ne+=l*je,l=x[14],K+=l*$e,se+=l*Ie,ee+=l*we,ie+=l*be,N+=l*ve,R+=l*de,$+=l*he,h+=l*oe,I+=l*_e,Y+=l*Oe,Q+=l*le,Se+=l*Ce,xe+=l*Le,ye+=l*Be,Ne+=l*ke,Xe+=l*je,l=x[15],se+=l*$e,ee+=l*Ie,ie+=l*we,N+=l*be,R+=l*ve,$+=l*de,h+=l*he,I+=l*oe,Y+=l*_e,Q+=l*Oe,Se+=l*le,xe+=l*Ce,ye+=l*Le,Ne+=l*Be,Xe+=l*ke,He+=l*je,M+=38*ee,L+=38*ie,U+=38*N,j+=38*R,F+=38*$,D+=38*h,P+=38*I,G+=38*Y,W+=38*Q,z+=38*Se,H+=38*xe,k+=38*ye,q+=38*Ne,ce+=38*Xe,K+=38*He,m=1,l=M+m+65535,m=Math.floor(l/65536),M=l-m*65536,l=L+m+65535,m=Math.floor(l/65536),L=l-m*65536,l=U+m+65535,m=Math.floor(l/65536),U=l-m*65536,l=j+m+65535,m=Math.floor(l/65536),j=l-m*65536,l=F+m+65535,m=Math.floor(l/65536),F=l-m*65536,l=D+m+65535,m=Math.floor(l/65536),D=l-m*65536,l=P+m+65535,m=Math.floor(l/65536),P=l-m*65536,l=G+m+65535,m=Math.floor(l/65536),G=l-m*65536,l=W+m+65535,m=Math.floor(l/65536),W=l-m*65536,l=z+m+65535,m=Math.floor(l/65536),z=l-m*65536,l=H+m+65535,m=Math.floor(l/65536),H=l-m*65536,l=k+m+65535,m=Math.floor(l/65536),k=l-m*65536,l=q+m+65535,m=Math.floor(l/65536),q=l-m*65536,l=ce+m+65535,m=Math.floor(l/65536),ce=l-m*65536,l=K+m+65535,m=Math.floor(l/65536),K=l-m*65536,l=se+m+65535,m=Math.floor(l/65536),se=l-m*65536,M+=m-1+37*(m-1),m=1,l=M+m+65535,m=Math.floor(l/65536),M=l-m*65536,l=L+m+65535,m=Math.floor(l/65536),L=l-m*65536,l=U+m+65535,m=Math.floor(l/65536),U=l-m*65536,l=j+m+65535,m=Math.floor(l/65536),j=l-m*65536,l=F+m+65535,m=Math.floor(l/65536),F=l-m*65536,l=D+m+65535,m=Math.floor(l/65536),D=l-m*65536,l=P+m+65535,m=Math.floor(l/65536),P=l-m*65536,l=G+m+65535,m=Math.floor(l/65536),G=l-m*65536,l=W+m+65535,m=Math.floor(l/65536),W=l-m*65536,l=z+m+65535,m=Math.floor(l/65536),z=l-m*65536,l=H+m+65535,m=Math.floor(l/65536),H=l-m*65536,l=k+m+65535,m=Math.floor(l/65536),k=l-m*65536,l=q+m+65535,m=Math.floor(l/65536),q=l-m*65536,l=ce+m+65535,m=Math.floor(l/65536),ce=l-m*65536,l=K+m+65535,m=Math.floor(l/65536),K=l-m*65536,l=se+m+65535,m=Math.floor(l/65536),se=l-m*65536,M+=m-1+37*(m-1),y[0]=M,y[1]=L,y[2]=U,y[3]=j,y[4]=F,y[5]=D,y[6]=P,y[7]=G,y[8]=W,y[9]=z,y[10]=H,y[11]=k,y[12]=q,y[13]=ce,y[14]=K,y[15]=se}function w(y,x){d(y,x,x)}function v(y,x){const p=n();for(let l=0;l<16;l++)p[l]=x[l];for(let l=253;l>=0;l--)w(p,p),l!==2&&l!==4&&d(p,p,x);for(let l=0;l<16;l++)y[l]=p[l]}function E(y,x){const p=new Uint8Array(32),l=new Float64Array(80),m=n(),M=n(),L=n(),U=n(),j=n(),F=n();for(let W=0;W<31;W++)p[W]=y[W];p[31]=y[31]&127|64,p[0]&=248,u(l,x);for(let W=0;W<16;W++)M[W]=l[W];m[0]=U[0]=1;for(let W=254;W>=0;--W){const z=p[W>>>3]>>>(W&7)&1;a(m,M,z),a(L,U,z),f(j,m,L),g(m,m,L),f(L,M,U),g(M,M,U),w(U,j),w(F,m),d(m,L,m),d(L,M,j),f(j,m,L),g(m,m,L),w(M,m),g(L,U,F),d(m,L,s),f(m,m,U),d(L,L,m),d(m,U,F),d(U,M,l),w(M,j),a(m,M,z),a(L,U,z)}for(let W=0;W<16;W++)l[W+16]=m[W],l[W+32]=L[W],l[W+48]=M[W],l[W+64]=U[W];const D=l.subarray(32),P=l.subarray(16);v(D,D),d(P,P,D);const G=new Uint8Array(32);return c(G,P),G}e.scalarMult=E;function C(y){return E(y,i)}e.scalarMultBase=C;function A(y){if(y.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const x=new Uint8Array(y);return{publicKey:C(x),secretKey:x}}e.generateKeyPairFromSeed=A;function b(y){const x=(0,t.randomBytes)(32,y),p=A(x);return(0,r.wipe)(x),p}e.generateKeyPair=b;function S(y,x,p=!1){if(y.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(x.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const l=E(y,x);if(p){let m=0;for(let M=0;M<l.length;M++)m|=l[M];if(m===0)throw new Error("X25519: invalid shared key")}return l}e.sharedKey=S})(oa);var Ku=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},ry=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),ny=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),iy=function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e}(),sy=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),oy=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),ay=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,cy=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Gu=3,ly=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ay]],Yu=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function uy(e){return e?Ju(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new oy:typeof navigator<"u"?Ju(navigator.userAgent):dy()}function hy(e){return e!==""&&ly.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1)}function Ju(e){var t=hy(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new sy;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Gu&&(i=Ku(Ku([],i,!0),py(Gu-i.length),!0)):i=[];var s=i.join("."),o=fy(e),a=cy.exec(e);return a&&a[1]?new iy(r,s,o,a[1]):new ry(r,s,o)}function fy(e){for(var t=0,r=Yu.length;t<r;t++){var n=Yu[t],i=n[0],s=n[1],o=s.exec(e);if(o)return i}return null}function dy(){var e=typeof process<"u"&&process.version;return e?new ny(process.version.slice(1)):null}function py(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.getLocalStorage=qe.getLocalStorageOrThrow=qe.getCrypto=qe.getCryptoOrThrow=Xu=qe.getLocation=qe.getLocationOrThrow=aa=qe.getNavigator=qe.getNavigatorOrThrow=Zu=qe.getDocument=qe.getDocumentOrThrow=qe.getFromWindowOrThrow=qe.getFromWindow=void 0;function hn(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}qe.getFromWindow=hn;function Ln(e){const t=hn(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}qe.getFromWindowOrThrow=Ln;function gy(){return Ln("document")}qe.getDocumentOrThrow=gy;function my(){return hn("document")}var Zu=qe.getDocument=my;function yy(){return Ln("navigator")}qe.getNavigatorOrThrow=yy;function wy(){return hn("navigator")}var aa=qe.getNavigator=wy;function vy(){return Ln("location")}qe.getLocationOrThrow=vy;function by(){return hn("location")}var Xu=qe.getLocation=by;function _y(){return Ln("crypto")}qe.getCryptoOrThrow=_y;function Ey(){return hn("crypto")}qe.getCrypto=Ey;function Sy(){return Ln("localStorage")}qe.getLocalStorageOrThrow=Sy;function xy(){return hn("localStorage")}qe.getLocalStorage=xy;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});var Qu=ca.getWindowMetadata=void 0;const eh=qe;function Oy(){let e,t;try{e=eh.getDocumentOrThrow(),t=eh.getLocationOrThrow()}catch{return null}function r(){const g=e.getElementsByTagName("link"),d=[];for(let w=0;w<g.length;w++){const v=g[w],E=v.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const C=v.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let A=t.protocol+"//"+t.host;if(C.indexOf("/")===0)A+=C;else{const b=t.pathname.split("/");b.pop();const S=b.join("/");A+=S+"/"+C}d.push(A)}else if(C.indexOf("//")===0){const A=t.protocol+C;d.push(A)}else d.push(C)}}return d}function n(...g){const d=e.getElementsByTagName("meta");for(let w=0;w<d.length;w++){const v=d[w],E=["itemprop","property","name"].map(C=>v.getAttribute(C)).filter(C=>C?g.includes(C):!1);if(E.length&&E){const C=v.getAttribute("content");if(C)return C}}return""}function i(){let g=n("name","og:site_name","og:title","twitter:title");return g||(g=e.title),g}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=t.origin,u=r();return{description:a,url:c,icons:u,name:o}}Qu=ca.getWindowMetadata=Oy;var xi={},Dy=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),th="%[a-f0-9]{2}",rh=new RegExp("("+th+")|([^%]+?)","gi"),nh=new RegExp("("+th+")+","gi");function la(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],la(r),la(n))}function Iy(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(rh)||[],r=1;r<t.length;r++)e=la(t,r).join(""),t=e.match(rh)||[];return e}}function Cy(e){for(var t={"%FE%FF":"","%FF%FE":""},r=nh.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=Iy(r[0]);n!==r[0]&&(t[r[0]]=n)}r=nh.exec(e)}t["%C2"]="";for(var i=Object.keys(t),s=0;s<i.length;s++){var o=i[s];e=e.replace(new RegExp(o,"g"),t[o])}return e}var Ay=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Cy(e)}},$y=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},Ty=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),s=0;s<n.length;s++){var o=n[s],a=e[o];(i?t.indexOf(o)!==-1:t(o,a,e))&&(r[o]=a)}return r};(function(e){const t=Dy,r=Ay,n=$y,i=Ty,s=b=>b==null,o=Symbol("encodeFragmentIdentifier");function a(b){switch(b.arrayFormat){case"index":return S=>(y,x)=>{const p=y.length;return x===void 0||b.skipNull&&x===null||b.skipEmptyString&&x===""?y:x===null?[...y,[f(S,b),"[",p,"]"].join("")]:[...y,[f(S,b),"[",f(p,b),"]=",f(x,b)].join("")]};case"bracket":return S=>(y,x)=>x===void 0||b.skipNull&&x===null||b.skipEmptyString&&x===""?y:x===null?[...y,[f(S,b),"[]"].join("")]:[...y,[f(S,b),"[]=",f(x,b)].join("")];case"colon-list-separator":return S=>(y,x)=>x===void 0||b.skipNull&&x===null||b.skipEmptyString&&x===""?y:x===null?[...y,[f(S,b),":list="].join("")]:[...y,[f(S,b),":list=",f(x,b)].join("")];case"comma":case"separator":case"bracket-separator":{const S=b.arrayFormat==="bracket-separator"?"[]=":"=";return y=>(x,p)=>p===void 0||b.skipNull&&p===null||b.skipEmptyString&&p===""?x:(p=p===null?"":p,x.length===0?[[f(y,b),S,f(p,b)].join("")]:[[x,f(p,b)].join(b.arrayFormatSeparator)])}default:return S=>(y,x)=>x===void 0||b.skipNull&&x===null||b.skipEmptyString&&x===""?y:x===null?[...y,f(S,b)]:[...y,[f(S,b),"=",f(x,b)].join("")]}}function c(b){let S;switch(b.arrayFormat){case"index":return(y,x,p)=>{if(S=/\[(\d*)\]$/.exec(y),y=y.replace(/\[\d*\]$/,""),!S){p[y]=x;return}p[y]===void 0&&(p[y]={}),p[y][S[1]]=x};case"bracket":return(y,x,p)=>{if(S=/(\[\])$/.exec(y),y=y.replace(/\[\]$/,""),!S){p[y]=x;return}if(p[y]===void 0){p[y]=[x];return}p[y]=[].concat(p[y],x)};case"colon-list-separator":return(y,x,p)=>{if(S=/(:list)$/.exec(y),y=y.replace(/:list$/,""),!S){p[y]=x;return}if(p[y]===void 0){p[y]=[x];return}p[y]=[].concat(p[y],x)};case"comma":case"separator":return(y,x,p)=>{const l=typeof x=="string"&&x.includes(b.arrayFormatSeparator),m=typeof x=="string"&&!l&&g(x,b).includes(b.arrayFormatSeparator);x=m?g(x,b):x;const M=l||m?x.split(b.arrayFormatSeparator).map(L=>g(L,b)):x===null?x:g(x,b);p[y]=M};case"bracket-separator":return(y,x,p)=>{const l=/(\[\])$/.test(y);if(y=y.replace(/\[\]$/,""),!l){p[y]=x&&g(x,b);return}const m=x===null?[]:x.split(b.arrayFormatSeparator).map(M=>g(M,b));if(p[y]===void 0){p[y]=m;return}p[y]=[].concat(p[y],m)};default:return(y,x,p)=>{if(p[y]===void 0){p[y]=x;return}p[y]=[].concat(p[y],x)}}}function u(b){if(typeof b!="string"||b.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(b,S){return S.encode?S.strict?t(b):encodeURIComponent(b):b}function g(b,S){return S.decode?r(b):b}function d(b){return Array.isArray(b)?b.sort():typeof b=="object"?d(Object.keys(b)).sort((S,y)=>Number(S)-Number(y)).map(S=>b[S]):b}function w(b){const S=b.indexOf("#");return S!==-1&&(b=b.slice(0,S)),b}function v(b){let S="";const y=b.indexOf("#");return y!==-1&&(S=b.slice(y)),S}function E(b){b=w(b);const S=b.indexOf("?");return S===-1?"":b.slice(S+1)}function C(b,S){return S.parseNumbers&&!Number.isNaN(Number(b))&&typeof b=="string"&&b.trim()!==""?b=Number(b):S.parseBooleans&&b!==null&&(b.toLowerCase()==="true"||b.toLowerCase()==="false")&&(b=b.toLowerCase()==="true"),b}function A(b,S){S=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},S),u(S.arrayFormatSeparator);const y=c(S),x=Object.create(null);if(typeof b!="string"||(b=b.trim().replace(/^[?#&]/,""),!b))return x;for(const p of b.split("&")){if(p==="")continue;let[l,m]=n(S.decode?p.replace(/\+/g," "):p,"=");m=m===void 0?null:["comma","separator","bracket-separator"].includes(S.arrayFormat)?m:g(m,S),y(g(l,S),m,x)}for(const p of Object.keys(x)){const l=x[p];if(typeof l=="object"&&l!==null)for(const m of Object.keys(l))l[m]=C(l[m],S);else x[p]=C(l,S)}return S.sort===!1?x:(S.sort===!0?Object.keys(x).sort():Object.keys(x).sort(S.sort)).reduce((p,l)=>{const m=x[l];return m&&typeof m=="object"&&!Array.isArray(m)?p[l]=d(m):p[l]=m,p},Object.create(null))}e.extract=E,e.parse=A,e.stringify=(b,S)=>{if(!b)return"";S=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},S),u(S.arrayFormatSeparator);const y=m=>S.skipNull&&s(b[m])||S.skipEmptyString&&b[m]==="",x=a(S),p={};for(const m of Object.keys(b))y(m)||(p[m]=b[m]);const l=Object.keys(p);return S.sort!==!1&&l.sort(S.sort),l.map(m=>{const M=b[m];return M===void 0?"":M===null?f(m,S):Array.isArray(M)?M.length===0&&S.arrayFormat==="bracket-separator"?f(m,S)+"[]":M.reduce(x(m),[]).join("&"):f(m,S)+"="+f(M,S)}).filter(m=>m.length>0).join("&")},e.parseUrl=(b,S)=>{S=Object.assign({decode:!0},S);const[y,x]=n(b,"#");return Object.assign({url:y.split("?")[0]||"",query:A(E(b),S)},S&&S.parseFragmentIdentifier&&x?{fragmentIdentifier:g(x,S)}:{})},e.stringifyUrl=(b,S)=>{S=Object.assign({encode:!0,strict:!0,[o]:!0},S);const y=w(b.url).split("?")[0]||"",x=e.extract(b.url),p=e.parse(x,{sort:!1}),l=Object.assign(p,b.query);let m=e.stringify(l,S);m&&(m=`?${m}`);let M=v(b.url);return b.fragmentIdentifier&&(M=`#${S[o]?f(b.fragmentIdentifier,S):b.fragmentIdentifier}`),`${y}${m}${M}`},e.pick=(b,S,y)=>{y=Object.assign({parseFragmentIdentifier:!0,[o]:!1},y);const{url:x,query:p,fragmentIdentifier:l}=e.parseUrl(b,y);return e.stringifyUrl({url:x,query:i(p,S),fragmentIdentifier:l},y)},e.exclude=(b,S,y)=>{const x=Array.isArray(S)?p=>!S.includes(p):(p,l)=>!S(p,l);return e.pick(b,x,y)}})(xi);const Py={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function ih(e,t){return e.includes(":")?[e]:t.chains||[]}const sh="base10",Ft="base16",ua="base64pad",ha="utf8",oh=0,fn=1,Ry=0,ah=1,fa=12,da=32;function Ny(){const e=oa.generateKeyPair();return{privateKey:jt(e.secretKey,Ft),publicKey:jt(e.publicKey,Ft)}}function pa(){const e=Nn.randomBytes(da);return jt(e,Ft)}function Ly(e,t){const r=oa.sharedKey(Vt(e,Ft),Vt(t,Ft)),n=new ty(Es.SHA256,r).expand(da);return jt(n,Ft)}function My(e){const t=Es.hash(Vt(e,Ft));return jt(t,Ft)}function Mn(e){const t=Es.hash(Vt(e,ha));return jt(t,Ft)}function Uy(e){return Vt(`${e}`,sh)}function Oi(e){return Number(jt(e,sh))}function jy(e){const t=Uy(typeof e.type<"u"?e.type:oh);if(Oi(t)===fn&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?Vt(e.senderPublicKey,Ft):void 0,n=typeof e.iv<"u"?Vt(e.iv,Ft):Nn.randomBytes(fa),i=new na.ChaCha20Poly1305(Vt(e.symKey,Ft)).seal(n,Vt(e.message,ha));return By({type:t,sealed:i,iv:n,senderPublicKey:r})}function Fy(e){const t=new na.ChaCha20Poly1305(Vt(e.symKey,Ft)),{sealed:r,iv:n}=Ss(e.encoded),i=t.open(n,r);if(i===null)throw new Error("Failed to decrypt");return jt(i,ha)}function By(e){if(Oi(e.type)===fn){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return jt(ta([e.type,e.senderPublicKey,e.iv,e.sealed]),ua)}return jt(ta([e.type,e.iv,e.sealed]),ua)}function Ss(e){const t=Vt(e,ua),r=t.slice(Ry,ah),n=ah;if(Oi(r)===fn){const a=n+da,c=a+fa,u=t.slice(n,a),f=t.slice(a,c),g=t.slice(c);return{type:r,sealed:g,iv:f,senderPublicKey:u}}const i=n+fa,s=t.slice(n,i),o=t.slice(i);return{type:r,sealed:o,iv:s}}function ky(e,t){const r=Ss(e);return ch({type:Oi(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?jt(r.senderPublicKey,Ft):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function ch(e){const t=(e==null?void 0:e.type)||oh;if(t===fn){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function lh(e){return e.type===fn&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}var zy=Object.defineProperty,uh=Object.getOwnPropertySymbols,Wy=Object.prototype.hasOwnProperty,Vy=Object.prototype.propertyIsEnumerable,hh=(e,t,r)=>t in e?zy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fh=(e,t)=>{for(var r in t||(t={}))Wy.call(t,r)&&hh(e,r,t[r]);if(uh)for(var r of uh(t))Vy.call(t,r)&&hh(e,r,t[r]);return e};const Hy="ReactNative",Mr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},qy="js";function ga(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function dh(){return!Zu()&&!!aa()&&navigator.product===Hy}function ma(){return!ga()&&!!aa()}function ya(){return dh()?Mr.reactNative:ga()?Mr.node:ma()?Mr.browser:Mr.unknown}function Ky(e,t){let r=xi.parse(e);return r=fh(fh({},r),t),e=xi.stringify(r),e}function Gy(){return Qu()||{name:"",description:"",url:"",icons:[""]}}function Yy(){if(ya()===Mr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const e=uy();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function Jy(){var e;const t=ya();return t===Mr.browser?[t,((e=Xu())==null?void 0:e.host)||"unknown"].join(":"):t}function Zy(e,t,r){const n=Yy(),i=Jy();return[[e,t].join("-"),[qy,r].join("-"),n,i].join("/")}function Xy({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o}){const a=r.split("?"),c=Zy(e,t,n),u={auth:i,ua:c,projectId:s,useOnCloseEvent:o||void 0},f=Ky(a[1]||"",u);return a[0]+"?"+f}function dn(e,t){return e.filter(r=>t.includes(r)).length===e.length}function ph(e){return Object.fromEntries(e.entries())}function gh(e){return new Map(Object.entries(e))}function Un(e=re.FIVE_MINUTES,t){const r=re.toMiliseconds(e||re.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(t))},r),n=o,i=a})}}function xs(e,t,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),t);try{const o=await e;n(o)}catch(o){i(o)}clearTimeout(s)})}function mh(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Qy(e){return mh("topic",e)}function ew(e){return mh("id",e)}function yh(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function lr(e,t){return re.fromMiliseconds((t||Date.now())+re.toMiliseconds(e))}function Ur(e){return Date.now()>=re.toMiliseconds(e)}function gt(e,t){return`${e}${t?`:${t}`:""}`}async function tw({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const s=`${i}/wc?requestId=${e}&sessionTopic=${t}`,o=ya();o===Mr.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===Mr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(n){console.error(n)}}const rw="irn";function wa(e){return(e==null?void 0:e.relay)||{protocol:rw}}function Os(e){const t=Py[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var nw=Object.defineProperty,wh=Object.getOwnPropertySymbols,iw=Object.prototype.hasOwnProperty,sw=Object.prototype.propertyIsEnumerable,vh=(e,t,r)=>t in e?nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ow=(e,t)=>{for(var r in t||(t={}))iw.call(t,r)&&vh(e,r,t[r]);if(wh)for(var r of wh(t))sw.call(t,r)&&vh(e,r,t[r]);return e};function aw(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=e[i];r[s]=o}}),r}function cw(e){const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=xi.parse(s);return{protocol:n,topic:lw(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:aw(o)}}function lw(e){return e.startsWith("//")?e.substring(2):e}function uw(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(i=>{const s=r+t+i;e[i]&&(n[s]=e[i])}),n}function hw(e){return`${e.protocol}:${e.topic}@${e.version}?`+xi.stringify(ow({symKey:e.symKey},uw(e.relay)))}function jn(e){const t=[];return e.forEach(r=>{const[n,i]=r.split(":");t.push(`${n}:${i}`)}),t}function fw(e){const t=[];return Object.values(e).forEach(r=>{t.push(...jn(r.accounts))}),t}function dw(e,t){const r=[];return Object.values(e).forEach(n=>{jn(n.accounts).includes(t)&&r.push(...n.methods)}),r}function pw(e,t){const r=[];return Object.values(e).forEach(n=>{jn(n.accounts).includes(t)&&r.push(...n.events)}),r}function gw(e,t){const r=Is(e,t);if(r)throw new Error(r.message);const n={};for(const[i,s]of Object.entries(e))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}const mw={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},yw={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function X(e,t){const{message:r,code:n}=yw[e];return{message:t?`${r} ${t}`:r,code:n}}function Et(e,t){const{message:r,code:n}=mw[e];return{message:t?`${r} ${t}`:r,code:n}}function Di(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function Ii(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Bt(e){return typeof e>"u"}function St(e,t){return t&&Bt(e)?!0:typeof e=="string"&&!!e.trim().length}function va(e,t){return t&&Bt(e)?!0:typeof e=="number"&&!isNaN(e)}function ww(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let s=!0;return dn(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:u}=e.namespaces[o],f=jn(a),g=r[o];(!dn(ih(o,g),f)||!dn(g.methods,c)||!dn(g.events,u))&&(s=!1)}),s):!1}function Ds(e){return St(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function vw(e){if(St(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Ds(r)}}return!1}function bw(e){if(St(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function _w(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function Ew(e){return e==null?void 0:e.topic}function Sw(e,t){let r=null;return St(e==null?void 0:e.publicKey,!1)||(r=X("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function bh(e){let t=!0;return Di(e)?e.length&&(t=e.every(r=>St(r,!1))):t=!1,t}function xw(e,t,r){let n=null;return Di(t)&&t.length?t.forEach(i=>{n||Ds(i)||(n=Et("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Ds(e)||(n=Et("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Ow(e,t,r){let n=null;return Object.entries(e).forEach(([i,s])=>{if(n)return;const o=xw(i,ih(i,s),`${t} ${r}`);o&&(n=o)}),n}function Dw(e,t){let r=null;return Di(e)?e.forEach(n=>{r||vw(n)||(r=Et("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Et("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Iw(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=Dw(n==null?void 0:n.accounts,`${t} namespace`);i&&(r=i)}),r}function Cw(e,t){let r=null;return bh(e==null?void 0:e.methods)?bh(e==null?void 0:e.events)||(r=Et("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Et("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function _h(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=Cw(n,`${t}, namespace`);i&&(r=i)}),r}function Aw(e,t,r){let n=null;if(e&&Ii(e)){const i=_h(e,t);i&&(n=i);const s=Ow(e,t,r);s&&(n=s)}else n=X("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function Is(e,t){let r=null;if(e&&Ii(e)){const n=_h(e,t);n&&(r=n);const i=Iw(e,t);i&&(r=i)}else r=X("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Eh(e){return St(e.protocol,!0)}function $w(e,t){let r=!1;return t&&!e?r=!0:e&&Di(e)&&e.length&&e.forEach(n=>{r=Eh(n)}),r}function Tw(e){return typeof e=="number"}function Ht(e){return typeof e<"u"&&typeof e!==null}function Pw(e){return!(!e||typeof e!="object"||!e.code||!va(e.code,!1)||!e.message||!St(e.message,!1))}function Rw(e){return!(Bt(e)||!St(e.method,!1))}function Nw(e){return!(Bt(e)||Bt(e.result)&&Bt(e.error)||!va(e.id,!1)||!St(e.jsonrpc,!1))}function Lw(e){return!(Bt(e)||!St(e.name,!1))}function Sh(e,t){return!(!Ds(t)||!fw(e).includes(t))}function Mw(e,t,r){return St(r,!1)?dw(e,t).includes(r):!1}function Uw(e,t,r){return St(r,!1)?pw(e,t).includes(r):!1}function xh(e,t,r){let n=null;const i=jw(e),s=Fw(t),o=Object.keys(i),a=Object.keys(s),c=Oh(Object.keys(e)),u=Oh(Object.keys(t)),f=c.filter(g=>!u.includes(g));return f.length&&(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(t).toString()}`)),dn(o,a)||(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(g=>{if(!g.includes(":")||n)return;const d=jn(t[g].accounts);d.includes(g)||(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${d.toString()}`))}),o.forEach(g=>{n||(dn(i[g].methods,s[g].methods)?dn(i[g].events,s[g].events)||(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${g}`)):n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${g}`))}),n}function jw(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}function Oh(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function Fw(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const n=jn(e[r].accounts);n==null||n.forEach(i=>{t[i]={accounts:e[r].accounts.filter(s=>s.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function Bw(e,t){return va(e,!1)&&e<=t.max&&e>=t.min}const kw="PARSE_ERROR",zw="INVALID_REQUEST",Ww="METHOD_NOT_FOUND",Vw="INVALID_PARAMS",Dh="INTERNAL_ERROR",ba="SERVER_ERROR",Hw=[-32700,-32600,-32601,-32602,-32603],Ci={[kw]:{code:-32700,message:"Parse error"},[zw]:{code:-32600,message:"Invalid Request"},[Ww]:{code:-32601,message:"Method not found"},[Vw]:{code:-32602,message:"Invalid params"},[Dh]:{code:-32603,message:"Internal error"},[ba]:{code:-32e3,message:"Server error"}},Ih=ba;function qw(e){return Hw.includes(e)}function Ch(e){return Object.keys(Ci).includes(e)?Ci[e]:Ci[Ih]}function Kw(e){const t=Object.values(Ci).find(r=>r.code===e);return t||Ci[Ih]}function Gw(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var Ah={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var _a=function(e,t){return _a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_a(e,t)};function Yw(e,t){_a(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ea=function(){return Ea=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ea.apply(this,arguments)};function Jw(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Zw(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Xw(e,t){return function(r,n){t(r,n,e)}}function Qw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ev(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{u(n.next(f))}catch(g){o(g)}}function c(f){try{u(n.throw(f))}catch(g){o(g)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function tv(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function rv(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function nv(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Sa(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $h(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function iv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($h(arguments[t]));return e}function sv(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ai(e){return this instanceof Ai?(this.v=e,this):new Ai(e)}function ov(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(w){return new Promise(function(v,E){s.push([d,w,v,E])>1||a(d,w)})})}function a(d,w){try{c(n[d](w))}catch(v){g(s[0][3],v)}}function c(d){d.value instanceof Ai?Promise.resolve(d.value.v).then(u,f):g(s[0][2],d)}function u(d){a("next",d)}function f(d){a("throw",d)}function g(d,w){d(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function av(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Ai(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function cv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Sa=="function"?Sa(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function lv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function uv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function hv(e){return e&&e.__esModule?e:{default:e}}function fv(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function dv(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const pv=en(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ea},__asyncDelegator:av,__asyncGenerator:ov,__asyncValues:cv,__await:Ai,__awaiter:ev,__classPrivateFieldGet:fv,__classPrivateFieldSet:dv,__createBinding:rv,__decorate:Zw,__exportStar:nv,__extends:Yw,__generator:tv,__importDefault:hv,__importStar:uv,__makeTemplateObject:lv,__metadata:Qw,__param:Xw,__read:$h,__rest:Jw,__spread:iv,__spreadArrays:sv,__values:Sa},Symbol.toStringTag,{value:"Module"})));var xr={},Th;function gv(){if(Th)return xr;Th=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.isBrowserCryptoAvailable=xr.getSubtleCrypto=xr.getBrowerCrypto=void 0;function e(){return(Kt==null?void 0:Kt.crypto)||(Kt==null?void 0:Kt.msCrypto)||{}}xr.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}xr.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return xr.isBrowserCryptoAvailable=r,xr}var Or={},Ph;function mv(){if(Ph)return Or;Ph=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.isBrowser=Or.isNode=Or.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Or.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Or.isNode=t;function r(){return!e()&&!t()}return Or.isBrowser=r,Or}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=pv;t.__exportStar(gv(),e),t.__exportStar(mv(),e)})(Ah);function Rh(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function xa(e=6){return BigInt(Rh(e))}function Cs(e,t,r){return{id:r||Rh(),jsonrpc:"2.0",method:e,params:t}}function Oa(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Da(e,t,r){return{id:e,jsonrpc:"2.0",error:yv(t,r)}}function yv(e,t){return typeof e>"u"?Ch(Dh):(typeof e=="string"&&(e=Object.assign(Object.assign({},Ch(ba)),{message:e})),typeof t<"u"&&(e.data=t),qw(e.code)&&(e=Kw(e.code)),e)}class wv{}class vv extends wv{constructor(){super()}}class bv extends vv{constructor(t){super()}}const _v="^wss?:";function Ev(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Sv(e,t){const r=Ev(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Nh(e){return Sv(e,_v)}function xv(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Lh(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Ia(e){return Lh(e)&&"method"in e}function As(e){return Lh(e)&&(Dr(e)||ur(e))}function Dr(e){return"result"in e}function ur(e){return"error"in e}class Ov extends bv{constructor(t){super(t),this.events=new cr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Cs(t.method,t.params||[],t.id||xa().toString()),r)}async requestStrict(t,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${t.id}`,s=>{ur(s)?i(s.error):n(s.result)});try{await this.connection.send(t,r)}catch(s){i(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),As(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Dv=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Iv=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Mh=e=>e.split("?")[0],Uh=10,Cv=Dv();class Av{constructor(t){if(this.url=t,this.events=new cr.EventEmitter,this.registering=!1,!Nh(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Go(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!Nh(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{const i=Ah.isReactNative()?void 0:{rejectUnauthorized:!xv(t)},s=new Cv(t,[],i);Iv()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?vu(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),i=n.message||n.toString(),s=Da(t,i);this.events.emit("payload",s)}parseError(t,r=this.url){return Gw(t,Mh(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Uh&&this.events.setMaxListeners(Uh)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Mh(this.url)}`));return this.events.emit("register_error",r),r}}var $s={exports:{}};$s.exports,function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",g="[object Date]",d="[object Error]",w="[object Function]",v="[object GeneratorFunction]",E="[object Map]",C="[object Number]",A="[object Null]",b="[object Object]",S="[object Promise]",y="[object Proxy]",x="[object RegExp]",p="[object Set]",l="[object String]",m="[object Symbol]",M="[object Undefined]",L="[object WeakMap]",U="[object ArrayBuffer]",j="[object DataView]",F="[object Float32Array]",D="[object Float64Array]",P="[object Int8Array]",G="[object Int16Array]",W="[object Int32Array]",z="[object Uint8Array]",H="[object Uint8ClampedArray]",k="[object Uint16Array]",q="[object Uint32Array]",ce=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ee={};ee[F]=ee[D]=ee[P]=ee[G]=ee[W]=ee[z]=ee[H]=ee[k]=ee[q]=!0,ee[a]=ee[c]=ee[U]=ee[f]=ee[j]=ee[g]=ee[d]=ee[w]=ee[E]=ee[C]=ee[b]=ee[x]=ee[p]=ee[l]=ee[L]=!1;var ie=typeof Kt=="object"&&Kt&&Kt.Object===Object&&Kt,N=typeof self=="object"&&self&&self.Object===Object&&self,R=ie||N||Function("return this")(),$=t&&!t.nodeType&&t,h=$&&!0&&e&&!e.nodeType&&e,I=h&&h.exports===$,Y=I&&ie.process,Q=function(){try{return Y&&Y.binding&&Y.binding("util")}catch{}}(),Se=Q&&Q.isTypedArray;function xe(_,T){for(var V=-1,te=_==null?0:_.length,Je=0,ge=[];++V<te;){var ut=_[V];T(ut,V,_)&&(ge[Je++]=ut)}return ge}function ye(_,T){for(var V=-1,te=T.length,Je=_.length;++V<te;)_[Je+V]=T[V];return _}function Ne(_,T){for(var V=-1,te=_==null?0:_.length;++V<te;)if(T(_[V],V,_))return!0;return!1}function Xe(_,T){for(var V=-1,te=Array(_);++V<_;)te[V]=T(V);return te}function He(_){return function(T){return _(T)}}function $e(_,T){return _.has(T)}function Ie(_,T){return _==null?void 0:_[T]}function we(_){var T=-1,V=Array(_.size);return _.forEach(function(te,Je){V[++T]=[Je,te]}),V}function be(_,T){return function(V){return _(T(V))}}function ve(_){var T=-1,V=Array(_.size);return _.forEach(function(te){V[++T]=te}),V}var de=Array.prototype,he=Function.prototype,oe=Object.prototype,_e=R["__core-js_shared__"],Oe=he.toString,le=oe.hasOwnProperty,Ce=function(){var _=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),Le=oe.toString,Be=RegExp("^"+Oe.call(le).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=I?R.Buffer:void 0,je=R.Symbol,Qt=R.Uint8Array,ir=oe.propertyIsEnumerable,Er=de.splice,At=je?je.toStringTag:void 0,Sr=Object.getOwnPropertySymbols,sr=ke?ke.isBuffer:void 0,Yr=be(Object.keys,Object),Qe=oi(R,"DataView"),Ge=oi(R,"Map"),ot=oi(R,"Promise"),tt=oi(R,"Set"),at=oi(R,"WeakMap"),Ye=oi(Object,"create"),ft=In(Qe),mt=In(Ge),yt=In(ot),dt=In(tt),wt=In(at),pt=je?je.prototype:void 0,ct=pt?pt.valueOf:void 0;function Ke(_){var T=-1,V=_==null?0:_.length;for(this.clear();++T<V;){var te=_[T];this.set(te[0],te[1])}}function O(){this.__data__=Ye?Ye(null):{},this.size=0}function B(_){var T=this.has(_)&&delete this.__data__[_];return this.size-=T?1:0,T}function Z(_){var T=this.__data__;if(Ye){var V=T[_];return V===n?void 0:V}return le.call(T,_)?T[_]:void 0}function ae(_){var T=this.__data__;return Ye?T[_]!==void 0:le.call(T,_)}function Fe(_,T){var V=this.__data__;return this.size+=this.has(_)?0:1,V[_]=Ye&&T===void 0?n:T,this}Ke.prototype.clear=O,Ke.prototype.delete=B,Ke.prototype.get=Z,Ke.prototype.has=ae,Ke.prototype.set=Fe;function Ae(_){var T=-1,V=_==null?0:_.length;for(this.clear();++T<V;){var te=_[T];this.set(te[0],te[1])}}function Te(){this.__data__=[],this.size=0}function De(_){var T=this.__data__,V=fo(T,_);if(V<0)return!1;var te=T.length-1;return V==te?T.pop():Er.call(T,V,1),--this.size,!0}function $t(_){var T=this.__data__,V=fo(T,_);return V<0?void 0:T[V][1]}function rt(_){return fo(this.__data__,_)>-1}function lt(_,T){var V=this.__data__,te=fo(V,_);return te<0?(++this.size,V.push([_,T])):V[te][1]=T,this}Ae.prototype.clear=Te,Ae.prototype.delete=De,Ae.prototype.get=$t,Ae.prototype.has=rt,Ae.prototype.set=lt;function vt(_){var T=-1,V=_==null?0:_.length;for(this.clear();++T<V;){var te=_[T];this.set(te[0],te[1])}}function Jr(){this.size=0,this.__data__={hash:new Ke,map:new(Ge||Ae),string:new Ke}}function uo(_){var T=po(this,_).delete(_);return this.size-=T?1:0,T}function fr(_){return po(this,_).get(_)}function L4(_){return po(this,_).has(_)}function M4(_,T){var V=po(this,_),te=V.size;return V.set(_,T),this.size+=V.size==te?0:1,this}vt.prototype.clear=Jr,vt.prototype.delete=uo,vt.prototype.get=fr,vt.prototype.has=L4,vt.prototype.set=M4;function ho(_){var T=-1,V=_==null?0:_.length;for(this.__data__=new vt;++T<V;)this.add(_[T])}function U4(_){return this.__data__.set(_,n),this}function j4(_){return this.__data__.has(_)}ho.prototype.add=ho.prototype.push=U4,ho.prototype.has=j4;function Zr(_){var T=this.__data__=new Ae(_);this.size=T.size}function F4(){this.__data__=new Ae,this.size=0}function B4(_){var T=this.__data__,V=T.delete(_);return this.size=T.size,V}function k4(_){return this.__data__.get(_)}function z4(_){return this.__data__.has(_)}function W4(_,T){var V=this.__data__;if(V instanceof Ae){var te=V.__data__;if(!Ge||te.length<r-1)return te.push([_,T]),this.size=++V.size,this;V=this.__data__=new vt(te)}return V.set(_,T),this.size=V.size,this}Zr.prototype.clear=F4,Zr.prototype.delete=B4,Zr.prototype.get=k4,Zr.prototype.has=z4,Zr.prototype.set=W4;function V4(_,T){var V=go(_),te=!V&&s8(_),Je=!V&&!te&&ml(_),ge=!V&&!te&&!Je&&_0(_),ut=V||te||Je||ge,Ot=ut?Xe(_.length,String):[],Tt=Ot.length;for(var nt in _)(T||le.call(_,nt))&&!(ut&&(nt=="length"||Je&&(nt=="offset"||nt=="parent")||ge&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||e8(nt,Tt)))&&Ot.push(nt);return Ot}function fo(_,T){for(var V=_.length;V--;)if(y0(_[V][0],T))return V;return-1}function H4(_,T,V){var te=T(_);return go(_)?te:ye(te,V(_))}function is(_){return _==null?_===void 0?M:A:At&&At in Object(_)?X4(_):i8(_)}function d0(_){return ss(_)&&is(_)==a}function p0(_,T,V,te,Je){return _===T?!0:_==null||T==null||!ss(_)&&!ss(T)?_!==_&&T!==T:q4(_,T,V,te,p0,Je)}function q4(_,T,V,te,Je,ge){var ut=go(_),Ot=go(T),Tt=ut?c:Xr(_),nt=Ot?c:Xr(T);Tt=Tt==a?b:Tt,nt=nt==a?b:nt;var er=Tt==b,dr=nt==b,Mt=Tt==nt;if(Mt&&ml(_)){if(!ml(T))return!1;ut=!0,er=!1}if(Mt&&!er)return ge||(ge=new Zr),ut||_0(_)?g0(_,T,V,te,Je,ge):J4(_,T,Tt,V,te,Je,ge);if(!(V&i)){var or=er&&le.call(_,"__wrapped__"),ar=dr&&le.call(T,"__wrapped__");if(or||ar){var Qr=or?_.value():_,$r=ar?T.value():T;return ge||(ge=new Zr),Je(Qr,$r,V,te,ge)}}return Mt?(ge||(ge=new Zr),Z4(_,T,V,te,Je,ge)):!1}function K4(_){if(!b0(_)||r8(_))return!1;var T=w0(_)?Be:K;return T.test(In(_))}function G4(_){return ss(_)&&v0(_.length)&&!!ee[is(_)]}function Y4(_){if(!n8(_))return Yr(_);var T=[];for(var V in Object(_))le.call(_,V)&&V!="constructor"&&T.push(V);return T}function g0(_,T,V,te,Je,ge){var ut=V&i,Ot=_.length,Tt=T.length;if(Ot!=Tt&&!(ut&&Tt>Ot))return!1;var nt=ge.get(_);if(nt&&ge.get(T))return nt==T;var er=-1,dr=!0,Mt=V&s?new ho:void 0;for(ge.set(_,T),ge.set(T,_);++er<Ot;){var or=_[er],ar=T[er];if(te)var Qr=ut?te(ar,or,er,T,_,ge):te(or,ar,er,_,T,ge);if(Qr!==void 0){if(Qr)continue;dr=!1;break}if(Mt){if(!Ne(T,function($r,Cn){if(!$e(Mt,Cn)&&(or===$r||Je(or,$r,V,te,ge)))return Mt.push(Cn)})){dr=!1;break}}else if(!(or===ar||Je(or,ar,V,te,ge))){dr=!1;break}}return ge.delete(_),ge.delete(T),dr}function J4(_,T,V,te,Je,ge,ut){switch(V){case j:if(_.byteLength!=T.byteLength||_.byteOffset!=T.byteOffset)return!1;_=_.buffer,T=T.buffer;case U:return!(_.byteLength!=T.byteLength||!ge(new Qt(_),new Qt(T)));case f:case g:case C:return y0(+_,+T);case d:return _.name==T.name&&_.message==T.message;case x:case l:return _==T+"";case E:var Ot=we;case p:var Tt=te&i;if(Ot||(Ot=ve),_.size!=T.size&&!Tt)return!1;var nt=ut.get(_);if(nt)return nt==T;te|=s,ut.set(_,T);var er=g0(Ot(_),Ot(T),te,Je,ge,ut);return ut.delete(_),er;case m:if(ct)return ct.call(_)==ct.call(T)}return!1}function Z4(_,T,V,te,Je,ge){var ut=V&i,Ot=m0(_),Tt=Ot.length,nt=m0(T),er=nt.length;if(Tt!=er&&!ut)return!1;for(var dr=Tt;dr--;){var Mt=Ot[dr];if(!(ut?Mt in T:le.call(T,Mt)))return!1}var or=ge.get(_);if(or&&ge.get(T))return or==T;var ar=!0;ge.set(_,T),ge.set(T,_);for(var Qr=ut;++dr<Tt;){Mt=Ot[dr];var $r=_[Mt],Cn=T[Mt];if(te)var E0=ut?te(Cn,$r,Mt,T,_,ge):te($r,Cn,Mt,_,T,ge);if(!(E0===void 0?$r===Cn||Je($r,Cn,V,te,ge):E0)){ar=!1;break}Qr||(Qr=Mt=="constructor")}if(ar&&!Qr){var mo=_.constructor,yo=T.constructor;mo!=yo&&"constructor"in _&&"constructor"in T&&!(typeof mo=="function"&&mo instanceof mo&&typeof yo=="function"&&yo instanceof yo)&&(ar=!1)}return ge.delete(_),ge.delete(T),ar}function m0(_){return H4(_,c8,Q4)}function po(_,T){var V=_.__data__;return t8(T)?V[typeof T=="string"?"string":"hash"]:V.map}function oi(_,T){var V=Ie(_,T);return K4(V)?V:void 0}function X4(_){var T=le.call(_,At),V=_[At];try{_[At]=void 0;var te=!0}catch{}var Je=Le.call(_);return te&&(T?_[At]=V:delete _[At]),Je}var Q4=Sr?function(_){return _==null?[]:(_=Object(_),xe(Sr(_),function(T){return ir.call(_,T)}))}:l8,Xr=is;(Qe&&Xr(new Qe(new ArrayBuffer(1)))!=j||Ge&&Xr(new Ge)!=E||ot&&Xr(ot.resolve())!=S||tt&&Xr(new tt)!=p||at&&Xr(new at)!=L)&&(Xr=function(_){var T=is(_),V=T==b?_.constructor:void 0,te=V?In(V):"";if(te)switch(te){case ft:return j;case mt:return E;case yt:return S;case dt:return p;case wt:return L}return T});function e8(_,T){return T=T??o,!!T&&(typeof _=="number"||se.test(_))&&_>-1&&_%1==0&&_<T}function t8(_){var T=typeof _;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?_!=="__proto__":_===null}function r8(_){return!!Ce&&Ce in _}function n8(_){var T=_&&_.constructor,V=typeof T=="function"&&T.prototype||oe;return _===V}function i8(_){return Le.call(_)}function In(_){if(_!=null){try{return Oe.call(_)}catch{}try{return _+""}catch{}}return""}function y0(_,T){return _===T||_!==_&&T!==T}var s8=d0(function(){return arguments}())?d0:function(_){return ss(_)&&le.call(_,"callee")&&!ir.call(_,"callee")},go=Array.isArray;function o8(_){return _!=null&&v0(_.length)&&!w0(_)}var ml=sr||u8;function a8(_,T){return p0(_,T)}function w0(_){if(!b0(_))return!1;var T=is(_);return T==w||T==v||T==u||T==y}function v0(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=o}function b0(_){var T=typeof _;return _!=null&&(T=="object"||T=="function")}function ss(_){return _!=null&&typeof _=="object"}var _0=Se?He(Se):G4;function c8(_){return o8(_)?V4(_):Y4(_)}function l8(){return[]}function u8(){return!1}e.exports=a8}($s,$s.exports);var $v=$s.exports;const Tv=wo($v);function Pv(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,C=0,A=0,b=v.length;A!==b&&v[A]===0;)A++,E++;for(var S=(b-A)*f+1>>>0,y=new Uint8Array(S);A!==b;){for(var x=v[A],p=0,l=S-1;(x!==0||p<C)&&l!==-1;l--,p++)x+=256*y[l]>>>0,y[l]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");C=p,A++}for(var m=S-C;m!==S&&y[m]===0;)m++;for(var M=c.repeat(E);m<S;++m)M+=e.charAt(y[m]);return M}function d(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var C=0,A=0;v[E]===c;)C++,E++;for(var b=(v.length-E)*u+1>>>0,S=new Uint8Array(b);v[E];){var y=r[v.charCodeAt(E)];if(y===255)return;for(var x=0,p=b-1;(y!==0||x<A)&&p!==-1;p--,x++)y+=a*S[p]>>>0,S[p]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");A=x,E++}if(v[E]!==" "){for(var l=b-A;l!==b&&S[l]===0;)l++;for(var m=new Uint8Array(C+(b-l)),M=C;l!==b;)m[M++]=S[l++];return m}}}function w(v){var E=d(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:d,decode:w}}var Rv=Pv,Nv=Rv;const jh=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Lv=e=>new TextEncoder().encode(e),Mv=e=>new TextDecoder().decode(e);class Uv{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class jv{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Fh(this,t)}}class Fv{constructor(t){this.decoders=t}or(t){return Fh(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Fh=(e,t)=>new Fv({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Bv{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Uv(t,r,n),this.decoder=new jv(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ts=({name:e,prefix:t,encode:r,decode:n})=>new Bv(e,t,r,n),$i=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Nv(r,t);return Ts({prefix:e,name:t,encode:n,decode:s=>jh(i(s))})},kv=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let f=0;f<s;++f){const g=i[e[f]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|g,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},zv=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},It=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Ts({prefix:t,name:e,encode(i){return zv(i,n,r)},decode(i){return kv(i,n,r,e)}}),Wv=Ts({prefix:"\0",name:"identity",encode:e=>Mv(e),decode:e=>Lv(e)});var Vv=Object.freeze({__proto__:null,identity:Wv});const Hv=It({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qv=Object.freeze({__proto__:null,base2:Hv});const Kv=It({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gv=Object.freeze({__proto__:null,base8:Kv});const Yv=$i({prefix:"9",name:"base10",alphabet:"0123456789"});var Jv=Object.freeze({__proto__:null,base10:Yv});const Zv=It({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Xv=It({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Qv=Object.freeze({__proto__:null,base16:Zv,base16upper:Xv});const eb=It({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tb=It({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rb=It({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nb=It({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ib=It({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sb=It({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ob=It({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ab=It({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cb=It({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var lb=Object.freeze({__proto__:null,base32:eb,base32upper:tb,base32pad:rb,base32padupper:nb,base32hex:ib,base32hexupper:sb,base32hexpad:ob,base32hexpadupper:ab,base32z:cb});const ub=$i({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hb=$i({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var fb=Object.freeze({__proto__:null,base36:ub,base36upper:hb});const db=$i({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pb=$i({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var gb=Object.freeze({__proto__:null,base58btc:db,base58flickr:pb});const mb=It({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yb=It({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wb=It({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vb=It({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var bb=Object.freeze({__proto__:null,base64:mb,base64pad:yb,base64url:wb,base64urlpad:vb});const Bh=Array.from(""),_b=Bh.reduce((e,t,r)=>(e[r]=t,e),[]),Eb=Bh.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Sb(e){return e.reduce((t,r)=>(t+=_b[r],t),"")}function xb(e){const t=[];for(const r of e){const n=Eb[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const Ob=Ts({prefix:"",name:"base256emoji",encode:Sb,decode:xb});var Db=Object.freeze({__proto__:null,base256emoji:Ob}),Ib=zh,kh=128,Cb=127,Ab=~Cb,$b=Math.pow(2,31);function zh(e,t,r){t=t||[],r=r||0;for(var n=r;e>=$b;)t[r++]=e&255|kh,e/=128;for(;e&Ab;)t[r++]=e&255|kh,e>>>=7;return t[r]=e|0,zh.bytes=r-n+1,t}var Tb=Ca,Pb=128,Wh=127;function Ca(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw Ca.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&Wh)<<i:(o&Wh)*Math.pow(2,i),i+=7}while(o>=Pb);return Ca.bytes=s-n,r}var Rb=Math.pow(2,7),Nb=Math.pow(2,14),Lb=Math.pow(2,21),Mb=Math.pow(2,28),Ub=Math.pow(2,35),jb=Math.pow(2,42),Fb=Math.pow(2,49),Bb=Math.pow(2,56),kb=Math.pow(2,63),zb=function(e){return e<Rb?1:e<Nb?2:e<Lb?3:e<Mb?4:e<Ub?5:e<jb?6:e<Fb?7:e<Bb?8:e<kb?9:10},Wb={encode:Ib,decode:Tb,encodingLength:zb},Vh=Wb;const Hh=(e,t,r=0)=>(Vh.encode(e,t,r),t),qh=e=>Vh.encodingLength(e),Aa=(e,t)=>{const r=t.byteLength,n=qh(e),i=n+qh(r),s=new Uint8Array(i+r);return Hh(e,s,0),Hh(r,s,n),s.set(t,i),new Vb(e,r,t,s)};class Vb{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}const Kh=({name:e,code:t,encode:r})=>new Hb(e,t,r);class Hb{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Aa(this.code,r):r.then(n=>Aa(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Gh=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),qb=Kh({name:"sha2-256",code:18,encode:Gh("SHA-256")}),Kb=Kh({name:"sha2-512",code:19,encode:Gh("SHA-512")});var Gb=Object.freeze({__proto__:null,sha256:qb,sha512:Kb});const Yh=0,Yb="identity",Jh=jh;var Jb=Object.freeze({__proto__:null,identity:{code:Yh,name:Yb,encode:Jh,digest:e=>Aa(Yh,Jh(e))}});new TextEncoder,new TextDecoder;const Zh={...Vv,...qv,...Gv,...Jv,...Qv,...lb,...fb,...gb,...bb,...Db};({...Gb,...Jb});function Xh(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Zb(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xh(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Qh(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const ef=Qh("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),$a=Qh("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Zb(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Xb={utf8:ef,"utf-8":ef,hex:Zh.base16,latin1:$a,ascii:$a,binary:$a,...Zh};function Qb(e,t="utf8"){const r=Xb[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xh(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}const tf="wc",e2=2,Ta="core",jr=`${tf}@2:${Ta}:`,t2={name:Ta,logger:"error"},r2={database:":memory:"},n2="crypto",rf="client_ed25519_seed",i2=re.ONE_DAY,s2="keychain",o2="0.3",a2="messages",c2="0.3",l2=re.SIX_HOURS,u2="publisher",nf="irn",h2="error",sf="wss://relay.walletconnect.com",of="wss://relay.walletconnect.org",f2="relayer",it={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},d2="_subscription",Ti={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},p2=re.ONE_SECOND/2,g2="2.9.1",m2=1e4,y2="0.3",w2="WALLETCONNECT_CLIENT_ID",yr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},v2="subscription",b2="0.3",_2=re.FIVE_SECONDS*1e3,E2="pairing",S2="0.3",Pi={wc_pairingDelete:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:re.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:re.ONE_DAY,prompt:!1,tag:0},res:{ttl:re.ONE_DAY,prompt:!1,tag:0}}},wr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},x2="history",O2="0.3",D2="expirer",tr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},I2="0.3",Pa="verify-api",af="https://verify.walletconnect.com";let C2=class{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=s2,this.version=o2,this.initialized=!1,this.storagePrefix=jr,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=X("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=t,this.logger=Ue.generateChildLogger(r,this.name)}get context(){return Ue.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,ph(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?gh(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}},A2=class{constructor(t,r,n){this.core=t,this.logger=r,this.name=n2,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Fu(i);return ju(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=Ny();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=Fu(s),a=pa();return await zm(a,i,i2,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=Ly(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||My(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=ch(o),c=Go(s);if(lh(a)){const d=a.senderPublicKey,w=a.receiverPublicKey;i=await this.generateSharedKey(d,w)}const u=this.getSymKey(i),{type:f,senderPublicKey:g}=a;return jy({type:f,symKey:u,message:c,senderPublicKey:g})},this.decode=async(i,s,o)=>{this.isInitialized();const a=ky(s,o);if(lh(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=Fy({symKey:c,encoded:s});return vu(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=i=>{const s=Ss(i);return Oi(s.type)},this.getPayloadSenderPublicKey=i=>{const s=Ss(i);return s.senderPublicKey?jt(s.senderPublicKey,Ft):void 0},this.core=t,this.logger=Ue.generateChildLogger(r,this.name),this.keychain=n||new C2(this.core,this.logger)}get context(){return Ue.getLoggerContext(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(rf)}catch{t=pa(),await this.keychain.set(rf,t)}return Qb(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}},$2=class extends Yp{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=a2,this.version=c2,this.initialized=!1,this.storagePrefix=jr,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=Mn(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=Mn(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Ue.generateChildLogger(t,this.name),this.core=r}get context(){return Ue.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,ph(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?gh(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}},T2=class extends Jp{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new cr.EventEmitter,this.name=u2,this.queue=new Map,this.publishTimeout=re.toMiliseconds(re.TEN_SECONDS),this.queueTimeout=re.toMiliseconds(re.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const o=(s==null?void 0:s.ttl)||l2,a=wa(s),c=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,f=(s==null?void 0:s.id)||xa().toString(),g={topic:n,message:i,opts:{ttl:o,relay:a,prompt:c,tag:u,id:f}},d=setTimeout(()=>this.queue.set(f,g),this.queueTimeout);try{await await xs(this.rpcPublish(n,i,o,a,c,u,f),this.publishTimeout),clearTimeout(d),this.relayer.events.emit(it.publish,g)}catch{this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0;return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=t,this.logger=Ue.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Ue.getLoggerContext(this.logger)}rpcPublish(t,r,n,i,s,o,a){var c,u,f,g;const d={method:Os(i.protocol).publish,params:{topic:t,message:r,ttl:n,prompt:s,tag:o},id:a};return Bt((c=d.params)==null?void 0:c.prompt)&&((u=d.params)==null||delete u.prompt),Bt((f=d.params)==null?void 0:f.tag)&&((g=d.params)==null||delete g.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}onPublish(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:n,opts:i}=t;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Pn.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(it.connection_stalled);return}this.checkQueue()}),this.relayer.on(it.message_ack,t=>{this.onPublish(t.id.toString())})}},P2=class{constructor(){this.map=new Map,this.set=(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(t);return}this.map.set(t,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var R2=Object.defineProperty,N2=Object.defineProperties,L2=Object.getOwnPropertyDescriptors,cf=Object.getOwnPropertySymbols,M2=Object.prototype.hasOwnProperty,U2=Object.prototype.propertyIsEnumerable,lf=(e,t,r)=>t in e?R2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ri=(e,t)=>{for(var r in t||(t={}))M2.call(t,r)&&lf(e,r,t[r]);if(cf)for(var r of cf(t))U2.call(t,r)&&lf(e,r,t[r]);return e},Ra=(e,t)=>N2(e,L2(t));let j2=class extends Qp{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new P2,this.events=new cr.EventEmitter,this.name=v2,this.version=b2,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=jr,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=wa(i),o={topic:n,relay:s};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,s)=>{const o=new re.Watch;o.start(this.pendingSubscriptionWatchLabel);const a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=_2&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Ue.generateChildLogger(r,this.name),this.clientId=""}get context(){return Ue.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async i=>await this.unsubscribeById(t,i,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const i=wa(n);await this.rpcUnsubscribe(t,r,i);const s=Et("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,r){const n={method:Os(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await xs(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(it.connection_stalled)}return Mn(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:Os(r.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await xs(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(it.connection_stalled)}}rpcUnsubscribe(t,r,n){const i={method:Os(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,r){this.setSubscription(t,Ra(Ri({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Ri({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r))}addSubscription(t,r){this.subscriptions.set(t,Ri({},r)),this.topicMap.set(r.topic,t),this.events.emit(yr.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(yr.deleted,Ra(Ri({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(yr.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(yr.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);Di(r)&&this.onBatchSubscribe(r.map((n,i)=>Ra(Ri({},t[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(Pn.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(it.connect,async()=>{await this.onConnect()}),this.relayer.on(it.disconnect,()=>{this.onDisconnect()}),this.events.on(yr.created,async t=>{const r=yr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(yr.deleted,async t=>{const r=yr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}};var F2=Object.defineProperty,uf=Object.getOwnPropertySymbols,B2=Object.prototype.hasOwnProperty,k2=Object.prototype.propertyIsEnumerable,hf=(e,t,r)=>t in e?F2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z2=(e,t)=>{for(var r in t||(t={}))B2.call(t,r)&&hf(e,r,t[r]);if(uf)for(var r of uf(t))k2.call(t,r)&&hf(e,r,t[r]);return e};let W2=class extends Zp{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new cr.EventEmitter,this.name=f2,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Ue.generateChildLogger(t.logger,this.name):Ue.pino(Ue.getDefaultLoggerOptions({level:t.logger||h2})),this.messages=new $2(this.logger,t.core),this.subscriber=new j2(this,this.logger),this.publisher=new T2(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||sf,this.projectId=t.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${of}...`),await this.restartTransport(of)}this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},m2)}get context(){return Ue.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})}async subscribe(t,r){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(t))==null?void 0:n[0])||"";return i||(await Promise.all([new Promise(s=>{this.subscriber.once(yr.created,o=>{o.topic===t&&s()})}),new Promise(async s=>{i=await this.subscriber.subscribe(t,r),s()})]),i)}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(it.transport_closed))}async transportOpen(t){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=t||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(yr.resubscribed,()=>{r()})}),await Promise.race([new Promise(async(r,n)=>{await xs(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>n(i)).then(()=>r()).finally(()=>this.removeListener(it.transport_closed,this.rejectTransportOpen))}),new Promise(r=>this.once(it.transport_closed,this.rejectTransportOpen))])])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.events.emit(it.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(t){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=t||this.relayUrl,this.connected&&await Promise.all([new Promise(r=>{this.provider.once(Ti.disconnect,()=>{r()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}async createProvider(){const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ov(new Av(Xy({sdkVersion:g2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:n}=t;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Ia(t)){if(!t.method.endsWith(d2))return;const r=t.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(z2({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(t),await this.onMessageEvent(o)}else As(t)&&this.events.emit(it.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(it.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Oa(t.id,!0);await this.provider.connection.send(r)}registerProviderListeners(){this.provider.on(Ti.payload,t=>this.onProviderPayload(t)),this.provider.on(Ti.connect,()=>{this.events.emit(it.connect)}),this.provider.on(Ti.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(Ti.error,t=>{this.logger.error(t),this.events.emit(it.error,t)})}registerEventListeners(){this.events.on(it.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(it.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},re.toMiliseconds(p2))}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}};var V2=Object.defineProperty,ff=Object.getOwnPropertySymbols,H2=Object.prototype.hasOwnProperty,q2=Object.prototype.propertyIsEnumerable,df=(e,t,r)=>t in e?V2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pf=(e,t)=>{for(var r in t||(t={}))H2.call(t,r)&&df(e,r,t[r]);if(ff)for(var r of ff(t))q2.call(t,r)&&df(e,r,t[r]);return e};let Ps=class extends Xp{constructor(t,r,n,i=jr,s=void 0){super(t,r,n,i),this.core=t,this.logger=r,this.name=n,this.map=new Map,this.version=y2,this.cached=[],this.initialized=!1,this.storagePrefix=jr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Bt(o)?this.map.set(this.getKey(o),o):_w(o)?this.map.set(o.id,o):Ew(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Tv(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=pf(pf({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=Ue.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Ue.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}},K2=class{constructor(t,r){this.core=t,this.logger=r,this.name=E2,this.version=S2,this.events=new Fl,this.initialized=!1,this.storagePrefix=jr,this.ignoredPayloadTypes=[fn],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=pa(),i=await this.core.crypto.setSymKey(n),s=lr(re.FIVE_MINUTES),o={protocol:nf},a={topic:i,expiry:s,relay:o,active:!1},c=hw({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:c}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:o}=cw(n.uri);if(this.pairings.keys.includes(i))throw new Error(`Pairing already exists: ${i}`);if(this.core.crypto.hasKeys(i))throw new Error(`Keychain already exists: ${i}`);const a=lr(re.FIVE_MINUTES),c={topic:i,relay:o,expiry:a,active:!1};return await this.pairings.set(i,c),await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o}),this.core.expirer.set(i,a),n.activatePairing&&await this.activate({topic:i}),c},this.activate=async({topic:n})=>{this.isInitialized();const i=lr(re.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Un();this.events.once(gt("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Et("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const o=Cs(i,s),a=await this.core.crypto.encode(n,o),c=Pi[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=Oa(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),u=Pi[c.request.method].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=Da(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),u=Pi[c.request.method]?Pi[c.request.method].res:Pi.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Et("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Ur(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit("pairing_ping",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{Dr(i)?this.events.emit(gt("pairing_ping",s),{}):ur(i)&&this.events.emit(gt("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Et("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Et("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!Ht(n)){const{message:i}=X("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!bw(n.uri)){const{message:i}=X("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!Ht(n)){const{message:s}=X("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Ht(n)){const{message:s}=X("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!St(n,!1)){const{message:i}=X("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=X("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Ur(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=X("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=t,this.logger=Ue.generateChildLogger(r,this.name),this.pairings=new Ps(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ue.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(it.message,async t=>{const{topic:r,message:n}=t;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);Ia(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):As(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))})}registerExpirerEvents(){this.core.expirer.on(tr.expired,async t=>{const{topic:r}=yh(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}},G2=class extends Gp{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new cr.EventEmitter,this.name=x2,this.version=O2,this.cached=[],this.initialized=!1,this.storagePrefix=jr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:lr(re.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(wr.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=ur(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(wr.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(wr.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ue.generateChildLogger(r,this.name)}get context(){return Ue.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Cs(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(wr.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(wr.created,t=>{const r=wr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(wr.updated,t=>{const r=wr.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(wr.deleted,t=>{const r=wr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.core.heartbeat.on(Pn.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(t=>{re.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.delete(t.topic,t.id))})}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}},Y2=class extends eg{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new cr.EventEmitter,this.name=D2,this.version=I2,this.cached=[],this.initialized=!1,this.storagePrefix=jr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(tr.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(tr.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ue.generateChildLogger(r,this.name)}get context(){return Ue.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return Qy(t);if(typeof t=="number")return ew(t);const{message:r}=X("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(tr.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;re.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(tr.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(Pn.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(tr.created,t=>{const r=tr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(tr.expired,t=>{const r=tr.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(tr.deleted,t=>{const r=tr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}},J2=class extends tg{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.name=Pa,this.initialized=!1,this.init=async n=>{dh()||!ma()||(this.verifyUrl=(n==null?void 0:n.verifyUrl)||af,await this.createIframe())},this.register=async n=>{var i;if(this.initialized||await this.init(),!!this.iframe)try{(i=this.iframe.contentWindow)==null||i.postMessage(n.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${n.attestationId} ${this.verifyUrl}`)}catch{}},this.resolve=async n=>{var i;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${n.attestationId}`);const s=this.startAbortTimer(re.FIVE_SECONDS),o=await fetch(`${this.verifyUrl}/attestation/${n.attestationId}`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?(i=await o.json())==null?void 0:i.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((n,i)=>{if(document.getElementById(Pa))return n();const s=document.createElement("iframe");s.setAttribute("id",Pa),s.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),s.style.display="none",s.addEventListener("load",()=>{this.initialized=!0,n()}),s.addEventListener("error",o=>{i(o)}),document.body.append(s),this.iframe=s}),new Promise(n=>{setTimeout(()=>n("iframe load timeout"),re.toMiliseconds(re.ONE_SECOND/2))})])}catch(n){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(n)}},this.logger=Ue.generateChildLogger(r,this.name),this.verifyUrl=af,this.abortController=new AbortController,this.isDevEnv=ga()&&process.env.IS_VITEST}get context(){return Ue.getLoggerContext(this.logger)}startAbortTimer(t){return setTimeout(()=>this.abortController.abort(),re.toMiliseconds(t))}};var Z2=Object.defineProperty,gf=Object.getOwnPropertySymbols,X2=Object.prototype.hasOwnProperty,Q2=Object.prototype.propertyIsEnumerable,mf=(e,t,r)=>t in e?Z2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yf=(e,t)=>{for(var r in t||(t={}))X2.call(t,r)&&mf(e,r,t[r]);if(gf)for(var r of gf(t))Q2.call(t,r)&&mf(e,r,t[r]);return e};const e_=class S0 extends Kp{constructor(t){super(t),this.protocol=tf,this.version=e2,this.name=Ta,this.events=new cr.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||sf;const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Ue.pino(Ue.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||t2.logger}));this.logger=Ue.generateChildLogger(r,this.name),this.heartbeat=new Pn.HeartBeat,this.crypto=new A2(this,this.logger,t==null?void 0:t.keychain),this.history=new G2(this,this.logger),this.expirer=new Y2(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new I1(yf(yf({},r2),t==null?void 0:t.storageOptions)),this.relayer=new W2({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new K2(this,this.logger),this.verify=new J2(this.projectId||"",this.logger)}static async init(t){const r=new S0(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(w2,n),r}get context(){return Ue.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}};let t_=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},r_=class{constructor(t){this.client=t}};const wf="wc",vf=2,bf="client",Na=`${wf}@${vf}:${bf}:`,La={name:bf,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},n_="WALLETCONNECT_DEEPLINK_CHOICE",i_="proposal",s_="Proposal expired",o_="session",Rs=re.SEVEN_DAYS,a_="engine",Ni={wc_sessionPropose:{req:{ttl:re.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1104},res:{ttl:re.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1106},res:{ttl:re.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:re.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:re.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1112},res:{ttl:re.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1115}}},Ma={min:re.FIVE_MINUTES,max:re.SEVEN_DAYS},Li={idle:"idle",active:"active"},c_="request",l_=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var u_=Object.defineProperty,h_=Object.defineProperties,f_=Object.getOwnPropertyDescriptors,_f=Object.getOwnPropertySymbols,d_=Object.prototype.hasOwnProperty,p_=Object.prototype.propertyIsEnumerable,Ef=(e,t,r)=>t in e?u_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rr=(e,t)=>{for(var r in t||(t={}))d_.call(t,r)&&Ef(e,r,t[r]);if(_f)for(var r of _f(t))p_.call(t,r)&&Ef(e,r,t[r]);return e},Ua=(e,t)=>h_(e,f_(t));class g_ extends r_{constructor(t){super(t),this.name=a_,this.events=new Fl,this.initialized=!1,this.ignoredPayloadTypes=[fn],this.requestQueue={state:Li.idle,requests:[]},this.requestQueueDelay=re.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Ni)}),this.initialized=!0,setTimeout(()=>{this.requestQueue.requests=this.getPendingSessionRequests(),this.processRequestQueue()},re.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized();const n=Ua(rr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let u=i,f,g=!1;if(u&&(g=this.client.core.pairing.pairings.get(u).active),!u||!g){const{topic:S,uri:y}=await this.client.core.pairing.create();u=S,f=y}const d=await this.client.core.crypto.generateKeyPair(),w=rr({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:nf}],proposer:{publicKey:d,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:v,resolve:E,done:C}=Un(re.FIVE_MINUTES,s_);if(this.events.once(gt("session_connect"),async({error:S,session:y})=>{if(S)v(S);else if(y){y.self.publicKey=d;const x=Ua(rr({},y),{requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces});await this.client.session.set(y.topic,x),await this.setExpiry(y.topic,y.expiry),u&&await this.client.core.pairing.updateMetadata({topic:u,metadata:y.peer.metadata}),E(x)}}),!u){const{message:S}=X("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(S)}const A=await this.sendRequest(u,"wc_sessionPropose",w),b=lr(re.FIVE_MINUTES);return await this.setProposal(A,rr({id:A,expiry:b},w)),{uri:f,approval:C}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=r,a=this.client.proposal.get(n);let{pairingTopic:c,proposer:u,requiredNamespaces:f,optionalNamespaces:g}=a;c=c||"",Ii(f)||(f=gw(s,"approve()"));const d=await this.client.core.crypto.generateKeyPair(),w=u.publicKey,v=await this.client.core.crypto.generateSharedKey(d,w);c&&n&&(await this.client.core.pairing.updateMetadata({topic:c,metadata:u.metadata}),await this.sendResult(n,c,{relay:{protocol:i??"irn"},responderPublicKey:d}),await this.client.proposal.delete(n,Et("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:c}));const E=rr({relay:{protocol:i??"irn"},namespaces:s,requiredNamespaces:f,optionalNamespaces:g,pairingTopic:c,controller:{publicKey:d,metadata:this.client.metadata},expiry:lr(Rs)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(v),await this.sendRequest(v,"wc_sessionSettle",E);const C=Ua(rr({},E),{topic:v,pairingTopic:c,acknowledged:!1,self:E.controller,peer:{publicKey:u.publicKey,metadata:u.metadata},controller:d});return await this.client.session.set(v,C),await this.setExpiry(v,lr(Rs)),{topic:v,acknowledged:()=>new Promise(A=>setTimeout(()=>A(this.client.session.get(v)),500))}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);const{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,Et("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:i}=r,s=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:i}),{done:o,resolve:a,reject:c}=Un();return this.events.once(gt("session_update",s),({error:u})=>{u?c(u):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,i=await this.sendRequest(n,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=Un();return this.events.once(gt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,lr(Rs)),{acknowledged:s}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:i,topic:s,expiry:o}=r,a=await this.sendRequest(s,"wc_sessionRequest",{request:i,chainId:n},o),{done:c,resolve:u,reject:f}=Un(o);this.events.once(gt("session_request",a),({error:d,result:w})=>{d?f(d):u(w)}),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a});const g=await this.client.core.storage.getItem(n_);return tw({id:a,topic:s,wcDeepLink:g}),await c()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i;Dr(i)?await this.sendResult(s,n,i.result):ur(i)&&await this.sendError(s,n,i.error),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=await this.sendRequest(n,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=Un();this.events.once(gt("session_ping",i),({error:c})=>{c?a(c):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r;await this.sendRequest(n,"wc_sessionEvent",{event:i,chainId:s})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=xa().toString();let s;const o=a=>{(a==null?void 0:a.id.toString())===i&&(this.client.core.relayer.events.removeListener(it.message_ack,o),s())};await Promise.all([new Promise(a=>{s=a,this.client.core.relayer.on(it.message_ack,o)}),this.sendRequest(n,"wc_sessionDelete",Et("USER_DISCONNECTED"),void 0,i)]),await this.deleteSession(n)}else await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>ww(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(r,n)=>{const{self:i}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),this.client.session.delete(r,Et("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(i.publicKey)&&await this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r)},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Et("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.requestQueue.requests=this.requestQueue.requests.filter(s=>s.id!==r),i&&(this.requestQueue.state=Li.idle)},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=Ni.wc_sessionRequest.req.ttl,{id:i,topic:s,params:o}=r;await this.client.pendingRequest.set(i,{id:i,topic:s,params:o}),n&&this.client.core.expirer.set(i,lr(n))},this.sendRequest=async(r,n,i,s,o)=>{const a=Cs(n,i);if(ma()&&l_.includes(n)){const f=Mn(JSON.stringify(a));await this.client.core.verify.register({attestationId:f})}const c=await this.client.core.crypto.encode(r,a),u=Ni[n].req;return s&&(u.ttl=s),o&&(u.id=o),this.client.core.history.set(r,a),this.client.core.relayer.publish(r,c,u),a.id},this.sendResult=async(r,n,i)=>{const s=Oa(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=Ni[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.sendError=async(r,n,i)=>{const s=Da(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=Ni[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{Ur(i.expiry)&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ur(i.expiry)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=r=>{const{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=X("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidConnect(rr({},n.params));const o=lr(re.FIVE_MINUTES),a=rr({id:s,pairingTopic:r,expiry:o},i);await this.setProposal(s,a);const c=Mn(JSON.stringify(n)),u=await this.getVerifyContext(c,a.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:a,verifyContext:u})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{const{id:i}=n;if(Dr(n)){const{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:u});const f=await this.client.core.relayer.subscribe(u);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else ur(n)&&(await this.client.proposal.delete(i,Et("USER_DISCONNECTED")),this.events.emit(gt("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,requiredNamespaces:f,optionalNamespaces:g,sessionProperties:d,pairingTopic:w}=n.params,v=rr({topic:r,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:w,requiredNamespaces:f,optionalNamespaces:g,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d});await this.sendResult(n.id,r,!0),this.events.emit(gt("session_connect"),{session:v}),this.cleanupDuplicatePairings(v)}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;Dr(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(gt("session_approve",i),{})):ur(n)&&(await this.client.session.delete(r,Et("USER_DISCONNECTED")),this.events.emit(gt("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidUpdate(rr({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult(s,r,!0),this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n;Dr(n)?this.events.emit(gt("session_update",i),{}):ur(n)&&this.events.emit(gt("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,lr(Rs)),await this.sendResult(i,r,!0),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n;Dr(n)?this.events.emit(gt("session_extend",i),{}):ur(n)&&this.events.emit(gt("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n;setTimeout(()=>{Dr(n)?this.events.emit(gt("session_ping",i),{}):ur(n)&&this.events.emit(gt("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(it.publish,async()=>{s(await this.deleteSession(r))})}),this.sendResult(i,r,!0)]),this.client.events.emit("session_delete",{id:i,topic:r})}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidRequest(rr({topic:r},s)),await this.setPendingSessionRequest({id:i,topic:r,params:s}),this.addRequestToQueue({id:i,topic:r,params:s}),await this.processRequestQueue()}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n;Dr(n)?this.events.emit(gt("session_request",i),{result:n.result}):ur(n)&&this.events.emit(gt("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidEmit(rr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.addRequestToQueue=r=>{this.requestQueue.requests.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.requestQueue.state=Li.idle,this.processRequestQueue()},re.toMiliseconds(this.requestQueueDelay))},this.processRequestQueue=async()=>{if(this.requestQueue.state===Li.active){this.client.logger.info("session request queue is already active.");return}const r=this.requestQueue.requests[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{const{id:n,topic:i,params:s}=r,o=Mn(JSON.stringify({id:n,params:s})),a=this.client.session.get(i),c=await this.getVerifyContext(o,a.peer.metadata);this.requestQueue.state=Li.active,this.client.events.emit("session_request",{id:n,topic:i,params:s,verifyContext:c})}catch(n){this.client.logger.error(n)}},this.isValidConnect=async r=>{if(!Ht(r)){const{message:c}=X("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(Bt(n)||await this.isValidPairingTopic(n),!$w(a,!0)){const{message:c}=X("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!Bt(i)&&Ii(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Bt(s)&&Ii(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Bt(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=Aw(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!Ht(r))throw new Error(X("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=Is(i,"approve()");if(c)throw new Error(c.message);const u=xh(a.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!St(s,!0)){const{message:f}=X("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}Bt(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!Ht(r)){const{message:s}=X("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(await this.isValidProposalId(n),!Pw(i)){const{message:s}=X("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Ht(r)){const{message:u}=X("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!Eh(n)){const{message:u}=X("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=Sw(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Is(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ur(o)){const{message:u}=X("EXPIRED","onSessionSettleRequest()");throw new Error(u)}},this.isValidUpdate=async r=>{if(!Ht(r)){const{message:c}=X("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Is(i,"update()");if(o)throw new Error(o.message);const a=xh(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Ht(r)){const{message:i}=X("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Ht(r)){const{message:c}=X("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!Sh(a,s)){const{message:c}=X("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Rw(i)){const{message:c}=X("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Mw(a,s,i.method)){const{message:c}=X("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Bw(o,Ma)){const{message:c}=X("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Ma.min} and ${Ma.max}`);throw new Error(c)}},this.isValidRespond=async r=>{if(!Ht(r)){const{message:s}=X("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(s)}const{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!Nw(i)){const{message:s}=X("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidPing=async r=>{if(!Ht(r)){const{message:i}=X("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Ht(r)){const{message:a}=X("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!Sh(o,s)){const{message:a}=X("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Lw(i)){const{message:a}=X("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Uw(o,s,i.name)){const{message:a}=X("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Ht(r)){const{message:i}=X("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const i={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s,i.verified.validation=s===n.url?"VALID":"INVALID")}catch(s){this.client.logger.error(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!St(i,!1)){const{message:s}=X("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.client.core.relayer.on(it.message,async t=>{const{topic:r,message:n}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(r,n);Ia(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):As(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.client.core.history.delete(r,i.id)):this.onRelayEventUnknownPayload({topic:r,payload:i})})}registerExpirerEvents(){this.client.core.expirer.on(tr.expired,async t=>{const{topic:r,id:n}=yh(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,X("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(t){if(!St(t,!1)){const{message:r}=X("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=X("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Ur(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=X("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!St(t,!1)){const{message:r}=X("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(!this.client.session.keys.includes(t)){const{message:r}=X("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(Ur(this.client.session.get(t).expiry)){await this.deleteSession(t);const{message:r}=X("EXPIRED",`session topic: ${t}`);throw new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(St(t,!1)){const{message:r}=X("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=X("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!Tw(t)){const{message:r}=X("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=X("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(Ur(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);const{message:r}=X("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class m_ extends Ps{constructor(t,r){super(t,r,i_,Na),this.core=t,this.logger=r}}class y_ extends Ps{constructor(t,r){super(t,r,o_,Na),this.core=t,this.logger=r}}class w_ extends Ps{constructor(t,r){super(t,r,c_,Na,n=>n.id),this.core=t,this.logger=r}}let v_=class x0 extends t_{constructor(t){super(t),this.protocol=wf,this.version=vf,this.name=La.name,this.events=new cr.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(t==null?void 0:t.name)||La.name,this.metadata=(t==null?void 0:t.metadata)||Gy();const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Ue.pino(Ue.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||La.logger}));this.core=(t==null?void 0:t.core)||new e_(t),this.logger=Ue.generateChildLogger(r,this.name),this.session=new y_(this.core,this.logger),this.proposal=new m_(this.core,this.logger),this.pendingRequest=new w_(this.core,this.logger),this.engine=new g_(this)}static async init(t){const r=new x0(t);return await r.initialize(),r}get context(){return Ue.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var b_=Object.defineProperty,__=Object.defineProperties,E_=Object.getOwnPropertyDescriptors,Sf=Object.getOwnPropertySymbols,S_=Object.prototype.hasOwnProperty,x_=Object.prototype.propertyIsEnumerable,xf=(e,t,r)=>t in e?b_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,O_=(e,t)=>{for(var r in t||(t={}))S_.call(t,r)&&xf(e,r,t[r]);if(Sf)for(var r of Sf(t))x_.call(t,r)&&xf(e,r,t[r]);return e},D_=(e,t)=>__(e,E_(t)),ja=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ze=(e,t,r)=>(ja(e,t,"read from private field"),r?r.call(e):t.get(e)),pn=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ns=(e,t,r,n)=>(ja(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Nt=(e,t,r)=>(ja(e,t,"access private method"),r),gn,Fn,Mi,xt,Fa,Of,Lt,kt,Ba,Df;let I_=class{constructor(t){pn(this,Fa),pn(this,Lt),pn(this,Ba),pn(this,gn,void 0),pn(this,Fn,void 0),pn(this,Mi,void 0),pn(this,xt,void 0),Ns(this,gn,t),Ns(this,Fn,Nt(this,Fa,Of).call(this)),Nt(this,Lt,kt).call(this)}async connect(t){const{requiredNamespaces:r,optionalNamespaces:n}=t;return new Promise(async(i,s)=>{await Nt(this,Lt,kt).call(this);const o=Ze(this,Fn).subscribeModal(u=>{u.open||(o(),s(new Error("Modal closed")))}),{uri:a,approval:c}=await Ze(this,xt).connect(t);if(a){const u=new Set;r&&Object.values(r).forEach(({chains:f})=>{f&&f.forEach(g=>u.add(g))}),n&&Object.values(n).forEach(({chains:f})=>{f&&f.forEach(g=>u.add(g))}),await Ze(this,Fn).openModal({uri:a,chains:Array.from(u)})}try{const u=await c();i(u)}catch(u){s(u)}finally{o(),Ze(this,Fn).closeModal()}})}async disconnect(t){await Nt(this,Lt,kt).call(this),await Ze(this,xt).disconnect(t)}async request(t){return await Nt(this,Lt,kt).call(this),await Ze(this,xt).request(t)}async getSessions(){return await Nt(this,Lt,kt).call(this),Ze(this,xt).session.getAll()}async getSession(){return await Nt(this,Lt,kt).call(this),Ze(this,xt).session.getAll().at(-1)}async onSessionEvent(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).on("session_event",t)}async offSessionEvent(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).off("session_event",t)}async onSessionUpdate(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).on("session_update",t)}async offSessionUpdate(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).off("session_update",t)}async onSessionDelete(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).on("session_delete",t)}async offSessionDelete(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).off("session_delete",t)}async onSessionExpire(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).on("session_expire",t)}async offSessionExpire(t){await Nt(this,Lt,kt).call(this),Ze(this,xt).off("session_expire",t)}};gn=new WeakMap,Fn=new WeakMap,Mi=new WeakMap,xt=new WeakMap,Fa=new WeakSet,Of=function(){const{modalOptions:e,projectId:t}=Ze(this,gn);return new K0(D_(O_({},e),{projectId:t}))},Lt=new WeakSet,kt=async function(){return Ze(this,xt)?!0:(!Ze(this,Mi)&&typeof window<"u"&&Ns(this,Mi,Nt(this,Ba,Df).call(this)),Ze(this,Mi))},Ba=new WeakSet,Df=async function(){Ns(this,xt,await v_.init({metadata:Ze(this,gn).metadata,projectId:Ze(this,gn).projectId,relayUrl:Ze(this,gn).relayUrl}));const e=await Ze(this,xt).core.crypto.getClientId();try{localStorage.setItem("WCM_WALLETCONNECT_CLIENT_ID",e)}catch{console.info("Unable to set client id")}};function C_(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(i){i(r)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,r)})}}}const ka=C_();let Ui;function A_(e){Ui=new I_(e)}async function hr(){return new Promise(e=>{if(Ui)e(Ui);else{const t=setInterval(()=>{Ui&&(clearInterval(t),e(Ui))},200)}})}function $_(e){return me.useEffect(()=>{A_(e)},[]),null}const T_=me.memo($_);function If(){const[e,t]=me.useState(void 0),[r,n]=me.useState(void 0),[i,s]=me.useState(!1);return{data:e,error:r,loading:i,setData:t,setError:n,setLoading:s}}function P_(e){const{data:t,error:r,loading:n,setData:i,setError:s,setLoading:o}=If();async function a(c){try{o(!0),s(void 0);const u=await(await hr()).connect(c??e);return i(u),ka.emit("session_change"),u}catch(u){throw s(u),u}finally{o(!1)}}return{data:t,error:r,loading:n,connect:a}}function Cf(e){me.useEffect(()=>(hr().then(t=>{t.onSessionDelete(e)}),()=>{hr().then(t=>{t.offSessionDelete(e)})}),[e])}function za(e){me.useEffect(()=>(hr().then(t=>{t.onSessionEvent(e)}),()=>{hr().then(t=>{t.offSessionEvent(e)})}),[e])}function R_(e){me.useEffect(()=>(hr().then(t=>{t.onSessionExpire(e)}),()=>{hr().then(t=>{t.offSessionExpire(e)})}),[e])}function N_(e){me.useEffect(()=>(hr().then(t=>{t.onSessionUpdate(e)}),()=>{hr().then(t=>{t.offSessionUpdate(e)})}),[e])}function mn(e){const{data:t,error:r,loading:n,setData:i,setError:s,setLoading:o}=If();async function a(c){try{o(!0),s(void 0);const u=await(await hr()).request(c??e);return i(u),u}catch(u){throw s(u),u}finally{o(!1)}}return{data:t,error:r,loading:n,request:a}}var L_=Object.defineProperty,M_=Object.defineProperties,U_=Object.getOwnPropertyDescriptors,Af=Object.getOwnPropertySymbols,j_=Object.prototype.hasOwnProperty,F_=Object.prototype.propertyIsEnumerable,$f=(e,t,r)=>t in e?L_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B_=(e,t)=>{for(var r in t||(t={}))j_.call(t,r)&&$f(e,r,t[r]);if(Af)for(var r of Af(t))F_.call(t,r)&&$f(e,r,t[r]);return e},k_=(e,t)=>M_(e,U_(t));function Fr(){const[e,t]=me.useState(void 0);return Cf(r=>{r.topic===(e==null?void 0:e.topic)&&t(void 0)}),N_(r=>{if(e&&r.topic===(e==null?void 0:e.topic)){const{namespaces:n}=r.params,i=k_(B_({},e),{namespaces:n});t(i)}}),R_(r=>{e&&r.topic===(e==null?void 0:e.topic)&&t(void 0)}),me.useEffect(()=>{async function r(){const n=await(await hr()).getSession();t(n)}return r(),ka.on("session_change",r),()=>{ka.off("session_change",r)}},[]),e}const Tf=["aztec_connect","aztec_disconnect","aztec_getAccountPublicKey","aztec_getSpendingPublicKey","aztec_requestProofs"],Wa=["aztec:1337"],Va=["aleo_connect","aleo_decrypt","aleo_disconnect","aleo_getSelectedAccount","aleo_deployProgram","aleo_getBalance","aleo_executeProgram","aleo_getRecords","aleo_transfer"],Ls=["aleo:1"],Ms=["chainChanged","accountSelected","accountSynced"],Pf="f0aaeffe71b636da453fce042d79d723",Ha="https://walletconnect.puzzle.online/",Rf={standaloneChains:Wa.concat(Ls),enableExplorer:!1,enableAccountView:!0,enableNetworkView:!0,enableStandaloneMode:!0,mobileWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"",universal:Ha}}],desktopWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"",universal:Ha}}],walletImages:{puzzle:"https://i.imgur.com/p9tHaFC.png"}},z_={requiredNamespaces:{aztec:{methods:Tf,chains:Wa,events:Ms},aleo:{methods:Va,chains:Ls,events:Ms}}},W_=({dAppName:e,dAppDescription:t,dAppUrl:r,dAppIconURL:n})=>bo.jsx(T_,{projectId:Pf,metadata:{name:e,description:t,url:r,icons:[n]},modalOptions:{...Rf}}),V_=({children:e})=>(Xf(),bo.jsx(bo.Fragment,{children:e})),Nf=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const g=t;t=u??typeof f!="object"?f:Object.assign({},t,f),r.forEach(d=>d(t,g))}},i=()=>t,a={setState:n,getState:i,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{r.clear()}};return t=e(n,i,a),a},H_=e=>e?Nf(e):Nf;var qa={exports:{}},Ka={},Us={exports:{}},Ga={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function q_(){if(Lf)return Ga;Lf=1;var e=me;function t(g,d){return g===d&&(g!==0||1/g===1/d)||g!==g&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(g,d){var w=d(),v=n({inst:{value:w,getSnapshot:d}}),E=v[0].inst,C=v[1];return s(function(){E.value=w,E.getSnapshot=d,c(E)&&C({inst:E})},[g,w,d]),i(function(){return c(E)&&C({inst:E}),g(function(){c(E)&&C({inst:E})})},[g]),o(w),w}function c(g){var d=g.getSnapshot;g=g.value;try{var w=d();return!r(g,w)}catch{return!0}}function u(g,d){return d()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Ga.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ga}var Ya={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function K_(){return Mf||(Mf=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=me,t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(S){{for(var y=arguments.length,x=new Array(y>1?y-1:0),p=1;p<y;p++)x[p-1]=arguments[p];n("error",S,x)}}function n(S,y,x){{var p=t.ReactDebugCurrentFrame,l=p.getStackAddendum();l!==""&&(y+="%s",x=x.concat([l]));var m=x.map(function(M){return String(M)});m.unshift("Warning: "+y),Function.prototype.apply.call(console[S],console,m)}}function i(S,y){return S===y&&(S!==0||1/S===1/y)||S!==S&&y!==y}var s=typeof Object.is=="function"?Object.is:i,o=e.useState,a=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue,f=!1,g=!1;function d(S,y,x){f||e.startTransition!==void 0&&(f=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var p=y();if(!g){var l=y();s(p,l)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),g=!0)}var m=o({inst:{value:p,getSnapshot:y}}),M=m[0].inst,L=m[1];return c(function(){M.value=p,M.getSnapshot=y,w(M)&&L({inst:M})},[S,p,y]),a(function(){w(M)&&L({inst:M});var U=function(){w(M)&&L({inst:M})};return S(U)},[S]),u(p),p}function w(S){var y=S.getSnapshot,x=S.value;try{var p=y();return!s(x,p)}catch{return!0}}function v(S,y,x){return y()}var E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C=!E,A=C?v:d,b=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:A;Ya.useSyncExternalStore=b,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),Ya}var Uf;function jf(){return Uf||(Uf=1,process.env.NODE_ENV==="production"?Us.exports=q_():Us.exports=K_()),Us.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function G_(){if(Ff)return Ka;Ff=1;var e=me,t=jf();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Ka.useSyncExternalStoreWithSelector=function(u,f,g,d,w){var v=s(null);if(v.current===null){var E={hasValue:!1,value:null};v.current=E}else E=v.current;v=a(function(){function A(p){if(!b){if(b=!0,S=p,p=d(p),w!==void 0&&E.hasValue){var l=E.value;if(w(l,p))return y=l}return y=p}if(l=y,n(S,p))return l;var m=d(p);return w!==void 0&&w(l,m)?l:(S=p,y=m)}var b=!1,S,y,x=g===void 0?null:g;return[function(){return A(f())},x===null?void 0:function(){return A(x())}]},[f,g,d,w]);var C=i(u,v[0],v[1]);return o(function(){E.hasValue=!0,E.value=C},[C]),c(C),C},Ka}var Ja={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function Y_(){return Bf||(Bf=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=me,t=jf();function r(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;function u(f,g,d,w,v){var E=s(null),C;E.current===null?(C={hasValue:!1,value:null},E.current=C):C=E.current;var A=a(function(){var x=!1,p,l,m=function(j){if(!x){x=!0,p=j;var F=w(j);if(v!==void 0&&C.hasValue){var D=C.value;if(v(D,F))return l=D,D}return l=F,F}var P=p,G=l;if(n(P,j))return G;var W=w(j);return v!==void 0&&v(G,W)?G:(p=j,l=W,W)},M=d===void 0?null:d,L=function(){return m(g())},U=M===null?void 0:function(){return m(M())};return[L,U]},[g,d,w,v]),b=A[0],S=A[1],y=i(f,b,S);return o(function(){C.hasValue=!0,C.value=y},[y]),c(y),y}Ja.useSyncExternalStoreWithSelector=u,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),Ja}process.env.NODE_ENV==="production"?qa.exports=G_():qa.exports=Y_();var J_=qa.exports;const Z_=wo(J_),{useSyncExternalStoreWithSelector:X_}=Z_;let E8=!1;function Q_(e,t=e.getState,r){const n=X_(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return me.useDebugValue(n),n}const kf=e=>{const t=typeof e=="function"?H_(e):e,r=(n,i)=>Q_(t,n,i);return Object.assign(r,t),r},e3=e=>e?kf(e):kf;function Ct(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(process.env.NODE_ENV!=="production"){var i=c3[e],s=i?typeof i=="function"?i.apply(null,r):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Bn(e){return!!e&&!!e[Jt]}function yn(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===l3}(e)||Array.isArray(e)||!!e[Zf]||!!(!((t=e.constructor)===null||t===void 0)&&t[Zf])||Xa(e)||Qa(e))}function ji(e,t,r){r===void 0&&(r=!1),kn(e)===0?(r?Object.keys:hc)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function kn(e){var t=e[Jt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Xa(e)?2:Qa(e)?3:0}function Za(e,t){return kn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function t3(e,t){return kn(e)===2?e.get(t):e[t]}function zf(e,t,r){var n=kn(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function r3(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Xa(e){return o3&&e instanceof Map}function Qa(e){return a3&&e instanceof Set}function wn(e){return e.o||e.t}function ec(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=u3(e);delete t[Jt];for(var r=hc(t),n=0;n<r.length;n++){var i=r[n],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function tc(e,t){return t===void 0&&(t=!1),rc(e)||Bn(e)||!yn(e)||(kn(e)>1&&(e.set=e.add=e.clear=e.delete=n3),Object.freeze(e),t&&ji(e,function(r,n){return tc(n,!0)},!0)),e}function n3(){Ct(2)}function rc(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function vr(e){var t=h3[e];return t||Ct(18,e),t}function Wf(){return process.env.NODE_ENV==="production"||zn||Ct(0),zn}function nc(e,t){t&&(vr("Patches"),e.u=[],e.s=[],e.v=t)}function js(e){ic(e),e.p.forEach(i3),e.p=null}function ic(e){e===zn&&(zn=e.l)}function Vf(e){return zn={p:[],l:zn,h:e,m:!0,_:0}}function i3(e){var t=e[Jt];t.i===0||t.i===1?t.j():t.g=!0}function sc(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||vr("ES5").S(t,e,n),n?(r[Jt].P&&(js(t),Ct(4)),yn(e)&&(e=Fs(t,e),t.l||Bs(t,e)),t.u&&vr("Patches").M(r[Jt].t,e,t.u,t.s)):e=Fs(t,r,[]),js(t),t.u&&t.v(t.u,t.s),e!==Jf?e:void 0}function Fs(e,t,r){if(rc(t))return t;var n=t[Jt];if(!n)return ji(t,function(a,c){return Hf(e,n,t,a,c,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Bs(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=ec(n.k):n.o,s=i,o=!1;n.i===3&&(s=new Set(i),i.clear(),o=!0),ji(s,function(a,c){return Hf(e,n,i,a,c,r,o)}),Bs(e,i,!1),r&&e.u&&vr("Patches").N(n,r,e.u,e.s)}return n.o}function Hf(e,t,r,n,i,s,o){if(process.env.NODE_ENV!=="production"&&i===r&&Ct(5),Bn(i)){var a=Fs(e,i,s&&t&&t.i!==3&&!Za(t.R,n)?s.concat(n):void 0);if(zf(r,n,a),!Bn(a))return;e.m=!1}else o&&r.add(i);if(yn(i)&&!rc(i)){if(!e.h.D&&e._<1)return;Fs(e,i),t&&t.A.l||Bs(e,i)}}function Bs(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&tc(t,r)}function oc(e,t){var r=e[Jt];return(r?wn(r):e)[t]}function qf(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function ac(e){e.P||(e.P=!0,e.l&&ac(e.l))}function cc(e){e.o||(e.o=ec(e.t))}function lc(e,t,r){var n=Xa(t)?vr("MapSet").F(t,r):Qa(t)?vr("MapSet").T(t,r):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Wf(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=a,u=fc;o&&(c=[a],u=Fi);var f=Proxy.revocable(c,u),g=f.revoke,d=f.proxy;return a.k=d,a.j=g,d}(t,r):vr("ES5").J(t,r);return(r?r.A:Wf()).p.push(n),n}function s3(e){return Bn(e)||Ct(22,e),function t(r){if(!yn(r))return r;var n,i=r[Jt],s=kn(r);if(i){if(!i.P&&(i.i<4||!vr("ES5").K(i)))return i.t;i.I=!0,n=Kf(r,s),i.I=!1}else n=Kf(r,s);return ji(n,function(o,a){i&&t3(i.t,o)===a||zf(n,o,t(a))}),s===3?new Set(n):n}(e)}function Kf(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ec(e)}var Gf,zn,uc=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",o3=typeof Map<"u",a3=typeof Set<"u",Yf=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Jf=uc?Symbol.for("immer-nothing"):((Gf={})["immer-nothing"]=!0,Gf),Zf=uc?Symbol.for("immer-draftable"):"__$immer_draftable",Jt=uc?Symbol.for("immer-state"):"__$immer_state",c3={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},l3=""+Object.prototype.constructor,hc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,u3=Object.getOwnPropertyDescriptors||function(e){var t={};return hc(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},h3={},fc={get:function(e,t){if(t===Jt)return e;var r=wn(e);if(!Za(r,t))return function(i,s,o){var a,c=qf(s,o);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!yn(n)?n:n===oc(e.t,t)?(cc(e),e.o[t]=lc(e.A.h,n,e)):n},has:function(e,t){return t in wn(e)},ownKeys:function(e){return Reflect.ownKeys(wn(e))},set:function(e,t,r){var n=qf(wn(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=oc(wn(e),t),s=i==null?void 0:i[Jt];if(s&&s.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(r3(r,i)&&(r!==void 0||Za(e.t,t)))return!0;cc(e),ac(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return oc(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,cc(e),ac(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Ct(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ct(12)}},Fi={};ji(fc,function(e,t){Fi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Fi.deleteProperty=function(e,t){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Ct(13),Fi.set.call(this,e,t,void 0)},Fi.set=function(e,t,r){return process.env.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Ct(14),fc.set.call(this,e[0],t,r,e[0])};var f3=function(){function e(r){var n=this;this.O=Yf,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var c=n;return function(E){var C=this;E===void 0&&(E=a);for(var A=arguments.length,b=Array(A>1?A-1:0),S=1;S<A;S++)b[S-1]=arguments[S];return c.produce(E,function(y){var x;return(x=s).call.apply(x,[C,y].concat(b))})}}var u;if(typeof s!="function"&&Ct(6),o!==void 0&&typeof o!="function"&&Ct(7),yn(i)){var f=Vf(n),g=lc(n,i,void 0),d=!0;try{u=s(g),d=!1}finally{d?js(f):ic(f)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(E){return nc(f,o),sc(E,f)},function(E){throw js(f),E}):(nc(f,o),sc(u,f))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Jf&&(u=void 0),n.D&&tc(u,!0),o){var w=[],v=[];vr("Patches").M(i,u,w,v),o(w,v)}return u}Ct(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var f=arguments.length,g=Array(f>1?f-1:0),d=1;d<f;d++)g[d-1]=arguments[d];return n.produceWithPatches(u,function(w){return i.apply(void 0,[w].concat(g))})};var o,a,c=n.produce(i,s,function(u,f){o=u,a=f});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,o,a]}):[c,o,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){yn(r)||Ct(8),Bn(r)&&(r=s3(r));var n=Vf(this),i=lc(this,r,void 0);return i[Jt].C=!0,ic(n),i},t.finishDraft=function(r,n){var i=r&&r[Jt];process.env.NODE_ENV!=="production"&&(i&&i.C||Ct(9),i.I&&Ct(10));var s=i.A;return nc(s,n),sc(void 0,s)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!Yf&&Ct(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var s=n[i];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}i>-1&&(n=n.slice(i+1));var o=vr("Patches").$;return Bn(r)?o(r,n):this.produce(r,function(a){return o(a,n)})},e}(),Zt=new f3,d3=Zt.produce;Zt.produceWithPatches.bind(Zt),Zt.setAutoFreeze.bind(Zt),Zt.setUseProxies.bind(Zt),Zt.applyPatches.bind(Zt),Zt.createDraft.bind(Zt),Zt.finishDraft.bind(Zt);const p3=e=>(t,r,n)=>(n.setState=(i,s,...o)=>{const a=typeof i=="function"?d3(i):i;return t(a,s,...o)},e(n.setState,r,n)),Br=e3()(p3((e,t)=>({account:void 0,accounts:[],chainId:void 0,setAccounts:r=>{e({accounts:r})},setAccount:r=>{e({account:r})},setChainId:r=>{e({chainId:r})},disconnect:()=>{e({account:void 0,accounts:[],chainId:void 0})}}))),g3=()=>{const e=Fr(),[t,r,n,i]=Br(g=>[g.account,g.accounts,g.chainId,g.setAccount]),[s,o]=me.useState(void 0),{request:a,data:c,error:u,loading:f}=mn({topic:e==null?void 0:e.topic,chainId:n??"aleo:1",request:{id:1,jsonrpc:"2.0",method:"aleo_getSelectedAccount",params:{type:"GET_SELECTED_ACCOUNT"}}});return za(({params:g,topic:d})=>{if(g.event.name==="accountSelected"&&e&&e.topic===d){const v=g.event.data,E=g.chainId.split(":")[0],C=g.chainId.split(":")[1];i({network:E,chainId:C,address:v}),o(void 0)}}),me.useEffect(()=>{e&&!f&&a()},[e==null?void 0:e.topic]),me.useEffect(()=>{if(u)o(u.message);else if(c){const g=c&&c.type==="GET_SELECTED_ACCOUNT_RES"?c:void 0,d=c&&c.type==="GET_SELECTED_ACCOUNT_RES"?c.data.error:void 0,w=g==null?void 0:g.data.account;w&&i(w),o(d)}},[c,u]),{account:t,accounts:r,isConnected:!!t,session:e,error:s,loading:f}},m3=()=>{const e=Fr(),[t,r]=Br(d=>[d.chainId,d.account]),[n,i]=me.useState(void 0),[s,o]=me.useState(void 0),{request:a,data:c,error:u,loading:f}=mn({topic:e==null?void 0:e.topic,chainId:t??"aleo:1",request:{id:1,jsonrpc:"2.0",method:"aleo_getBalance",params:{type:"GET_BALANCE",data:{assetId:void 0}}}});za(({_:d,params:w,topic:v})=>{w.event.name==="accountSynced"&&e&&e.topic===v&&a()});const g=!!e&&!!r;return me.useEffect(()=>{g&&a()},[g,r,e]),me.useEffect(()=>{if(u)i(void 0),o(u.message);else if(c){const d=c&&c.type==="GET_BALANCE_RES"?c:void 0,w=c&&c.type==="GET_BALANCE_REJ"?c.data.error:void 0;i(d==null?void 0:d.data.balances),o(w)}},[c,u]),me.useEffect(()=>{r===void 0&&i(void 0)},[r]),{loading:f,balances:n,error:s}},y3=()=>{const[e,t]=me.useState(void 0),{connect:r,data:n,error:i,loading:s}=P_({requiredNamespaces:{aleo:{methods:Va,chains:Ls,events:Ms}}}),o=async()=>{try{await r(),t(void 0)}catch{}};return me.useEffect(()=>{i&&t(i.message)},[i]),{connect:o,data:n,error:e,loading:s}},w3=e=>{const t=Fr(),[r]=Br(g=>[g.chainId]),{request:n,data:i,error:s,loading:o}=mn({topic:(t==null?void 0:t.topic)??"",chainId:r??"aleo:1",request:{id:1,jsonrpc:"2.0",method:"aleo_decrypt",params:{type:"DECRYPT",data:{transactionId:e}}}}),a=s?s.message:i&&i.type==="DECRYPT_REJ"?i.data.error:void 0,c=i&&i.type==="DECRYPT_RES"?i:void 0,u=c==null?void 0:c.data.transitions;return{decrypt:()=>{!e||!e.startsWith("at1")||e.length!==61||n()},transitions:u,loading:o,error:a}},v3=e=>{const t=Fr(),[r]=Br(g=>[g.chainId]),{request:n,data:i,error:s,loading:o}=mn({topic:(t==null?void 0:t.topic)??"",chainId:r??"aleo:1",request:{id:1,jsonrpc:"2.0",method:"aleo_deployProgram",params:{type:"DEPLOY",data:{data:e}}}}),a=s?s.message:i&&i.type==="DEPLOY_REJ"?i.data.error:void 0,c=i&&i.type==="DEPLOY_RES"?i:void 0,u=c==null?void 0:c.data.transactionId;return{deploy:()=>{e&&n()},transactionId:u,loading:o,error:a}},b3=e=>{const t=Fr();Br(g=>[g.chainId]);const{request:r,data:n,error:i,loading:s}=mn({topic:(t==null?void 0:t.topic)??"",chainId:"aleo:1",request:{id:1,jsonrpc:"2.0",method:"aleo_executeProgram",params:{type:"EXECUTE",data:{data:e}}}}),o=i?i.message:n&&n.type==="EXECUTE_REJ"?n.data.error:void 0,a=n&&n.type==="EXECUTE_RES"?n:void 0,c=a==null?void 0:a.data.transactionId,u=a==null?void 0:a.data.transitions;return{execute:()=>{e&&(r(),console.log("sent execute request"))},transactionId:c,transitions:u,error:o,loading:s}},_3=()=>{const[e,t]=me.useState({loading:!0});return me.useEffect(()=>{},[]),{...e}},E3=e=>{const t=Fr(),[r,n]=Br(v=>[v.chainId,v.account]),[i,s]=me.useState([]),[o,a]=me.useState(void 0);(e==null?void 0:e.program_id)===""&&(e.program_id=void 0);const{request:c,data:u,error:f,loading:g}=mn({topic:t==null?void 0:t.topic,chainId:r??"aleo:1",request:{id:1,jsonrpc:"2.0",method:"aleo_getRecords",params:{type:"GET_RECORDS",filter:e}}});za(({id:v,params:E,topic:C})=>{E.event.name==="accountSynced"&&t&&t.topic===C&&c()});const d=!!t&&!!n;me.useEffect(()=>{d&&!g&&c()},[d,n]),me.useEffect(()=>{if(f)s([]),a(f.message);else if(u){const v=u,E=v.type==="GET_RECORDS_REJ"?v.data.error:void 0,C=v.type==="GET_RECORDS_RES"?v.data.records:[];s(C),a(E)}},[u,f]);const w=()=>{!!t&&!!n&&!g&&(console.log("wc_requesting records!"),c())};return me.useEffect(()=>{n===void 0&&s([])},[n]),{request:w,records:i,error:o,loading:g}},S3=e=>{const t=Fr(),[r]=Br(a=>[a.chainId]),{request:n,data:i,error:s,loading:o}=mn({topic:(t==null?void 0:t.topic)??"",chainId:r??"aleo:1",request:{id:1,jsonrpc:"2.0",method:"aleo_transfer",params:e}});return{transfer:n,data:i,error:s,loading:o}},Xf=()=>{const e=Fr(),[t,r,n]=Br(i=>[i.setAccount,i.setAccounts,i.disconnect]);me.useEffect(()=>{if(e){window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE");const i=e.namespaces.aleo.accounts.map(s=>{const o=s.split(":");return{network:o[0],chainId:o[1],address:o[2]}});r(i??[]),i[0]&&t(i[0])}},[e]),Cf(({id:i,topic:s})=>{console.log("session deleted! topic: ",s),n()})};function Qf(e,t,r=t){const n=e<BigInt(0),i=e.toString().slice(n?1:0).padStart(t+1,"0"),s=i.slice(0,i.length-t),o=i.slice(-t);let a=o.length-1;for(;o[a]==="0";)--a;const c=o.slice(0,a+1);return(n?"-":"")+(c?`${s}.${c.slice(0,r)}`:s)}function x3(e,t){const[r,n]=e.split("."),i=(n||"").replace(/0+$/,"").slice(0,t),s=BigInt(10)**BigInt(t),o=s/BigInt(10)**BigInt(i.length||0);return BigInt(i||0)*o+BigInt(r||0)*s}var ed=(e=>(e[e.ETH=0]="ETH",e[e.DAI=1]="DAI",e))(ed||{});function O3(e){switch(e){case 0:return{id:0,symbol:"ETH",coinMarketCapID:"1027"};case 1:return{id:1,symbol:"DAI",coinMarketCapID:"4943"}}}class D3{constructor(t,r){this.getDisplayValue=()=>Qf(this.value,18)+" "+this.symbol,this.type=t;const{id:n,symbol:i,coinMarketCapID:s}=O3(t);this.id=n,this.symbol=i,this.coinMarketCapID=s,this.value=r}}const I3="0x6b175474e89094c44da98b954eedeac495271d0f",C3=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"}];/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ks=window,dc=ks.ShadowRoot&&(ks.ShadyCSS===void 0||ks.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,pc=Symbol(),td=new WeakMap;let rd=class{constructor(t,r,n){if(this._$cssResult$=!0,n!==pc)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(dc&&t===void 0){const n=r!==void 0&&r.length===1;n&&(t=td.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&td.set(r,t))}return t}toString(){return this.cssText}};const A3=e=>new rd(typeof e=="string"?e:e+"",void 0,pc),ze=(e,...t)=>{const r=e.length===1?e[0]:t.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new rd(r,e,pc)},$3=(e,t)=>{dc?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{const n=document.createElement("style"),i=ks.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,e.appendChild(n)})},nd=dc?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const n of t.cssRules)r+=n.cssText;return A3(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var gc;const zs=window,id=zs.trustedTypes,T3=id?id.emptyScript:"",sd=zs.reactiveElementPolyfillSupport,mc={toAttribute(e,t){switch(t){case Boolean:e=e?T3:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},od=(e,t)=>t!==e&&(t==t||e==e),yc={attribute:!0,type:String,converter:mc,reflect:!1,hasChanged:od},wc="finalized";let Wn=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((r,n)=>{const i=this._$Ep(n,r);i!==void 0&&(this._$Ev.set(i,n),t.push(i))}),t}static createProperty(t,r=yc){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(t,r),!r.noAccessor&&!this.prototype.hasOwnProperty(t)){const n=typeof t=="symbol"?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,r);i!==void 0&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,r,n){return{get(){return this[r]},set(i){const s=this[t];this[r]=i,this.requestUpdate(t,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||yc}static finalize(){if(this.hasOwnProperty(wc))return!1;this[wc]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const i of n)this.createProperty(i,r[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const i of n)r.unshift(nd(i))}else t!==void 0&&r.push(nd(t));return r}static _$Ep(t,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(r=>r(this))}addController(t){var r,n;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)===null||n===void 0||n.call(t))}removeController(t){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var t;const r=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return $3(r,this.constructor.elementStyles),r}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)})}attributeChangedCallback(t,r,n){this._$AK(t,n)}_$EO(t,r,n=yc){var i;const s=this.constructor._$Ep(t,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:mc).toAttribute(r,n.type);this._$El=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(t,r){var n;const i=this.constructor,s=i._$Ev.get(t);if(s!==void 0&&this._$El!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?o.converter:mc;this._$El=s,this[s]=a.fromAttribute(r,o.type),this._$El=null}}requestUpdate(t,r,n){let i=!0;t!==void 0&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||od)(this[t],r)?(this._$AL.has(t)||this._$AL.set(t,r),n.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(t=this._$ES)===null||t===void 0||t.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(n)):this._$Ek()}catch(i){throw r=!1,this._$Ek(),i}r&&this._$AE(n)}willUpdate(t){}_$AE(t){var r;(r=this._$ES)===null||r===void 0||r.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((r,n)=>this._$EO(n,this[n],r)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};Wn[wc]=!0,Wn.elementProperties=new Map,Wn.elementStyles=[],Wn.shadowRootOptions={mode:"open"},sd==null||sd({ReactiveElement:Wn}),((gc=zs.reactiveElementVersions)!==null&&gc!==void 0?gc:zs.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var vc;const Ws=window,Vn=Ws.trustedTypes,ad=Vn?Vn.createPolicy("lit-html",{createHTML:e=>e}):void 0,bc="$lit$",kr=`lit$${(Math.random()+"").slice(9)}$`,cd="?"+kr,P3=`<${cd}>`,vn=document,Bi=()=>vn.createComment(""),ki=e=>e===null||typeof e!="object"&&typeof e!="function",ld=Array.isArray,R3=e=>ld(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",_c=`[ 	
\f\r]`,zi=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ud=/-->/g,hd=/>/g,bn=RegExp(`>|${_c}(?:([^\\s"'>=/]+)(${_c}*=${_c}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),fd=/'/g,dd=/"/g,pd=/^(?:script|style|textarea|title)$/i,gd=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),J=gd(1),st=gd(2),_n=Symbol.for("lit-noChange"),bt=Symbol.for("lit-nothing"),md=new WeakMap,En=vn.createTreeWalker(vn,129,null,!1);function yd(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return ad!==void 0?ad.createHTML(t):t}const N3=(e,t)=>{const r=e.length-1,n=[];let i,s=t===2?"<svg>":"",o=zi;for(let a=0;a<r;a++){const c=e[a];let u,f,g=-1,d=0;for(;d<c.length&&(o.lastIndex=d,f=o.exec(c),f!==null);)d=o.lastIndex,o===zi?f[1]==="!--"?o=ud:f[1]!==void 0?o=hd:f[2]!==void 0?(pd.test(f[2])&&(i=RegExp("</"+f[2],"g")),o=bn):f[3]!==void 0&&(o=bn):o===bn?f[0]===">"?(o=i??zi,g=-1):f[1]===void 0?g=-2:(g=o.lastIndex-f[2].length,u=f[1],o=f[3]===void 0?bn:f[3]==='"'?dd:fd):o===dd||o===fd?o=bn:o===ud||o===hd?o=zi:(o=bn,i=void 0);const w=o===bn&&e[a+1].startsWith("/>")?" ":"";s+=o===zi?c+P3:g>=0?(n.push(u),c.slice(0,g)+bc+c.slice(g)+kr+w):c+kr+(g===-2?(n.push(void 0),a):w)}return[yd(e,s+(e[r]||"<?>")+(t===2?"</svg>":"")),n]};class Wi{constructor({strings:t,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[u,f]=N3(t,r);if(this.el=Wi.createElement(u,n),En.currentNode=this.el.content,r===2){const g=this.el.content,d=g.firstChild;d.remove(),g.append(...d.childNodes)}for(;(i=En.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const g=[];for(const d of i.getAttributeNames())if(d.endsWith(bc)||d.startsWith(kr)){const w=f[o++];if(g.push(d),w!==void 0){const v=i.getAttribute(w.toLowerCase()+bc).split(kr),E=/([.?@])?(.*)/.exec(w);c.push({type:1,index:s,name:E[2],strings:v,ctor:E[1]==="."?M3:E[1]==="?"?j3:E[1]==="@"?F3:Vs})}else c.push({type:6,index:s})}for(const d of g)i.removeAttribute(d)}if(pd.test(i.tagName)){const g=i.textContent.split(kr),d=g.length-1;if(d>0){i.textContent=Vn?Vn.emptyScript:"";for(let w=0;w<d;w++)i.append(g[w],Bi()),En.nextNode(),c.push({type:2,index:++s});i.append(g[d],Bi())}}}else if(i.nodeType===8)if(i.data===cd)c.push({type:2,index:s});else{let g=-1;for(;(g=i.data.indexOf(kr,g+1))!==-1;)c.push({type:7,index:s}),g+=kr.length-1}s++}}static createElement(t,r){const n=vn.createElement("template");return n.innerHTML=t,n}}function Hn(e,t,r=e,n){var i,s,o,a;if(t===_n)return t;let c=n!==void 0?(i=r._$Co)===null||i===void 0?void 0:i[n]:r._$Cl;const u=ki(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==u&&((s=c==null?void 0:c._$AO)===null||s===void 0||s.call(c,!1),u===void 0?c=void 0:(c=new u(e),c._$AT(e,r,n)),n!==void 0?((o=(a=r)._$Co)!==null&&o!==void 0?o:a._$Co=[])[n]=c:r._$Cl=c),c!==void 0&&(t=Hn(e,c._$AS(e,t.values),c,n)),t}class L3{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var r;const{el:{content:n},parts:i}=this._$AD,s=((r=t==null?void 0:t.creationScope)!==null&&r!==void 0?r:vn).importNode(n,!0);En.currentNode=s;let o=En.nextNode(),a=0,c=0,u=i[0];for(;u!==void 0;){if(a===u.index){let f;u.type===2?f=new Vi(o,o.nextSibling,this,t):u.type===1?f=new u.ctor(o,u.name,u.strings,this,t):u.type===6&&(f=new B3(o,this,t)),this._$AV.push(f),u=i[++c]}a!==(u==null?void 0:u.index)&&(o=En.nextNode(),a++)}return En.currentNode=vn,s}v(t){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,r),r+=n.strings.length-2):n._$AI(t[r])),r++}}class Vi{constructor(t,r,n,i){var s;this.type=2,this._$AH=bt,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=i,this._$Cp=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Hn(this,t,r),ki(t)?t===bt||t==null||t===""?(this._$AH!==bt&&this._$AR(),this._$AH=bt):t!==this._$AH&&t!==_n&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):R3(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==bt&&ki(this._$AH)?this._$AA.nextSibling.data=t:this.$(vn.createTextNode(t)),this._$AH=t}g(t){var r;const{values:n,_$litType$:i}=t,s=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=Wi.createElement(yd(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.v(n);else{const o=new L3(s,this),a=o.u(this.options);o.v(n),this.$(a),this._$AH=o}}_$AC(t){let r=md.get(t.strings);return r===void 0&&md.set(t.strings,r=new Wi(t)),r}T(t){ld(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of t)i===r.length?r.push(n=new Vi(this.k(Bi()),this.k(Bi()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(t=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}}class Vs{constructor(t,r,n,i,s){this.type=1,this._$AH=bt,this._$AN=void 0,this.element=t,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=bt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)t=Hn(this,t,r,0),o=!ki(t)||t!==this._$AH&&t!==_n,o&&(this._$AH=t);else{const a=t;let c,u;for(t=s[0],c=0;c<s.length-1;c++)u=Hn(this,a[n+c],r,c),u===_n&&(u=this._$AH[c]),o||(o=!ki(u)||u!==this._$AH[c]),u===bt?t=bt:t!==bt&&(t+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(t)}j(t){t===bt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class M3 extends Vs{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===bt?void 0:t}}const U3=Vn?Vn.emptyScript:"";let j3=class extends Vs{constructor(){super(...arguments),this.type=4}j(t){t&&t!==bt?this.element.setAttribute(this.name,U3):this.element.removeAttribute(this.name)}};class F3 extends Vs{constructor(t,r,n,i,s){super(t,r,n,i,s),this.type=5}_$AI(t,r=this){var n;if((t=(n=Hn(this,t,r,0))!==null&&n!==void 0?n:bt)===_n)return;const i=this._$AH,s=t===bt&&i!==bt||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==bt&&(i===bt||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,t):this._$AH.handleEvent(t)}}let B3=class{constructor(t,r,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){Hn(this,t)}};const wd=Ws.litHtmlPolyfillSupport;wd==null||wd(Wi,Vi),((vc=Ws.litHtmlVersions)!==null&&vc!==void 0?vc:Ws.litHtmlVersions=[]).push("2.8.0");const k3=(e,t,r)=>{var n,i;const s=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:t;let o=s._$litPart$;if(o===void 0){const a=(i=r==null?void 0:r.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new Vi(t.insertBefore(Bi(),a),a,void 0,r??{})}return o._$AI(e),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ec,Sc;class Ee extends Wn{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,r;const n=super.createRenderRoot();return(t=(r=this.renderOptions).renderBefore)!==null&&t!==void 0||(r.renderBefore=n.firstChild),n}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=k3(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return _n}}Ee.finalized=!0,Ee._$litElement$=!0,(Ec=globalThis.litElementHydrateSupport)===null||Ec===void 0||Ec.call(globalThis,{LitElement:Ee});const vd=globalThis.litElementPolyfillSupport;vd==null||vd({LitElement:Ee}),((Sc=globalThis.litElementVersions)!==null&&Sc!==void 0?Sc:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Re=e=>t=>typeof t=="function"?((r,n)=>(customElements.define(r,n),n))(e,t):((r,n)=>{const{kind:i,elements:s}=n;return{kind:i,elements:s,finisher(o){customElements.define(r,o)}}})(e,t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const z3=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(r){r.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}},W3=(e,t,r)=>{t.constructor.createProperty(r,e)};function pe(e){return(t,r)=>r!==void 0?W3(e,t,r):z3(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function qt(e){return pe({...e,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var xc;((xc=window.HTMLSlotElement)===null||xc===void 0?void 0:xc.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const V3={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},H3=e=>(...t)=>({_$litDirective$:e,values:t});class q3{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,n){this._$Ct=t,this._$AM=r,this._$Ci=n}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ir=H3(class extends q3{constructor(e){var t;if(super(e),e.type!==V3.ATTRIBUTE||e.name!=="class"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,n;if(this.it===void 0){this.it=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in t)t[s]&&!(!((r=this.nt)===null||r===void 0)&&r.has(s))&&this.it.add(s);return this.render(t)}const i=e.element.classList;this.it.forEach(s=>{s in t||(i.remove(s),this.it.delete(s))});for(const s in t){const o=!!t[s];o===this.it.has(s)||!((n=this.nt)===null||n===void 0)&&n.has(s)||(o?(i.add(s),this.it.add(s)):(i.remove(s),this.it.delete(s)))}return _n}});function K3(e,t){e.indexOf(t)===-1&&e.push(t)}const bd=(e,t,r)=>Math.min(Math.max(r,e),t),nr={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Hs=e=>typeof e=="number",qn=e=>Array.isArray(e)&&!Hs(e[0]),G3=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e};function Y3(e,t){return qn(e)?e[G3(0,e.length,t)]:e}const _d=(e,t,r)=>-r*e+r*t+e,Ed=()=>{},zr=e=>e,Oc=(e,t,r)=>t-e===0?1:(r-e)/(t-e);function Sd(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Oc(0,t,n);e.push(_d(r,1,i))}}function J3(e){const t=[0];return Sd(t,e-1),t}function Z3(e,t=J3(e.length),r=zr){const n=e.length,i=n-t.length;return i>0&&Sd(t,i),s=>{let o=0;for(;o<n-2&&!(s<t[o+1]);o++);let a=bd(0,1,Oc(t[o],t[o+1],s));return a=Y3(r,o)(a),_d(e[o],e[o+1],a)}}const xd=e=>Array.isArray(e)&&Hs(e[0]),Dc=e=>typeof e=="object"&&!!e.createAnimation,Kn=e=>typeof e=="function",X3=e=>typeof e=="string",Hi={ms:e=>e*1e3,s:e=>e/1e3},Od=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Q3=1e-7,e5=12;function t5(e,t,r,n,i){let s,o,a=0;do o=t+(r-t)/2,s=Od(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>Q3&&++a<e5);return o}function qi(e,t,r,n){if(e===t&&r===n)return zr;const i=s=>t5(s,0,1,e,r);return s=>s===0||s===1?s:Od(i(s),t,n)}const r5=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*e,i=t==="end"?Math.floor(n):Math.ceil(n);return bd(0,1,i/e)},Dd={ease:qi(.25,.1,.25,1),"ease-in":qi(.42,0,1,1),"ease-in-out":qi(.42,0,.58,1),"ease-out":qi(0,0,.58,1)},n5=/\((.*?)\)/;function Id(e){if(Kn(e))return e;if(xd(e))return qi(...e);if(Dd[e])return Dd[e];if(e.startsWith("steps")){const t=n5.exec(e);if(t){const r=t[1].split(",");return r5(parseFloat(r[0]),r[1].trim())}}return zr}class Cd{constructor(t,r=[0,1],{easing:n,duration:i=nr.duration,delay:s=nr.delay,endDelay:o=nr.endDelay,repeat:a=nr.repeat,offset:c,direction:u="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=zr,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((g,d)=>{this.resolve=g,this.reject=d}),n=n||nr.easing,Dc(n)){const g=n.createAnimation(r);n=g.easing,r=g.keyframes||r,i=g.duration||i}this.repeat=a,this.easing=qn(n)?zr:Id(n),this.updateDuration(i);const f=Z3(r,c,qn(n)?n.map(Id):zr);this.tick=g=>{var d;s=s;let w=0;this.pauseTime!==void 0?w=this.pauseTime:w=(g-this.startTime)*this.rate,this.t=w,w/=1e3,w=Math.max(w-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(w=this.totalDuration);const v=w/this.duration;let E=Math.floor(v),C=v%1;!C&&v>=1&&(C=1),C===1&&E--;const A=E%2;(u==="reverse"||u==="alternate"&&A||u==="alternate-reverse"&&!A)&&(C=1-C);const b=w>=this.totalDuration?1:Math.min(C,1),S=f(this.easing(b));t(S),this.pauseTime===void 0&&(this.playState==="finished"||w>=this.totalDuration+o)?(this.playState="finished",(d=this.resolve)===null||d===void 0||d.call(this,S)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}var Ic=function(){};process.env.NODE_ENV!=="production"&&(Ic=function(e,t){if(!e)throw new Error(t)});class i5{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const Cc=new WeakMap;function Ad(e){return Cc.has(e)||Cc.set(e,{transforms:[],values:new Map}),Cc.get(e)}function s5(e,t){return e.has(t)||e.set(t,new i5),e.get(t)}const o5=["","X","Y","Z"],a5=["translate","scale","rotate","skew"],qs={x:"translateX",y:"translateY",z:"translateZ"},$d={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},c5={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:$d,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:zr},skew:$d},Ki=new Map,Ac=e=>`--motion-${e}`,Ks=["x","y","z"];a5.forEach(e=>{o5.forEach(t=>{Ks.push(e+t),Ki.set(Ac(e+t),c5[e])})});const l5=(e,t)=>Ks.indexOf(e)-Ks.indexOf(t),u5=new Set(Ks),Td=e=>u5.has(e),h5=(e,t)=>{qs[t]&&(t=qs[t]);const{transforms:r}=Ad(e);K3(r,t),e.style.transform=f5(r)},f5=e=>e.sort(l5).reduce(d5,"").trim(),d5=(e,t)=>`${e} ${t}(var(${Ac(t)}))`,$c=e=>e.startsWith("--"),Pd=new Set;function p5(e){if(!Pd.has(e)){Pd.add(e);try{const{syntax:t,initialValue:r}=Ki.has(e)?Ki.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:r})}catch{}}}const Tc=(e,t)=>document.createElement("div").animate(e,t),Rd={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Tc({opacity:[1]})}catch{return!1}return!0},finished:()=>!!Tc({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{Tc({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},Pc={},Gn={};for(const e in Rd)Gn[e]=()=>(Pc[e]===void 0&&(Pc[e]=Rd[e]()),Pc[e]);const g5=.015,m5=(e,t)=>{let r="";const n=Math.round(t/g5);for(let i=0;i<n;i++)r+=e(Oc(0,n-1,i))+", ";return r.substring(0,r.length-2)},Nd=(e,t)=>Kn(e)?Gn.linearEasing()?`linear(${m5(e,t)})`:nr.easing:xd(e)?y5(e):e,y5=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`;function w5(e,t){for(let r=0;r<e.length;r++)e[r]===null&&(e[r]=r?e[r-1]:t());return e}const v5=e=>Array.isArray(e)?e:[e];function Rc(e){return qs[e]&&(e=qs[e]),Td(e)?Ac(e):e}const Gs={get:(e,t)=>{t=Rc(t);let r=$c(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!r&&r!==0){const n=Ki.get(t);n&&(r=n.initialValue)}return r},set:(e,t,r)=>{t=Rc(t),$c(t)?e.style.setProperty(t,r):e.style[t]=r}};function Ld(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function b5(e,t){var r;let n=(t==null?void 0:t.toDefaultUnit)||zr;const i=e[e.length-1];if(X3(i)){const s=((r=i.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";s&&(n=o=>o+s)}return n}function _5(){return window.__MOTION_DEV_TOOLS_RECORD}function E5(e,t,r,n={},i){const s=_5(),o=n.record!==!1&&s;let a,{duration:c=nr.duration,delay:u=nr.delay,endDelay:f=nr.endDelay,repeat:g=nr.repeat,easing:d=nr.easing,persist:w=!1,direction:v,offset:E,allowWebkitAcceleration:C=!1}=n;const A=Ad(e),b=Td(t);let S=Gn.waapi();b&&h5(e,t);const y=Rc(t),x=s5(A.values,y),p=Ki.get(y);return Ld(x.animation,!(Dc(d)&&x.generator)&&n.record!==!1),()=>{const l=()=>{var L,U;return(U=(L=Gs.get(e,y))!==null&&L!==void 0?L:p==null?void 0:p.initialValue)!==null&&U!==void 0?U:0};let m=w5(v5(r),l);const M=b5(m,p);if(Dc(d)){const L=d.createAnimation(m,t!=="opacity",l,y,x);d=L.easing,m=L.keyframes||m,c=L.duration||c}if($c(y)&&(Gn.cssRegisterProperty()?p5(y):S=!1),b&&!Gn.linearEasing()&&(Kn(d)||qn(d)&&d.some(Kn))&&(S=!1),S){p&&(m=m.map(j=>Hs(j)?p.toDefaultUnit(j):j)),m.length===1&&(!Gn.partialKeyframes()||o)&&m.unshift(l());const L={delay:Hi.ms(u),duration:Hi.ms(c),endDelay:Hi.ms(f),easing:qn(d)?void 0:Nd(d,c),direction:v,iterations:g+1,fill:"both"};a=e.animate({[y]:m,offset:E,easing:qn(d)?d.map(j=>Nd(j,c)):void 0},L),a.finished||(a.finished=new Promise((j,F)=>{a.onfinish=j,a.oncancel=F}));const U=m[m.length-1];a.finished.then(()=>{w||(Gs.set(e,y,U),a.cancel())}).catch(Ed),C||(a.playbackRate=1.000001)}else if(i&&b)m=m.map(L=>typeof L=="string"?parseFloat(L):L),m.length===1&&m.unshift(parseFloat(l())),a=new i(L=>{Gs.set(e,y,M?M(L):L)},m,Object.assign(Object.assign({},n),{duration:c,easing:d}));else{const L=m[m.length-1];Gs.set(e,y,p&&Hs(L)?p.toDefaultUnit(L):L)}return o&&s(e,t,m,{duration:c,delay:u,easing:d,repeat:g,offset:E},"motion-one"),x.setAnimation(a),a}}const S5=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function x5(e,t){var r;return typeof e=="string"?t?((r=t[e])!==null&&r!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const O5=e=>e(),Md=(e,t,r=nr.duration)=>new Proxy({animations:e.map(O5).filter(Boolean),duration:r,options:t},I5),D5=e=>e.animations[0],I5={get:(e,t)=>{const r=D5(e);switch(t){case"duration":return e.duration;case"currentTime":return Hi.s((r==null?void 0:r[t])||0);case"playbackRate":case"playState":return r==null?void 0:r[t];case"finished":return e.finished||(e.finished=Promise.all(e.animations.map(C5)).catch(Ed)),e.finished;case"stop":return()=>{e.animations.forEach(n=>Ld(n))};case"forEachNative":return n=>{e.animations.forEach(i=>n(i,e))};default:return typeof(r==null?void 0:r[t])>"u"?void 0:()=>e.animations.forEach(n=>n[t]())}},set:(e,t,r)=>{switch(t){case"currentTime":r=Hi.ms(r);case"currentTime":case"playbackRate":for(let n=0;n<e.animations.length;n++)e.animations[n][t]=r;return!0}return!1}},C5=e=>e.finished;function A5(e,t,r){return Kn(e)?e(t,r):e}function $5(e){return function(r,n,i={}){r=x5(r);const s=r.length;Ic(!!s,"No valid element provided."),Ic(!!n,"No keyframes defined.");const o=[];for(let a=0;a<s;a++){const c=r[a];for(const u in n){const f=S5(i,u);f.delay=A5(f.delay,a,s);const g=E5(c,u,n[u],f,e);o.push(g)}}return Md(o,i,i.duration)}}const T5=$5(Cd);function P5(e,t={}){return Md([()=>{const r=new Cd(e,[0,1],t);return r.finished.catch(()=>{}),r}],t,t.duration)}function Sn(e,t,r){return(Kn(e)?P5:T5)(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zt=e=>e??bt;var Gi={},R5=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Ud={},Xt={};let Nc;const N5=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Xt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},Xt.getSymbolTotalCodewords=function(t){return N5[t]},Xt.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t},Xt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Nc=t},Xt.isKanjiModeEnabled=function(){return typeof Nc<"u"},Xt.toSJIS=function(t){return Nc(t)};var Ys={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Ys);function jd(){this.buffer=[],this.length=0}jd.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var L5=jd;function Yi(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Yi.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},Yi.prototype.get=function(e,t){return this.data[e*this.size+t]},Yi.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},Yi.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var M5=Yi,Fd={};(function(e){const t=Xt.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=t(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(n){const i=[],s=e.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(Fd);var Bd={};const U5=Xt.getSymbolSize,kd=7;Bd.getPositions=function(t){const r=U5(t);return[[0,0],[r-kd,0],[0,r-kd]]};var zd={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,u=null,f=null;for(let g=0;g<s;g++){a=c=0,u=f=null;for(let d=0;d<s;d++){let w=i.get(g,d);w===u?a++:(a>=5&&(o+=t.N1+(a-5)),u=w,a=1),w=i.get(d,g),w===f?c++:(c>=5&&(o+=t.N1+(c-5)),f=w,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let u=0;u<s;u++){a=c=0;for(let f=0;f<s;f++)a=a<<1&2047|i.get(u,f),f>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(f,u),f>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function r(n,i,s){switch(n){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){s(u),e.applyMask(u,i);const f=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),f<c&&(c=f,a=u)}return a}})(zd);var Js={};const Wr=Ys,Zs=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Xs=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Js.getBlocksCount=function(t,r){switch(r){case Wr.L:return Zs[(t-1)*4+0];case Wr.M:return Zs[(t-1)*4+1];case Wr.Q:return Zs[(t-1)*4+2];case Wr.H:return Zs[(t-1)*4+3];default:return}},Js.getTotalCodewordsCount=function(t,r){switch(r){case Wr.L:return Xs[(t-1)*4+0];case Wr.M:return Xs[(t-1)*4+1];case Wr.Q:return Xs[(t-1)*4+2];case Wr.H:return Xs[(t-1)*4+3];default:return}};var Wd={},Qs={};const Ji=new Uint8Array(512),eo=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Ji[r]=t,eo[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Ji[r]=Ji[r-255]})(),Qs.log=function(t){if(t<1)throw new Error("log("+t+")");return eo[t]},Qs.exp=function(t){return Ji[t]},Qs.mul=function(t,r){return t===0||r===0?0:Ji[eo[t]+eo[r]]},function(e){const t=Qs;e.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=t.mul(n[o],i[a]);return s},e.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=t.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(Wd);const Vd=Wd;function Lc(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Lc.prototype.initialize=function(t){this.degree=t,this.genPoly=Vd.generateECPolynomial(this.degree)},Lc.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=Vd.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var j5=Lc,Hd={},Vr={},Mc={};Mc.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var br={};const qd="[0-9]+",F5="[A-Z $%*+\\-./:]+";let Zi="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Zi=Zi.replace(/u/g,"\\u");const B5="(?:(?![A-Z0-9 $%*+\\-./:]|"+Zi+`)(?:.|[\r
]))+`;br.KANJI=new RegExp(Zi,"g"),br.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),br.BYTE=new RegExp(B5,"g"),br.NUMERIC=new RegExp(qd,"g"),br.ALPHANUMERIC=new RegExp(F5,"g");const k5=new RegExp("^"+Zi+"$"),z5=new RegExp("^"+qd+"$"),W5=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");br.testKanji=function(t){return k5.test(t)},br.testNumeric=function(t){return z5.test(t)},br.testAlphanumeric=function(t){return W5.test(t)},function(e){const t=Mc,r=br;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return r.testNumeric(s)?e.NUMERIC:r.testAlphanumeric(s)?e.ALPHANUMERIC:r.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return n(s)}catch{return o}}}(Vr),function(e){const t=Xt,r=Js,n=Ys,i=Vr,s=Mc,o=7973,a=t.getBCHDigit(o);function c(d,w,v){for(let E=1;E<=40;E++)if(w<=e.getCapacity(E,v,d))return E}function u(d,w){return i.getCharCountIndicator(d,w)+4}function f(d,w){let v=0;return d.forEach(function(E){const C=u(E.mode,w);v+=C+E.getBitsLength()}),v}function g(d,w){for(let v=1;v<=40;v++)if(f(d,v)<=e.getCapacity(v,w,i.MIXED))return v}e.from=function(w,v){return s.isValid(w)?parseInt(w,10):v},e.getCapacity=function(w,v,E){if(!s.isValid(w))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=i.BYTE);const C=t.getSymbolTotalCodewords(w),A=r.getTotalCodewordsCount(w,v),b=(C-A)*8;if(E===i.MIXED)return b;const S=b-u(E,w);switch(E){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},e.getBestVersionForData=function(w,v){let E;const C=n.from(v,n.M);if(Array.isArray(w)){if(w.length>1)return g(w,C);if(w.length===0)return 1;E=w[0]}else E=w;return c(E.mode,E.getLength(),C)},e.getEncodedBits=function(w){if(!s.isValid(w)||w<7)throw new Error("Invalid QR Code version");let v=w<<12;for(;t.getBCHDigit(v)-a>=0;)v^=o<<t.getBCHDigit(v)-a;return w<<12|v}}(Hd);var Kd={};const Uc=Xt,Gd=1335,V5=21522,Yd=Uc.getBCHDigit(Gd);Kd.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;Uc.getBCHDigit(i)-Yd>=0;)i^=Gd<<Uc.getBCHDigit(i)-Yd;return(n<<10|i)^V5};var Jd={};const H5=Vr;function Yn(e){this.mode=H5.NUMERIC,this.data=e.toString()}Yn.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Yn.prototype.getLength=function(){return this.data.length},Yn.prototype.getBitsLength=function(){return Yn.getBitsLength(this.data.length)},Yn.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,s*3+1))};var q5=Yn;const K5=Vr,jc=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Jn(e){this.mode=K5.ALPHANUMERIC,this.data=e}Jn.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},Jn.prototype.getLength=function(){return this.data.length},Jn.prototype.getBitsLength=function(){return Jn.getBitsLength(this.data.length)},Jn.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=jc.indexOf(this.data[r])*45;n+=jc.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(jc.indexOf(this.data[r]),6)};var G5=Jn,Y5=function(t){for(var r=[],n=t.length,i=0;i<n;i++){var s=t.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=t.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const J5=Y5,Z5=Vr;function Zn(e){this.mode=Z5.BYTE,typeof e=="string"&&(e=J5(e)),this.data=new Uint8Array(e)}Zn.getBitsLength=function(t){return t*8},Zn.prototype.getLength=function(){return this.data.length},Zn.prototype.getBitsLength=function(){return Zn.getBitsLength(this.data.length)},Zn.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var X5=Zn;const Q5=Vr,eE=Xt;function Xn(e){this.mode=Q5.KANJI,this.data=e}Xn.getBitsLength=function(t){return t*13},Xn.prototype.getLength=function(){return this.data.length},Xn.prototype.getBitsLength=function(){return Xn.getBitsLength(this.data.length)},Xn.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=eE.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var tE=Xn,Zd={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var c,u,f,g,d,w,v,E,C;!a.empty();){c=a.pop(),u=c.value,g=c.cost,d=r[u]||{};for(f in d)d.hasOwnProperty(f)&&(w=d[f],v=g+w,E=o[f],C=typeof o[f]>"u",(C||E>v)&&(o[f]=v,a.push(f,v),s[f]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var A=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(A)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Zd);var rE=Zd.exports;(function(e){const t=Vr,r=q5,n=G5,i=X5,s=tE,o=br,a=Xt,c=rE;function u(A){return unescape(encodeURIComponent(A)).length}function f(A,b,S){const y=[];let x;for(;(x=A.exec(S))!==null;)y.push({data:x[0],index:x.index,mode:b,length:x[0].length});return y}function g(A){const b=f(o.NUMERIC,t.NUMERIC,A),S=f(o.ALPHANUMERIC,t.ALPHANUMERIC,A);let y,x;return a.isKanjiModeEnabled()?(y=f(o.BYTE,t.BYTE,A),x=f(o.KANJI,t.KANJI,A)):(y=f(o.BYTE_KANJI,t.BYTE,A),x=[]),b.concat(S,y,x).sort(function(l,m){return l.index-m.index}).map(function(l){return{data:l.data,mode:l.mode,length:l.length}})}function d(A,b){switch(b){case t.NUMERIC:return r.getBitsLength(A);case t.ALPHANUMERIC:return n.getBitsLength(A);case t.KANJI:return s.getBitsLength(A);case t.BYTE:return i.getBitsLength(A)}}function w(A){return A.reduce(function(b,S){const y=b.length-1>=0?b[b.length-1]:null;return y&&y.mode===S.mode?(b[b.length-1].data+=S.data,b):(b.push(S),b)},[])}function v(A){const b=[];for(let S=0;S<A.length;S++){const y=A[S];switch(y.mode){case t.NUMERIC:b.push([y,{data:y.data,mode:t.ALPHANUMERIC,length:y.length},{data:y.data,mode:t.BYTE,length:y.length}]);break;case t.ALPHANUMERIC:b.push([y,{data:y.data,mode:t.BYTE,length:y.length}]);break;case t.KANJI:b.push([y,{data:y.data,mode:t.BYTE,length:u(y.data)}]);break;case t.BYTE:b.push([{data:y.data,mode:t.BYTE,length:u(y.data)}])}}return b}function E(A,b){const S={},y={start:{}};let x=["start"];for(let p=0;p<A.length;p++){const l=A[p],m=[];for(let M=0;M<l.length;M++){const L=l[M],U=""+p+M;m.push(U),S[U]={node:L,lastCount:0},y[U]={};for(let j=0;j<x.length;j++){const F=x[j];S[F]&&S[F].node.mode===L.mode?(y[F][U]=d(S[F].lastCount+L.length,L.mode)-d(S[F].lastCount,L.mode),S[F].lastCount+=L.length):(S[F]&&(S[F].lastCount=L.length),y[F][U]=d(L.length,L.mode)+4+t.getCharCountIndicator(L.mode,b))}}x=m}for(let p=0;p<x.length;p++)y[x[p]].end=0;return{map:y,table:S}}function C(A,b){let S;const y=t.getBestModeForData(A);if(S=t.from(b,y),S!==t.BYTE&&S.bit<y.bit)throw new Error('"'+A+'" cannot be encoded with mode '+t.toString(S)+`.
 Suggested mode is: `+t.toString(y));switch(S===t.KANJI&&!a.isKanjiModeEnabled()&&(S=t.BYTE),S){case t.NUMERIC:return new r(A);case t.ALPHANUMERIC:return new n(A);case t.KANJI:return new s(A);case t.BYTE:return new i(A)}}e.fromArray=function(b){return b.reduce(function(S,y){return typeof y=="string"?S.push(C(y,null)):y.data&&S.push(C(y.data,y.mode)),S},[])},e.fromString=function(b,S){const y=g(b,a.isKanjiModeEnabled()),x=v(y),p=E(x,S),l=c.find_path(p.map,"start","end"),m=[];for(let M=1;M<l.length-1;M++)m.push(p.table[l[M]].node);return e.fromArray(w(m))},e.rawSplit=function(b){return e.fromArray(g(b,a.isKanjiModeEnabled()))}})(Jd);const to=Xt,Fc=Ys,nE=L5,iE=M5,sE=Fd,oE=Bd,Bc=zd,kc=Js,aE=j5,ro=Hd,cE=Kd,lE=Vr,zc=Jd;function uE(e,t){const r=e.size,n=oE.getPositions(t);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(s+a,o+c,!0,!0):e.set(s+a,o+c,!1,!0))}}function hE(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function fE(e,t){const r=sE.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(i+o,s+a,!0,!0):e.set(i+o,s+a,!1,!0)}}function dE(e,t){const r=e.size,n=ro.getEncodedBits(t);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,e.set(i,s,o,!0),e.set(s,i,o,!0)}function Wc(e,t,r){const n=e.size,i=cE.getEncodedBits(t,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(n-15+s,8,o,!0),s<8?e.set(8,n-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(n-8,8,1,!0)}function pE(e,t){const r=e.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,a-c)){let u=!1;o<t.length&&(u=(t[o]>>>s&1)===1),e.set(i,a-c,u),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function gE(e,t,r){const n=new nE;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),lE.getCharCountIndicator(c.mode,e)),c.write(n)});const i=to.getSymbolTotalCodewords(e),s=kc.getTotalCodewordsCount(e,t),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return mE(n,e,t)}function mE(e,t,r){const n=to.getSymbolTotalCodewords(t),i=kc.getTotalCodewordsCount(t,r),s=n-i,o=kc.getBlocksCount(t,r),a=n%o,c=o-a,u=Math.floor(n/o),f=Math.floor(s/o),g=f+1,d=u-f,w=new aE(d);let v=0;const E=new Array(o),C=new Array(o);let A=0;const b=new Uint8Array(e.buffer);for(let l=0;l<o;l++){const m=l<c?f:g;E[l]=b.slice(v,v+m),C[l]=w.encode(E[l]),v+=m,A=Math.max(A,m)}const S=new Uint8Array(n);let y=0,x,p;for(x=0;x<A;x++)for(p=0;p<o;p++)x<E[p].length&&(S[y++]=E[p][x]);for(x=0;x<d;x++)for(p=0;p<o;p++)S[y++]=C[p][x];return S}function yE(e,t,r,n){let i;if(Array.isArray(e))i=zc.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const f=zc.rawSplit(e);u=ro.getBestVersionForData(f,r)}i=zc.fromString(e,u||40)}else throw new Error("Invalid data");const s=ro.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=gE(t,r,i),a=to.getSymbolSize(t),c=new iE(a);return uE(c,t),hE(c),fE(c,t),Wc(c,r,0),t>=7&&dE(c,t),pE(c,o),isNaN(n)&&(n=Bc.getBestMask(c,Wc.bind(null,c,r))),Bc.applyMask(n,c),Wc(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}Ud.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Fc.M,i,s;return typeof r<"u"&&(n=Fc.from(r.errorCorrectionLevel,Fc.M),i=ro.from(r.version),s=Bc.from(r.maskPattern),r.toSJISFunc&&to.setToSJISFunction(r.toSJISFunc)),yE(t,i,n,s)};var Xd={},Vc={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const s=e.getScale(n,i);return Math.floor((n+i.margin*2)*s)},e.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=e.getScale(o,s),u=Math.floor((o+s.margin*2)*c),f=s.margin*c,g=[s.color.light,s.color.dark];for(let d=0;d<u;d++)for(let w=0;w<u;w++){let v=(d*u+w)*4,E=s.color.light;if(d>=f&&w>=f&&d<u-f&&w<u-f){const C=Math.floor((d-f)/c),A=Math.floor((w-f)/c);E=g[a[C*o+A]?1:0]}n[v++]=E.r,n[v++]=E.g,n[v++]=E.b,n[v]=E.a}}})(Vc),function(e){const t=Vc;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=t.getOptions(c);const f=t.getImageWidth(s.modules.size,c),g=u.getContext("2d"),d=g.createImageData(f,f);return t.qrToImageData(d.data,s,c),r(g,u,f),g.putImageData(d,0,0),u},e.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(s,o,c),f=c.type||"image/png",g=c.rendererOpts||{};return u.toDataURL(f,g.quality)}}(Xd);var Qd={};const wE=Vc;function e0(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Hc(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function vE(e,t,r){let n="",i=0,s=!1,o=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),u=Math.floor(a/t);!c&&!s&&(s=!0),e[a]?(o++,a>0&&c>0&&e[a-1]||(n+=s?Hc("M",c+r,.5+u+r):Hc("m",i,0),i=0,s=!1),c+1<t&&e[a+1]||(n+=Hc("h",o),o=0)):i++}return n}Qd.render=function(t,r,n){const i=wE.getOptions(r),s=t.modules.size,o=t.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+e0(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+e0(i.color.dark,"stroke")+' d="'+vE(o,s,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,d),d};const bE=R5,qc=Ud,t0=Xd,_E=Qd;function Kc(e,t,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!bE())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const f=qc.create(r,n);c(e(f,t,n))}catch(f){u(f)}})}try{const c=qc.create(r,n);i(null,e(c,t,n))}catch(c){i(c)}}Gi.create=qc.create,Gi.toCanvas=Kc.bind(null,t0.render),Gi.toDataURL=Kc.bind(null,t0.renderToDataURL),Gi.toString=Kc.bind(null,function(e,t,r){return _E.render(e,r)});var EE=Object.defineProperty,r0=Object.getOwnPropertySymbols,SE=Object.prototype.hasOwnProperty,xE=Object.prototype.propertyIsEnumerable,n0=(e,t,r)=>t in e?EE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gc=(e,t)=>{for(var r in t||(t={}))SE.call(t,r)&&n0(e,r,t[r]);if(r0)for(var r of r0(t))xE.call(t,r)&&n0(e,r,t[r]);return e};function OE(){var e;const t=(e=Rr.state.themeMode)!=null?e:"dark",r={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[t];return{"--wcm-color-fg-1":r.foreground[1],"--wcm-color-fg-2":r.foreground[2],"--wcm-color-fg-3":r.foreground[3],"--wcm-color-bg-1":r.background[1],"--wcm-color-bg-2":r.background[2],"--wcm-color-bg-3":r.background[3],"--wcm-color-overlay":r.overlay}}function i0(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const Pe={getPreset(e){return i0()[e]},setTheme(){const e=document.querySelector(":root"),{themeVariables:t}=Rr.state;if(e){const r=Gc(Gc(Gc({},OE()),i0()),t);Object.entries(r).forEach(([n,i])=>e.style.setProperty(n,i))}},globalCss:ze`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},DE=ze`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var IE=Object.defineProperty,CE=Object.getOwnPropertyDescriptor,Qn=(e,t,r,n)=>{for(var i=n>1?void 0:n?CE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&IE(t,r,i),i};let Hr=class extends Ee{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const e={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let t="inverse";return this.variant==="ghost"&&(t="secondary"),this.variant==="outline"&&(t="accent"),J`<button class="${Ir(e)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${t}"><slot></slot></wcm-text>${this.iconRight}</button>`}};Hr.styles=[Pe.globalCss,DE],Qn([pe({type:Boolean})],Hr.prototype,"disabled",2),Qn([pe()],Hr.prototype,"iconLeft",2),Qn([pe()],Hr.prototype,"iconRight",2),Qn([pe()],Hr.prototype,"onClick",2),Qn([pe()],Hr.prototype,"variant",2),Hr=Qn([Re("wcm-button")],Hr);const AE=ze`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var $E=Object.defineProperty,TE=Object.getOwnPropertyDescriptor,Yc=(e,t,r,n)=>{for(var i=n>1?void 0:n?TE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&$E(t,r,i),i};let Xi=class extends Ee{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const e={"wcm-secondary":this.variant==="secondary"};return J`<button ?disabled="${this.disabled}" class="${Ir(e)}"><slot></slot></button>`}};Xi.styles=[Pe.globalCss,AE],Yc([pe({type:Boolean})],Xi.prototype,"disabled",2),Yc([pe()],Xi.prototype,"variant",2),Xi=Yc([Re("wcm-button-big")],Xi);const PE=ze`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var RE=Object.defineProperty,NE=Object.getOwnPropertyDescriptor,LE=(e,t,r,n)=>{for(var i=n>1?void 0:n?NE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&RE(t,r,i),i};let Jc=class extends Ee{render(){return J`<div><slot></slot></div>`}};Jc.styles=[Pe.globalCss,PE],Jc=LE([Re("wcm-info-footer")],Jc);const We={CROSS_ICON:st`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:st`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:st`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:st`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:st`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:st`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:st`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:st`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:st`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:st`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:st`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:st`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:st`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:st`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:st`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:st`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:st`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:st`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},ME=ze`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var UE=Object.defineProperty,jE=Object.getOwnPropertyDescriptor,FE=(e,t,r,n)=>{for(var i=n>1?void 0:n?jE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&UE(t,r,i),i};let Zc=class extends Ee{render(){return J`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${We.WALLET_CONNECT_LOGO} <button @click="${nn.close}">${We.CROSS_ICON}</button></div>`}};Zc.styles=[Pe.globalCss,ME],Zc=FE([Re("wcm-modal-backcard")],Zc);const BE=ze`main{padding:20px;padding-top:0;width:100%}`;var kE=Object.defineProperty,zE=Object.getOwnPropertyDescriptor,WE=(e,t,r,n)=>{for(var i=n>1?void 0:n?zE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&kE(t,r,i),i};let Xc=class extends Ee{render(){return J`<main><slot></slot></main>`}};Xc.styles=[Pe.globalCss,BE],Xc=WE([Re("wcm-modal-content")],Xc);const VE=ze`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var HE=Object.defineProperty,qE=Object.getOwnPropertyDescriptor,KE=(e,t,r,n)=>{for(var i=n>1?void 0:n?qE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&HE(t,r,i),i};let Qc=class extends Ee{render(){return J`<footer><slot></slot></footer>`}};Qc.styles=[Pe.globalCss,VE],Qc=KE([Re("wcm-modal-footer")],Qc);const GE=ze`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var YE=Object.defineProperty,JE=Object.getOwnPropertyDescriptor,Qi=(e,t,r,n)=>{for(var i=n>1?void 0:n?JE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&YE(t,r,i),i};let xn=class extends Ee{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return J`<button class="wcm-back-btn" @click="${et.goBack}">${We.BACK_ICON}</button>`}actionBtnTemplate(){return J`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const e={"wcm-border":this.border},t=et.state.history.length>1,r=this.title?J`<wcm-text variant="big-bold">${this.title}</wcm-text>`:J`<slot></slot>`;return J`<header class="${Ir(e)}">${t?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};xn.styles=[Pe.globalCss,GE],Qi([pe()],xn.prototype,"title",2),Qi([pe()],xn.prototype,"onAction",2),Qi([pe()],xn.prototype,"actionIcon",2),Qi([pe({type:Boolean})],xn.prototype,"border",2),xn=Qi([Re("wcm-modal-header")],xn);const ue={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(e,t){const r=e.renderRoot.querySelector(t);if(!r)throw new Error(`${t} not found`);return r},getWalletIcon({id:e,image_id:t}){const{walletImages:r}=Gt.state;return r!=null&&r[e]?r[e]:t?Wt.getWalletImageUrl(t):""},getWalletName(e,t=!1){return t&&e.length>8?`${e.substring(0,8)}..`:e},isMobileAnimation(){return window.innerWidth<=ue.MOBILE_BREAKPOINT},async preloadImage(e){const t=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=e});return Promise.race([t,ne.wait(3e3)])},getErrorMessage(e){return e instanceof Error?e.message:"Unknown Error"},debounce(e,t=500){let r;return(...n)=>{function i(){e(...n)}r&&clearTimeout(r),r=setTimeout(i,t)}},handleMobileLinking(e){const{walletConnectUri:t}=ht.state,{mobile:r,name:n}=e,i=r==null?void 0:r.native,s=r==null?void 0:r.universal;ue.setRecentWallet(e);function o(a){let c="";i?c=ne.formatUniversalUrl(i,a,n):s&&(c=ne.formatNativeUrl(s,a,n)),ne.openHref(c,"_self")}t&&o(t)},handleAndroidLinking(){const{walletConnectUri:e}=ht.state;e&&(ne.setWalletConnectAndroidDeepLink(e),ne.openHref(e,"_self"))},async handleUriCopy(){const{walletConnectUri:e}=ht.state;if(e)try{await navigator.clipboard.writeText(e),Nr.openToast("Link copied","success")}catch{Nr.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:e}=Gt.state,t=Object.values(e??{});return Object.values(t)},truncate(e,t=8){return e.length<=t?e:`${e.substring(0,4)}...${e.substring(e.length-4)}`},setRecentWallet(e){try{localStorage.setItem(ue.WCM_RECENT_WALLET_DATA,JSON.stringify(e))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const e=localStorage.getItem(ue.WCM_RECENT_WALLET_DATA);return e?JSON.parse(e):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(e,t){return e.toUpperCase().includes(t.toUpperCase())},openWalletExplorerUrl(){ne.openHref(ue.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:e,mobile:t}=ne.getWalletRouterData(),r=!!(e!=null&&e.native),n=!!(e!=null&&e.universal),i=!!(t!=null&&t.native)||!!(t!=null&&t.universal);return{isDesktop:r,isMobile:i,isWeb:n}},goToConnectingView(e){et.setData({Wallet:e});const t=ne.isMobile(),{isDesktop:r,isWeb:n,isMobile:i}=ue.getCachedRouterWalletPlatforms();t?i?et.push("MobileConnecting"):n?et.push("WebConnecting"):et.push("InstallWallet"):r?et.push("DesktopConnecting"):n?et.push("WebConnecting"):i?et.push("MobileQrcodeConnecting"):et.push("InstallWallet")}},ZE=ze`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var XE=Object.defineProperty,QE=Object.getOwnPropertyDescriptor,el=(e,t,r,n)=>{for(var i=n>1?void 0:n?QE(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&XE(t,r,i),i};let es=class extends Ee{constructor(){super(),this.view=et.state.view,this.prevView=et.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=et.subscribe(e=>{this.view!==e.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([e])=>{const t=`${e.contentRect.height}px`;this.oldHeight!=="0px"&&Sn(this.routerEl,{height:[this.oldHeight,t]},{duration:.2}),this.oldHeight=t}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var e,t;(e=this.unsubscribe)==null||e.call(this),(t=this.resizeObserver)==null||t.disconnect()}get routerEl(){return ue.getShadowRootElement(this,".wcm-router")}get contentEl(){return ue.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return J`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return J`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return J`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return J`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return J`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return J`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return J`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return J`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return J`<div>Not Found</div>`}}async onChangeRoute(){await Sn(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=et.state.view,Sn(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return J`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};es.styles=[Pe.globalCss,ZE],el([qt()],es.prototype,"view",2),el([qt()],es.prototype,"prevView",2),es=el([Re("wcm-modal-router")],es);const e6=ze`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var t6=Object.defineProperty,r6=Object.getOwnPropertyDescriptor,s0=(e,t,r,n)=>{for(var i=n>1?void 0:n?r6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&t6(t,r,i),i};let no=class extends Ee{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=Nr.subscribe(e=>{e.open?(this.open=!0,this.timeout=setTimeout(()=>Nr.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var e;(e=this.unsubscribe)==null||e.call(this),clearTimeout(this.timeout),Nr.closeToast()}render(){const{message:e,variant:t}=Nr.state,r={"wcm-success":t==="success","wcm-error":t==="error"};return this.open?J`<div class="${Ir(r)}">${t==="success"?We.CHECKMARK_ICON:null} ${t==="error"?We.CROSS_ICON:null}<wcm-text variant="small-regular">${e}</wcm-text></div>`:null}};no.styles=[Pe.globalCss,e6],s0([qt()],no.prototype,"open",2),no=s0([Re("wcm-modal-toast")],no);const n6=.1,o0=2.5,Cr=7;function tl(e,t,r){return e===t?!1:(e-t<0?t-e:e-t)<=r+n6}function i6(e,t){const r=Array.prototype.slice.call(Gi.create(e,{errorCorrectionLevel:t}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const s6={generate(e,t,r){const n="#141414",i="#ffffff",s=[],o=i6(e,"Q"),a=t/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach(({x:v,y:E})=>{const C=(o.length-Cr)*a*v,A=(o.length-Cr)*a*E,b=.45;for(let S=0;S<c.length;S+=1){const y=a*(Cr-S*2);s.push(st`<rect fill="${S%2===0?n:i}" height="${y}" rx="${y*b}" ry="${y*b}" width="${y}" x="${C+a*S}" y="${A+a*S}">`)}});const u=Math.floor((r+25)/a),f=o.length/2-u/2,g=o.length/2+u/2-1,d=[];o.forEach((v,E)=>{v.forEach((C,A)=>{if(o[E][A]&&!(E<Cr&&A<Cr||E>o.length-(Cr+1)&&A<Cr||E<Cr&&A>o.length-(Cr+1))&&!(E>f&&E<g&&A>f&&A<g)){const b=E*a+a/2,S=A*a+a/2;d.push([b,S])}})});const w={};return d.forEach(([v,E])=>{w[v]?w[v].push(E):w[v]=[E]}),Object.entries(w).map(([v,E])=>{const C=E.filter(A=>E.every(b=>!tl(A,b,a)));return[Number(v),C]}).forEach(([v,E])=>{E.forEach(C=>{s.push(st`<circle cx="${v}" cy="${C}" fill="${n}" r="${a/o0}">`)})}),Object.entries(w).filter(([v,E])=>E.length>1).map(([v,E])=>{const C=E.filter(A=>E.some(b=>tl(A,b,a)));return[Number(v),C]}).map(([v,E])=>{E.sort((A,b)=>A<b?-1:1);const C=[];for(const A of E){const b=C.find(S=>S.some(y=>tl(A,y,a)));b?b.push(A):C.push([A])}return[v,C.map(A=>[A[0],A[A.length-1]])]}).forEach(([v,E])=>{E.forEach(([C,A])=>{s.push(st`<line x1="${v}" x2="${v}" y1="${C}" y2="${A}" stroke="${n}" stroke-width="${a/(o0/2)}" stroke-linecap="round">`)})}),s}},o6=ze`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var a6=Object.defineProperty,c6=Object.getOwnPropertyDescriptor,ei=(e,t,r,n)=>{for(var i=n>1?void 0:n?c6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&a6(t,r,i),i};let Ar=class extends Ee{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const e=Rr.state.themeMode==="light"?this.size:this.size-36;return st`<svg height="${e}" width="${e}">${s6.generate(this.uri,e,e/4)}</svg>`}render(){const e={"wcm-dark":Rr.state.themeMode==="dark"};return J`<div style="${`width: ${this.size}px`}" class="${Ir(e)}">${this.walletId||this.imageUrl?J`<wcm-wallet-image walletId="${zt(this.walletId)}" imageId="${zt(this.imageId)}" imageUrl="${zt(this.imageUrl)}"></wcm-wallet-image>`:We.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Ar.styles=[Pe.globalCss,o6],ei([pe()],Ar.prototype,"uri",2),ei([pe({type:Number})],Ar.prototype,"size",2),ei([pe()],Ar.prototype,"imageId",2),ei([pe()],Ar.prototype,"walletId",2),ei([pe()],Ar.prototype,"imageUrl",2),Ar=ei([Re("wcm-qrcode")],Ar);const l6=ze`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var u6=Object.defineProperty,h6=Object.getOwnPropertyDescriptor,a0=(e,t,r,n)=>{for(var i=n>1?void 0:n?h6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&u6(t,r,i),i};let io=class extends Ee{constructor(){super(...arguments),this.onChange=()=>null}render(){return J`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${We.SEARCH_ICON}`}};io.styles=[Pe.globalCss,l6],a0([pe()],io.prototype,"onChange",2),io=a0([Re("wcm-search-input")],io);const f6=ze`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var d6=Object.defineProperty,p6=Object.getOwnPropertyDescriptor,g6=(e,t,r,n)=>{for(var i=n>1?void 0:n?p6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&d6(t,r,i),i};let rl=class extends Ee{render(){return J`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};rl.styles=[Pe.globalCss,f6],rl=g6([Re("wcm-spinner")],rl);const m6=ze`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var y6=Object.defineProperty,w6=Object.getOwnPropertyDescriptor,nl=(e,t,r,n)=>{for(var i=n>1?void 0:n?w6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&y6(t,r,i),i};let ts=class extends Ee{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const e={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return J`<span><slot class="${Ir(e)}"></slot></span>`}};ts.styles=[Pe.globalCss,m6],nl([pe()],ts.prototype,"variant",2),nl([pe()],ts.prototype,"color",2),ts=nl([Re("wcm-text")],ts);const v6=ze`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var b6=Object.defineProperty,_6=Object.getOwnPropertyDescriptor,qr=(e,t,r,n)=>{for(var i=n>1?void 0:n?_6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&b6(t,r,i),i};let _r=class extends Ee{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?J`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?J`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){_l.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var e;return J`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${zt(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(e=this.label)!=null?e:ue.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};_r.styles=[Pe.globalCss,v6],qr([pe()],_r.prototype,"onClick",2),qr([pe()],_r.prototype,"name",2),qr([pe()],_r.prototype,"walletId",2),qr([pe()],_r.prototype,"label",2),qr([pe()],_r.prototype,"imageId",2),qr([pe({type:Boolean})],_r.prototype,"installed",2),qr([pe({type:Boolean})],_r.prototype,"recent",2),_r=qr([Re("wcm-wallet-button")],_r);const E6=ze`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var S6=Object.defineProperty,x6=Object.getOwnPropertyDescriptor,so=(e,t,r,n)=>{for(var i=n>1?void 0:n?x6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&S6(t,r,i),i};let ti=class extends Ee{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var e;const t=(e=this.imageUrl)!=null&&e.length?this.imageUrl:ue.getWalletIcon({id:this.walletId,image_id:this.imageId});return J`${t.length?J`<div><img crossorigin="anonymous" src="${t}" alt="${this.id}"></div>`:We.WALLET_PLACEHOLDER}`}};ti.styles=[Pe.globalCss,E6],so([pe()],ti.prototype,"walletId",2),so([pe()],ti.prototype,"imageId",2),so([pe()],ti.prototype,"imageUrl",2),ti=so([Re("wcm-wallet-image")],ti);var O6=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,c0=(e,t,r,n)=>{for(var i=n>1?void 0:n?D6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&O6(t,r,i),i};let il=class extends Ee{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(e){try{e!=null&&e.length&&await Promise.all(e.map(async t=>ue.preloadImage(t)))}catch{console.info("Unsuccessful attempt at preloading some images",e)}}async preloadListings(){if(Gt.state.enableExplorer){await Wt.getRecomendedWallets(),ht.setIsDataLoaded(!0);const{recomendedWallets:e}=Wt.state,t=e.map(r=>ue.getWalletIcon(r));await this.loadImages(t)}else ht.setIsDataLoaded(!0)}async preloadCustomImages(){const e=ue.getCustomImageUrls();await this.loadImages(e)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(e){console.error(e),Nr.openToast("Failed preloading","error")}}};c0([qt()],il.prototype,"preload",2),il=c0([Re("wcm-explorer-context")],il);var I6=Object.defineProperty,C6=Object.getOwnPropertyDescriptor,A6=(e,t,r,n)=>{for(var i=n>1?void 0:n?C6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&I6(t,r,i),i};let l0=class extends Ee{constructor(){super(),this.unsubscribeTheme=void 0,Pe.setTheme(),this.unsubscribeTheme=Rr.subscribe(Pe.setTheme)}disconnectedCallback(){var e;(e=this.unsubscribeTheme)==null||e.call(this)}};l0=A6([Re("wcm-theme-context")],l0);const $6=ze`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var T6=Object.defineProperty,P6=Object.getOwnPropertyDescriptor,R6=(e,t,r,n)=>{for(var i=n>1?void 0:n?P6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&T6(t,r,i),i};let sl=class extends Ee{onGoToQrcode(){et.push("Qrcode")}render(){const{recomendedWallets:e}=Wt.state,t=[...e,...e],r=ne.RECOMMENDED_WALLET_AMOUNT*2;return J`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${We.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${We.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(r)].map((n,i)=>{const s=t[i%t.length];return s?J`<wcm-wallet-image walletId="${s.id}" imageId="${s.image_id}"></wcm-wallet-image>`:We.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${ue.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};sl.styles=[Pe.globalCss,$6],sl=R6([Re("wcm-android-wallet-selection")],sl);const N6=ze`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var L6=Object.defineProperty,M6=Object.getOwnPropertyDescriptor,ri=(e,t,r,n)=>{for(var i=n>1?void 0:n?M6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&L6(t,r,i),i};let Kr=class extends Ee{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var e,t;const r=(t=(e=Rr.state.themeVariables)==null?void 0:e["--wcm-wallet-icon-large-border-radius"])!=null?t:Pe.getPreset("--wcm-wallet-icon-large-border-radius");let n=0;r.includes("%")?n=88/100*parseInt(r,10):n=parseInt(r,10),n*=1.17;const i=317-n*1.57,s=425-n*1.8;return J`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${n}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${i}" stroke-dashoffset="${s}"></use></svg>`}render(){const e={"wcm-error":this.isError,"wcm-stale":this.isStale};return J`<div class="${Ir(e)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${zt(this.walletId)}" imageId="${zt(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Kr.styles=[Pe.globalCss,N6],ri([pe()],Kr.prototype,"walletId",2),ri([pe()],Kr.prototype,"imageId",2),ri([pe({type:Boolean})],Kr.prototype,"isError",2),ri([pe({type:Boolean})],Kr.prototype,"isStale",2),ri([pe()],Kr.prototype,"label",2),Kr=ri([Re("wcm-connector-waiting")],Kr);const ni={manualWallets(){var e,t;const{mobileWallets:r,desktopWallets:n}=Gt.state,i=(e=ni.recentWallet())==null?void 0:e.id,s=ne.isMobile()?r:n,o=s==null?void 0:s.filter(a=>i!==a.id);return(t=ne.isMobile()?o==null?void 0:o.map(({id:a,name:c,links:u})=>({id:a,name:c,mobile:u,links:u})):o==null?void 0:o.map(({id:a,name:c,links:u})=>({id:a,name:c,desktop:u,links:u})))!=null?t:[]},recentWallet(){return ue.getRecentWallet()},recomendedWallets(e=!1){var t;const r=e||(t=ni.recentWallet())==null?void 0:t.id,{recomendedWallets:n}=Wt.state;return n.filter(i=>r!==i.id)}},Gr={onConnecting(e){ue.goToConnectingView(e)},manualWalletsTemplate(){return ni.manualWallets().map(e=>J`<wcm-wallet-button walletId="${e.id}" name="${e.name}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(e=!1){return ni.recomendedWallets(e).map(t=>J`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${t.image_id}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`)},recentWalletTemplate(){const e=ni.recentWallet();if(e)return J`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${zt(e.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`}},U6=ze`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var j6=Object.defineProperty,F6=Object.getOwnPropertyDescriptor,B6=(e,t,r,n)=>{for(var i=n>1?void 0:n?F6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&j6(t,r,i),i};let ol=class extends Ee{render(){const{explorerExcludedWalletIds:e,enableExplorer:t}=Gt.state,r=e!=="ALL"&&t,n=Gr.manualWalletsTemplate(),i=Gr.recomendedWalletsTemplate();let s=[Gr.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>4||r;let a=[];o?a=s.slice(0,3):a=s;const c=!!a.length;return J`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${ue.handleUriCopy}" .actionIcon="${We.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${We.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${We.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${c?J`<wcm-modal-footer><div class="wcm-desktop-title">${We.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${a} ${o?J`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};ol.styles=[Pe.globalCss,U6],ol=B6([Re("wcm-desktop-wallet-selection")],ol);const k6=ze`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var z6=Object.defineProperty,W6=Object.getOwnPropertyDescriptor,V6=(e,t,r,n)=>{for(var i=n>1?void 0:n?W6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&z6(t,r,i),i};let al=class extends Ee{render(){const{termsOfServiceUrl:e,privacyPolicyUrl:t}=Gt.state;return e??t?J`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${e?J`<a href="${e}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${e&&t?"and":null} ${t?J`<a href="${t}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};al.styles=[Pe.globalCss,k6],al=V6([Re("wcm-legal-notice")],al);const H6=ze`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var q6=Object.defineProperty,K6=Object.getOwnPropertyDescriptor,G6=(e,t,r,n)=>{for(var i=n>1?void 0:n?K6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&q6(t,r,i),i};let cl=class extends Ee{onQrcode(){et.push("Qrcode")}render(){const{explorerExcludedWalletIds:e,enableExplorer:t}=Gt.state,r=e!=="ALL"&&t,n=Gr.manualWalletsTemplate(),i=Gr.recomendedWalletsTemplate();let s=[Gr.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>8||r;let a=[];o?a=s.slice(0,7):a=s;const c=!!a.length;return J`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${We.QRCODE_ICON}"></wcm-modal-header>${c?J`<wcm-modal-content><div>${a} ${o?J`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};cl.styles=[Pe.globalCss,H6],cl=G6([Re("wcm-mobile-wallet-selection")],cl);const Y6=ze`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var J6=Object.defineProperty,Z6=Object.getOwnPropertyDescriptor,ll=(e,t,r,n)=>{for(var i=n>1?void 0:n?Z6(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&J6(t,r,i),i};let ii=class extends Ee{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=nn.subscribe(e=>{e.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var e;(e=this.unsubscribeModal)==null||e.call(this)}get overlayEl(){return ue.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return ue.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(e){if(document.querySelector("body"))if(e){const t=document.getElementById("wcm-styles");t==null||t.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(e){e.target===e.currentTarget&&nn.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const e=ue.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},t=.1,r=.2;await Promise.all([Sn(this.overlayEl,{opacity:[0,1]},{delay:t,duration:r}).finished,Sn(this.containerEl,e,{delay:t,duration:r}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const e=ue.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},t=.2;await Promise.all([Sn(this.overlayEl,{opacity:[1,0]},{duration:t}).finished,Sn(this.containerEl,e,{duration:t}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",e=>{var t;e.key==="Escape"?nn.close():e.key==="Tab"&&((t=e.target)!=null&&t.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var e;(e=this.abortController)==null||e.abort(),this.abortController=void 0}render(){const e={"wcm-overlay":!0,"wcm-active":this.active};return J`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${Ir(e)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?J`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};ii.styles=[Pe.globalCss,Y6],ll([qt()],ii.prototype,"open",2),ll([qt()],ii.prototype,"active",2),ii=ll([Re("wcm-modal")],ii);const X6=ze`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var Q6=Object.defineProperty,e4=Object.getOwnPropertyDescriptor,rs=(e,t,r,n)=>{for(var i=n>1?void 0:n?e4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&Q6(t,r,i),i};let On=class extends Ee{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){ne.isMobile()?et.replace("MobileConnecting"):et.replace("MobileQrcodeConnecting")}onDesktop(){et.replace("DesktopConnecting")}onWeb(){et.replace("WebConnecting")}render(){return J`<div>${this.isRetry?J`<slot></slot>`:null} ${this.isMobile?J`<wcm-button .onClick="${this.onMobile}" .iconLeft="${We.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?J`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${We.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?J`<wcm-button .onClick="${this.onWeb}" .iconLeft="${We.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};On.styles=[Pe.globalCss,X6],rs([pe({type:Boolean})],On.prototype,"isMobile",2),rs([pe({type:Boolean})],On.prototype,"isDesktop",2),rs([pe({type:Boolean})],On.prototype,"isWeb",2),rs([pe({type:Boolean})],On.prototype,"isRetry",2),On=rs([Re("wcm-platform-selection")],On);const t4=ze`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var r4=Object.defineProperty,n4=Object.getOwnPropertyDescriptor,i4=(e,t,r,n)=>{for(var i=n>1?void 0:n?n4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&r4(t,r,i),i};let ul=class extends Ee{onClick(){et.push("WalletExplorer")}render(){const{recomendedWallets:e}=Wt.state,t=ni.manualWallets(),r=[...e,...t].reverse().slice(0,4);return J`<button @click="${this.onClick}"><div class="wcm-icons">${r.map(n=>{const i=ue.getWalletIcon(n);if(i)return J`<img crossorigin="anonymous" src="${i}">`;const s=ue.getWalletIcon({id:n.id});return s?J`<img crossorigin="anonymous" src="${s}">`:We.WALLET_PLACEHOLDER})} ${[...Array(4-r.length)].map(()=>We.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};ul.styles=[Pe.globalCss,t4],ul=i4([Re("wcm-view-all-wallets-button")],ul);const s4=ze`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var o4=Object.defineProperty,a4=Object.getOwnPropertyDescriptor,oo=(e,t,r,n)=>{for(var i=n>1?void 0:n?a4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&o4(t,r,i),i};let si=class extends Ee{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:e}=ht.state;this.uri=e},0)}get overlayEl(){return ue.getShadowRootElement(this,".wcm-qr-container")}render(){return J`<div class="wcm-qr-container">${this.uri?J`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${zt(this.walletId)}" imageId="${zt(this.imageId)}"></wcm-qrcode>`:J`<wcm-spinner></wcm-spinner>`}</div>`}};si.styles=[Pe.globalCss,s4],oo([pe()],si.prototype,"walletId",2),oo([pe()],si.prototype,"imageId",2),oo([qt()],si.prototype,"uri",2),si=oo([Re("wcm-walletconnect-qr")],si);var c4=Object.defineProperty,l4=Object.getOwnPropertyDescriptor,u4=(e,t,r,n)=>{for(var i=n>1?void 0:n?l4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&c4(t,r,i),i};let hl=class extends Ee{viewTemplate(){return ne.isAndroid()?J`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:ne.isMobile()?J`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:J`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return J`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};hl.styles=[Pe.globalCss],hl=u4([Re("wcm-connect-wallet-view")],hl);const h4=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var f4=Object.defineProperty,d4=Object.getOwnPropertyDescriptor,u0=(e,t,r,n)=>{for(var i=n>1?void 0:n?d4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&f4(t,r,i),i};let ao=class extends Ee{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(e){const{desktop:t,name:r}=ne.getWalletRouterData(),n=t==null?void 0:t.native;if(n){const i=ne.formatNativeUrl(n,e,r);ne.openHref(i,"_self")}}openDesktopApp(){const{walletConnectUri:e}=ht.state,t=ne.getWalletRouterData();ue.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}render(){const{name:e,id:t,image_id:r}=ne.getWalletRouterData(),{isMobile:n,isWeb:i}=ue.getCachedRouterWalletPlatforms();return J`<wcm-modal-header title="${e}" .onAction="${ue.handleUriCopy}" .actionIcon="${We.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${zt(r)}" label="${`Continue in ${e}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${e} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${We.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};ao.styles=[Pe.globalCss,h4],u0([qt()],ao.prototype,"isError",2),ao=u0([Re("wcm-desktop-connecting-view")],ao);const p4=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var g4=Object.defineProperty,m4=Object.getOwnPropertyDescriptor,y4=(e,t,r,n)=>{for(var i=n>1?void 0:n?m4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&g4(t,r,i),i};let fl=class extends Ee{onInstall(e){e&&ne.openHref(e,"_blank")}render(){const{name:e,id:t,image_id:r,homepage:n}=ne.getWalletRouterData();return J`<wcm-modal-header title="${e}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${zt(r)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${e} to continue. If multiple browser extensions are installed, disable non ${e} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${We.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};fl.styles=[Pe.globalCss,p4],fl=y4([Re("wcm-install-wallet-view")],fl);const w4=ze`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var v4=Object.defineProperty,b4=Object.getOwnPropertyDescriptor,h0=(e,t,r,n)=>{for(var i=n>1?void 0:n?b4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&v4(t,r,i),i};let co=class extends Ee{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(e,t=!1){const{mobile:r,name:n}=ne.getWalletRouterData(),i=r==null?void 0:r.native,s=r==null?void 0:r.universal;if(i&&!t){const o=ne.formatNativeUrl(i,e,n);ne.openHref(o,"_self")}else if(s){const o=ne.formatUniversalUrl(s,e,n);ne.openHref(o,"_self")}}openMobileApp(e=!1){const{walletConnectUri:t}=ht.state,r=ne.getWalletRouterData();ue.setRecentWallet(r),t&&this.onFormatAndRedirect(t,e)}onGoToAppStore(e){e&&ne.openHref(e,"_blank")}render(){const{name:e,id:t,image_id:r,app:n,mobile:i}=ne.getWalletRouterData(),{isWeb:s}=ue.getCachedRouterWalletPlatforms(),o=n==null?void 0:n.ios,a=i==null?void 0:i.universal;return J`<wcm-modal-header title="${e}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${zt(r)}" label="Tap 'Open' to continue" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${We.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${a?J`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${t}" imageId="${zt(r)}"></wcm-wallet-image><wcm-text>${`Get ${e}`}</wcm-text></div><wcm-button .iconRight="${We.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(o)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};co.styles=[Pe.globalCss,w4],h0([qt()],co.prototype,"isError",2),co=h0([Re("wcm-mobile-connecting-view")],co);const _4=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var E4=Object.defineProperty,S4=Object.getOwnPropertyDescriptor,x4=(e,t,r,n)=>{for(var i=n>1?void 0:n?S4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&E4(t,r,i),i};let dl=class extends Ee{render(){const{name:e,id:t,image_id:r}=ne.getWalletRouterData(),{isDesktop:n,isWeb:i}=ue.getCachedRouterWalletPlatforms();return J`<wcm-modal-header title="${e}" .onAction="${ue.handleUriCopy}" .actionIcon="${We.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${t}" imageId="${zt(r)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${e} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};dl.styles=[Pe.globalCss,_4],dl=x4([Re("wcm-mobile-qr-connecting-view")],dl);var O4=Object.defineProperty,D4=Object.getOwnPropertyDescriptor,I4=(e,t,r,n)=>{for(var i=n>1?void 0:n?D4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&O4(t,r,i),i};let pl=class extends Ee{render(){return J`<wcm-modal-header title="Scan the code" .onAction="${ue.handleUriCopy}" .actionIcon="${We.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};pl.styles=[Pe.globalCss],pl=I4([Re("wcm-qrcode-view")],pl);const C4=ze`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var A4=Object.defineProperty,$4=Object.getOwnPropertyDescriptor,ns=(e,t,r,n)=>{for(var i=n>1?void 0:n?$4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&A4(t,r,i),i};const gl=40;let Dn=class extends Ee{constructor(){super(...arguments),this.loading=!Wt.state.wallets.listings.length,this.firstFetch=!Wt.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=ue.debounce(e=>{e.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=e,Wt.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),Wt.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var e;(e=this.intersectionObserver)==null||e.disconnect()}get placeholderEl(){return ue.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([e])=>{e.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:e,search:t}=Wt.state,{listings:r,total:n}=this.search?t:e;return n<=gl||r.length>=n}async fetchWallets(){var e;const{wallets:t,search:r}=Wt.state,{listings:n,total:i,page:s}=this.search?r:t;if(!this.endReached&&(this.firstFetch||i>gl&&n.length<i))try{this.loading=!0;const o=(e=ht.state.chains)==null?void 0:e.join(","),{listings:a}=await Wt.getWallets({page:this.firstFetch?1:s+1,entries:gl,search:this.search,version:2,chains:o}),c=a.map(u=>ue.getWalletIcon(u));await Promise.all([...c.map(async u=>ue.preloadImage(u)),ne.wait(300)]),this.endReached=this.isLastPage()}catch(o){console.error(o),Nr.openToast(ue.getErrorMessage(o),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(e){ne.isAndroid()?ue.handleMobileLinking(e):ue.goToConnectingView(e)}onSearchChange(e){const{value:t}=e.target;this.searchDebounce(t)}render(){const{wallets:e,search:t}=Wt.state,{listings:r}=this.search?t:e,n=this.loading&&!r.length,i=this.search.length>=3;let s=Gr.manualWalletsTemplate(),o=Gr.recomendedWalletsTemplate(!0);i&&(s=s.filter(({values:u})=>ue.caseSafeIncludes(u[0],this.search)),o=o.filter(({values:u})=>ue.caseSafeIncludes(u[0],this.search)));const a=!this.loading&&!r.length&&!o.length,c={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":a};return J`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${Ir(c)}"><div class="wcm-grid">${n?null:s} ${n?null:o} ${n?null:r.map(u=>J`${u?J`<wcm-wallet-button imageId="${u.image_id}" name="${u.name}" walletId="${u.id}" .onClick="${()=>this.onConnect(u)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${a?J`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!a&&this.loading?J`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Dn.styles=[Pe.globalCss,C4],ns([qt()],Dn.prototype,"loading",2),ns([qt()],Dn.prototype,"firstFetch",2),ns([qt()],Dn.prototype,"search",2),ns([qt()],Dn.prototype,"endReached",2),Dn=ns([Re("wcm-wallet-explorer-view")],Dn);const T4=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var P4=Object.defineProperty,R4=Object.getOwnPropertyDescriptor,f0=(e,t,r,n)=>{for(var i=n>1?void 0:n?R4(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&P4(t,r,i),i};let lo=class extends Ee{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(e){const{desktop:t,name:r}=ne.getWalletRouterData(),n=t==null?void 0:t.universal;if(n){const i=ne.formatUniversalUrl(n,e,r);ne.openHref(i,"_blank")}}openWebWallet(){const{walletConnectUri:e}=ht.state,t=ne.getWalletRouterData();ue.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}render(){const{name:e,id:t,image_id:r}=ne.getWalletRouterData(),{isMobile:n,isDesktop:i}=ue.getCachedRouterWalletPlatforms(),s=ne.isMobile();return J`<wcm-modal-header title="${e}" .onAction="${ue.handleUriCopy}" .actionIcon="${We.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${zt(r)}" label="${`Continue in ${e}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${e} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${s?!1:i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${We.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};lo.styles=[Pe.globalCss,T4],f0([qt()],lo.prototype,"isError",2),lo=f0([Re("wcm-web-connecting-view")],lo);const N4=Object.freeze(Object.defineProperty({__proto__:null,get WcmModal(){return ii},get WcmQrCode(){return Ar}},Symbol.toStringTag,{value:"Module"}));Me.Asset=D3,Me.AssetType=ed,Me.DAI_ABI=C3,Me.DAI_ADDRESS=I3,Me.PuzzleWalletProvider=V_,Me.PuzzleWeb3Modal=W_,Me.fromBaseUnits=Qf,Me.projectId=Pf,Me.signClient_puzzleProps=z_,Me.toBaseUnits=x3,Me.useAccount=g3,Me.useBalance=m3,Me.useConnect=y3,Me.useDecrypt=w3,Me.useDeployProgram=v3,Me.useExecuteProgram=b3,Me.useInitWallet=Xf,Me.usePuzzleFees=_3,Me.useRecords=E3,Me.useTransferCredits=S3,Me.walletURL=Ha,Me.wc_aleo_chains=Ls,Me.wc_aleo_methods=Va,Me.wc_aztec_chains=Wa,Me.wc_aztec_methods=Tf,Me.wc_events=Ms,Me.web3modal_puzzle_props=Rf,Object.defineProperty(Me,Symbol.toStringTag,{value:"Module"})});
